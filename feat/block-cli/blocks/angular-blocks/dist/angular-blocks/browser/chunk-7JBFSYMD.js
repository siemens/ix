import{a as d}from"./chunk-Z3LF5N7F.js";import{a as r}from"./chunk-I25UGHIQ.js";import"./chunk-ZX2EE6N2.js";import{a as c,c as s,d as g,e as b,g as l}from"./chunk-L7URYGIT.js";import"./chunk-NWJ5J3BN.js";var p=":host{display:flex;position:relative;width:100%;height:100%}:host *,:host *::after,:host *::before{box-sizing:border-box}:host ::-webkit-scrollbar-button{display:none}@-moz-document url-prefix(){:host *{scrollbar-color:var(--theme-scrollbar-thumb--background) var(--theme-scrollbar-track--background);scrollbar-width:thin}}:host{}:host ::-webkit-scrollbar{width:0.5rem;height:0.5rem}:host{}:host ::-webkit-scrollbar-track{border-radius:5px;background:var(--theme-scrollbar-track--background)}:host ::-webkit-scrollbar-track:hover{background:var(--theme-scrollbar-track--background--hover)}:host{}:host ::-webkit-scrollbar-thumb{border-radius:5px;background:var(--theme-scrollbar-thumb--background)}:host{}:host ::-webkit-scrollbar-thumb:hover{background:var(--theme-scrollbar-thumb--background--hover)}:host ::-webkit-scrollbar-corner{display:none}:host .side-panes-wrapper{height:100%;width:100%}:host .row{height:100%;width:100%;overflow:hidden;display:flex;flex-direction:row;justify-content:space-between;position:relative}:host .col{height:100%;width:100%;overflow:hidden;display:flex;flex-direction:column;justify-content:space-between;position:relative}:host .content{width:100%;height:100%;overflow:auto}:host .absolute-top{width:100%;position:absolute;top:0}:host .absolute-bottom{width:100%;position:absolute;bottom:0}:host .absolute-left{height:100%;position:absolute;left:0}:host .absolute-right{height:100%;position:absolute;right:0}:host .padding-top{padding-top:2.5rem}:host .padding-bottom{padding-bottom:2.5rem}:host .padding-left{padding-left:2.5rem}:host .padding-right{padding-right:2.5rem}",C=(()=>{let h=class{constructor(t){c(this,t),this.layout="full-vertical",this.variant="inline",this.borderless=!1,this.isMobile=!1,this.paneElements=0,this.panes=[]}get currentPanes(){return this.hostElement.querySelectorAll("ix-pane")}componentWillLoad(){this.paneElements=this.currentPanes.length,this.observer=new MutationObserver(t=>{var e,o;((e=t[0].addedNodes.item(0))===null||e===void 0?void 0:e.nodeName)==="IX-PANE"?this.paneElements+=1:((o=t[0].removedNodes.item(0))===null||o===void 0?void 0:o.nodeName)==="IX-PANE"&&(this.paneElements-=1)}),this.observer.observe(this.hostElement,{childList:!0}),this.isMobile=r("sm"),d.onChange.on(()=>{this.isMobile=r("sm"),this.configurePanes()})}componentDidLoad(){this.setPanes(this.currentPanes)}disconnectedCallback(){var t;(t=this.observer)===null||t===void 0||t.disconnect()}setPaneVariant(t){t.ignoreLayoutSettings||(t.variant=this.variant)}setPaneBorder(t){if(!t.ignoreLayoutSettings)if(this.borderless)t.borderless=!0;else{let e=!!this.panes.find(o=>o.slot==="left"&&!o.hideOnCollapse);t.variant==="floating"&&this.layout==="full-vertical"&&e&&(t.composition==="top"||t.composition==="bottom")?t.borderless=!0:t.borderless=!1}}setPaneZIndex(t){let e=t.slot==="top",o=t.slot==="bottom",n=t.slot==="left",i=t.slot==="right",a=1;this.isMobile?(o||e)&&(a=3):this.layout==="full-vertical"?(n||i)&&(a=3):(o||e)&&(a=3),t.style.zIndex=a.toString()}setPanes(t){this.panes=[],t.forEach(e=>{this.panes.push({slot:e.slot,hideOnCollapse:e.hideOnCollapse,floating:e.variant==="floating"})})}closeFloatingPanes(){this.currentPanes.forEach(t=>{t.expanded&&t.variant==="floating"&&(t.expanded=!1)})}configurePanes(){let t=0,e=0,o=0,n=0;this.currentPanes.forEach(i=>{let a=i.slot==="top",f=i.slot==="bottom",u=i.slot==="left",m=i.slot==="right";if(u){if(o){i.slot="";return}o++}else if(m){if(n){i.slot="";return}n++}else if(a){if(t){i.slot="";return}t++}else if(f){if(e){i.slot="";return}e++}else{i.slot="";return}this.setPaneVariant(i),this.setPaneBorder(i),this.setPaneZIndex(i)}),this.setPanes(this.currentPanes),l(this.hostElement)}onSlotChanged(){this.configurePanes()}onCollapsibleChanged(t){let{slot:e,hideOnCollapse:o}=t.detail;this.panes.forEach(n=>{n.slot===e&&(n.hideOnCollapse=o)}),l(this.hostElement)}onVariantChanged(t){let{slot:e,variant:o}=t.detail;this.panes.forEach(n=>{n.slot===e&&(n.floating=o==="floating")}),l(this.hostElement)}onPaneElementsChange(){this.configurePanes()}onVariableChange(){this.currentPanes.forEach(t=>{this.setPaneVariant(t),this.setPaneBorder(t)}),this.setPanes(this.currentPanes),l(this.hostElement)}onBorderChange(){this.currentPanes.forEach(t=>{this.setPaneBorder(t)})}onLayoutChange(){this.currentPanes.forEach(t=>{this.setPaneBorder(t),this.setPaneZIndex(t)})}onMobileChange(){this.currentPanes.forEach(t=>{this.setPaneZIndex(t)})}hasPadding(t){let e=this.panes.find(o=>o.slot===t);return e?!e.hideOnCollapse&&e.floating:!1}hasPaddingMobile(t){let e=this.panes.find(o=>o.slot===t);return e&&!e.hideOnCollapse}slotExists(t){return!!this.panes.find(o=>o.slot===t)}isFloating(t){let e=this.panes.find(o=>o.slot===t);return e?e.floating:!1}render(){return s(g,{key:"9642eb5fb53b9843df4eb4c558cce46fb48d8c6e"},this.isMobile?s("div",{class:"col"},s("div",{key:"top",style:{minHeight:this.hasPaddingMobile("top")?"48px":"0",display:this.slotExists("top")?"block":"none"}},s("slot",{name:"top"})),s("div",{key:"left",style:{minHeight:this.hasPaddingMobile("left")?"48px":"0",display:this.slotExists("left")?"block":"none"}},s("slot",{name:"left"})),s("div",{key:"content",class:"content",onClick:()=>this.closeFloatingPanes()},s("slot",{name:"content"}),s("slot",null)),s("div",{key:"right",style:{minHeight:this.hasPaddingMobile("right")?"48px":"0",display:this.slotExists("right")?"block":"none"}},s("slot",{name:"right"})),s("div",{key:"bottom",style:{minHeight:this.hasPaddingMobile("bottom")?"48px":"0",display:this.slotExists("bottom")?"block":"none"}},s("slot",{name:"bottom"}))):this.layout=="full-vertical"?s("div",{class:"side-panes-wrapper"},s("div",{class:{row:!0,"padding-left":this.hasPadding("left"),"padding-right":this.hasPadding("right")}},s("div",{key:"left",class:{"absolute-left":this.isFloating("left")}},s("slot",{name:"left"})),s("div",{class:{col:!0,"padding-top":this.hasPadding("top"),"padding-bottom":this.hasPadding("bottom")}},s("div",{key:"top",class:{"absolute-top":this.isFloating("top")}},s("slot",{name:"top"})),s("div",{key:"content",class:"content",onClick:()=>this.closeFloatingPanes()},s("slot",{name:"content"}),s("slot",null)),s("div",{key:"bottom",class:{"absolute-bottom":this.isFloating("bottom")}},s("slot",{name:"bottom"}))),s("div",{key:"right",class:{"absolute-right":this.isFloating("right")}},s("slot",{name:"right"})))):s("div",{class:"side-panes-wrapper"},s("div",{class:{col:!0,"padding-top":this.hasPadding("top"),"padding-bottom":this.hasPadding("bottom")}},s("div",{key:"top",class:{"absolute-top":this.isFloating("top")}},s("slot",{name:"top"})),s("div",{class:{row:!0,"padding-left":this.hasPadding("left"),"padding-right":this.hasPadding("right")}},s("div",{key:"left",class:{"absolute-left":this.isFloating("left")}},s("slot",{name:"left"})),s("div",{key:"content",class:"content",onClick:()=>this.closeFloatingPanes()},s("slot",{name:"content"}),s("slot",null)),s("div",{key:"right",class:{"absolute-right":this.isFloating("right")}},s("slot",{name:"right"}))),s("div",{key:"bottom",class:{"absolute-bottom":this.isFloating("bottom")}},s("slot",{name:"bottom"})))))}get hostElement(){return b(this)}static get watchers(){return{paneElements:["onPaneElementsChange"],variant:["onVariableChange"],borderless:["onBorderChange"],layout:["onLayoutChange"],isMobile:["onMobileChange"]}}};return h.style=p,h})();export{C as ix_pane_layout};
