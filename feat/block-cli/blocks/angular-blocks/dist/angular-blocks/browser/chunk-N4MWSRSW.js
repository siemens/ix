import{a as f,b as l}from"./chunk-OMW6H7O3.js";import{b as o}from"./chunk-BAA3YLJL.js";import"./chunk-7FRNBKW2.js";import{a as r}from"./chunk-355ZUK6P.js";import{c}from"./chunk-C6FVZU4H.js";import{a,c as t,d as n,e as h}from"./chunk-L7URYGIT.js";import"./chunk-NWJ5J3BN.js";function b(i){return i&&"getAssociatedFormElement"in i&&typeof i.getAssociatedFormElement=="function"&&"getNativeInputElement"in i&&typeof i.getNativeInputElement=="function"}var m=":host{display:inline-block;position:relative;margin-top:0.5rem;margin-bottom:0.25rem}",I=(()=>{let i=class{constructor(e){a(this,e),this.isInvalid=!1,this.explicitIsInvalid=void 0,this.htmlForObserver=new MutationObserver(()=>this.checkForInternalState()),this.a11yAttributes={},this.labelRef=r()}isInvalidChanged(e){this.explicitIsInvalid=e}connectedCallback(){this.registerHtmlForObserver(),this.registerControlRefObserver()}disconnectedCallback(){this.htmlForObserver&&this.htmlForObserver.disconnect(),this.htmlForClassObserver&&this.htmlForClassObserver.destroy(),this.controlRefClassObserver&&this.controlRefClassObserver.destroy()}componentWillRender(){this.checkForInternalState()}componentWillLoad(){this.a11yAttributes=c(this.hostElement)}registerHtmlForObserver(){typeof window>"u"||(this.htmlForObserver&&this.htmlForObserver.disconnect(),this.htmlFor&&this.htmlForObserver.observe(window.document,{childList:!0,subtree:!0}))}async registerControlRefObserver(){if(!(typeof window>"u")&&(this.controlRefClassObserver&&this.controlRefClassObserver.destroy(),this.controlRef&&!this.htmlFor)){let e=await this.controlRef.waitForCurrent();this.controlRefClassObserver=o(e,()=>this.checkForInvalidState(e))}}registerHtmlForClassObserver(e){this.htmlForClassObserver&&this.htmlForClassObserver.destroy(),this.htmlForClassObserver=o(e,()=>this.checkForInvalidState(e))}checkForInvalidState(e){var s;let d=e.classList.contains("is-invalid")||e.classList.contains("ix-invalid");this.isInvalid=(s=this.explicitIsInvalid)!==null&&s!==void 0?s:d}async checkForInternalState(){if(this.htmlFor){let e=document.getElementById(this.htmlFor);if(e){typeof e.required=="boolean"&&(this.required=e.required),this.registerHtmlForClassObserver(e),this.checkForInvalidState(e);return}}if(this.controlRef){let e=await this.controlRef.waitForCurrent();this.required=e.required}}async focusOnClick(){if(this.htmlFor){let e=document.getElementById(this.htmlFor);if(e){let s=null;b(e)?s=await e.getNativeInputElement():s=e,typeof s.focus=="function"&&s.focus()}}this.controlRef&&(await this.controlRef.waitForCurrent()).focus()}render(){return t(n,{key:"1a8134a30a1b101f6bfd678f905eb88e927e47d6",onClick:()=>this.focusOnClick()},t("label",Object.assign({key:"ef6df6072485fb72ea02a0a9800be3be15e84314",htmlFor:this.htmlFor},this.a11yAttributes,{ref:this.labelRef}),t("ix-typography",{key:"572975edeae54d15932c3b6091ed63dfff8bb231",textColor:this.isInvalid?"alarm":"soft",format:"label"},t("slot",{key:"452847ea7365cefc945bc6166bf2e8fd44d3f530"}),this.required&&t("span",{key:"5e85f801d6fe8a01d6595a55bb263d0bcf91a888"},"*"))))}get hostElement(){return h(this)}static get watchers(){return{isInvalid:["isInvalidChanged"],htmlFor:["registerHtmlForObserver"],controlRef:["registerControlRefObserver"]}}};return i.style=m,i})(),v=":host{display:flex;position:relative;flex-direction:column}:host .slot-wrapper{display:flex;position:relative;align-items:center;justify-content:flex-start;gap:0.25rem}:host .field-bottom,:host .field-top{display:flex;flex-direction:row;position:relative;justify-content:space-between;gap:1rem;width:-moz-min-content;width:min-content;min-width:100%}:host .field-bottom .bottom-right{margin-left:auto;margin-right:0px}:host .bottom-text{display:flex;position:relative;align-items:flex-start;justify-content:flex-start;gap:0.25rem;margin-right:0.25rem}:host .text-icon{margin:0.125rem}:host .text-icon.invalid{color:var(--theme-helper-icon--color--invalid)}:host .text-icon.info{color:var(--theme-helper-icon--color--info)}:host .text-icon.warning{color:var(--theme-helper-icon--color--warning)}:host .text-icon.valid{color:var(--theme-helper-icon--color--valid)}:host .bottom-text{margin-top:0.25rem;margin-bottom:0.25rem}",w=(()=>{let i=class{constructor(e){a(this,e),this.isInvalid=!1,this.isValid=!1,this.isInfo=!1,this.isWarning=!1,this.showTextAsTooltip=!1,this.required=!1,this.slotRef=r()}render(){let e={invalidText:this.invalidText,isInvalid:this.isInvalid,isValid:this.isValid,validText:this.validText,isWarning:this.isWarning,warningText:this.warningText,isInfo:this.isInfo,infoText:this.infoText,helperText:this.helperText};return t(n,{key:"531b08942bf31c36043fb3d7cd3af489f2fe83b0"},this.label&&t("div",{key:"49b9ef124fc2d69fb2528585d7b232b2e3d6d4b6",class:"field-top"},t("ix-field-label",{key:"20a089a72de7ee3045c048c19d868ff3b4be2706",required:this.required,htmlFor:this.htmlForLabel,controlRef:this.controlRef,isInvalid:this.isInvalid},this.label)),t("div",{key:"80c8ce58eb73379755757b2cef6b318cdc279b6b",class:{"slot-wrapper":!0},ref:this.slotRef},t("slot",{key:"f41f0681742e9f783092bad7484c851e2b987c99"})),t("div",{key:"9db46e23621d508e08fe87cae69a3698491347dc",class:"field-bottom"},!this.showTextAsTooltip&&t(l,Object.assign({key:"29802c92675a34cd215740a5df6fae77ed36368f"},e)),t("div",{key:"b94a1cc2acd5f8379e768fda9f222af6cb85f2b7",class:"bottom-right"},t("slot",{key:"3c5ba2d9a6d4671b6fadba6e06455ae229894f94",name:"bottom-right"}))),this.showTextAsTooltip===!0&&f(e)&&t("ix-tooltip",{key:"890c4a39781fbb14b96660691fd6f6fe96a30e0b",for:this.slotRef.waitForCurrent(),showDelay:500,placement:"bottom"},t(l,Object.assign({key:"638410fd78282cf38065635a79cceeb064a2a10e"},e))))}get hostElement(){return h(this)}};return i.style=v,i})();export{I as ix_field_label,w as ix_field_wrapper};
