import{d}from"./chunk-NW7CN6R6.js";import{a as h}from"./chunk-355ZUK6P.js";import{a as c,c as l,d as u,e as f,f as b}from"./chunk-M3SREADF.js";import"./chunk-NWJ5J3BN.js";var x=":host{display:inline-block;position:relative}:host .checkbox-container{display:flex;flex-direction:column;gap:0.5rem 1rem;margin:0.375rem 0;flex-wrap:wrap}:host .checkbox-container.row-layout{flex-direction:row}",p=function(e,t,i,s){var n=arguments.length,r=n<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,i):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},m=class{constructor(e){c(this,e),this.valueChange=b(this,"valueChange",7),this.direction="column",this.required=!1,this.isInvalid=!1,this.isValid=!1,this.isInfo=!1,this.isWarning=!1,this.touched=!1,this.groupRef=h(),this.observer=new MutationObserver(()=>{this.ensureOnlyLastRadioChecked(),this.hasNestedRequiredRadio()})}get radiobuttonElements(){return Array.from(this.hostElement.querySelectorAll("ix-radio"))}connectedCallback(){this.observer.observe(this.hostElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["checked","required"]})}componentWillLoad(){this.selectInitialValue(),this.ensureOnlyLastRadioChecked(),this.hasNestedRequiredRadio()}disconnectedCallback(){this.observer&&this.observer.disconnect()}selectInitialValue(){this.value&&this.radiobuttonElements.forEach(e=>{e.checked=e.value===this.value})}ensureOnlyLastRadioChecked(){let e=this.radiobuttonElements.filter(i=>i.checked);e.forEach((i,s)=>{s!==e.length-1&&(i.checked=!1)});let t=this.isSomeRadioChecked();for(let i of this.radiobuttonElements)i.tabIndex=i.checked?0:-1;!t&&this.radiobuttonElements.length>0&&(this.radiobuttonElements[0].tabIndex=0)}hasNestedRequiredRadio(){this.required=this.radiobuttonElements.some(e=>e.required)}isSomeRadioChecked(){return this.radiobuttonElements.some(e=>e.checked)}onValueChangeHandler(e){this.touched=!0,this.radiobuttonElements.forEach(t=>{t.checked=t.value===e})}onCheckedChangeHandler(e){this.radiobuttonElements.forEach(t=>{if(t!==e.target){t.checked=!1;return}t.checked=!0,this.valueChange.emit(t.value)})}onClassField({isInvalid:e,isInfo:t,isValid:i,isWarning:s,isInvalidByRequired:n}){this.isInvalid=e||n,this.isInfo=t,this.isValid=i,this.isWarning=s}hasValidValue(){return Promise.resolve(!!Array.from(this.hostElement.querySelectorAll("ix-radio")).find(e=>e.checked))}isTouched(){return Promise.resolve(this.touched)}async setCheckedToNextItem(e,t=!0){let{radiobuttonElements:i}=this,{length:s}=i;if(s<=1)return;let n=i.indexOf(e),r=t?1:-1,o=(n+r+s)%s;for(;i[o].disabled;){if(o===n)return;o=(o+r+s)%s}let a=i[o];a.setCheckedState(!0),a.focus()}render(){return l(u,{key:"3b28757bd7bd7b5f03a4a3117e3a442420d89371",onIxBlur:()=>this.touched=!0,ref:this.groupRef,role:"radiogroup"},l("ix-field-wrapper",{key:"70ef517cb82fe313f2b3364e05db3cefb4244808",label:this.label,helperText:this.helperText,invalidText:this.invalidText,infoText:this.infoText,warningText:this.warningText,validText:this.validText,showTextAsTooltip:this.showTextAsTooltip,isValid:this.isValid,isInfo:this.isInfo,isWarning:this.isWarning,isInvalid:this.isInvalid,controlRef:this.groupRef},l("div",{key:"320a0e53318eb9ab476792f69dd21775b652bd2c",class:{"checkbox-container":!0,"row-layout":this.direction==="row"}},l("slot",{key:"282d49924b3059d5a6ea6ee90d5b26f97e716dc6"}))))}get hostElement(){return f(this)}static get watchers(){return{value:["onValueChangeHandler"]}}};p([d({includeChildren:!0})],m.prototype,"onClassField",null);m.style=x;export{m as ix_radio_group};
