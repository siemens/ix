import{a as m}from"./chunk-ZX2EE6N2.js";import{D as h,N as p,R as v,U as g,z as E}from"./chunk-7FRNBKW2.js";var u=class{async attachView(a,e){var n;return((n=e?.parentElement)!==null&&n!==void 0?n:document.body).appendChild(a),a}async removeView(a){a.remove()}},f=new u,L=f;var M=()=>L,b=()=>f;function x(t,a){let e=a.ariaDescribedby,n=a.ariaLabelledby;delete a.ariaDescribedby,delete a.ariaLabelledby,e&&t.setAttribute("aria-describedby",e),n&&t.setAttribute("aria-labelledby",n)}function d(t,a,e,n){let s=[];return a!==void 0&&(s=[...s,{id:"cancel",text:a,type:"cancel",payload:n}]),[...s,{id:"okay",text:t,type:"okay",payload:e}]}async function o(t){let a=new m,e=document.createElement("ix-modal"),n=document.createElement("ix-modal-header"),s=document.createElement("ix-modal-content"),i=document.createElement("ix-modal-footer");x(e,t),Object.assign(n,t),Object.assign(s,t),Object.assign(i,t),n.innerText=t.messageTitle,s.innerText=t.message,t.actions.forEach(({id:c,text:T,type:y,payload:w})=>{let l=document.createElement("ix-button");if(l.innerText=T,i.appendChild(l),y==="okay"){l.variant="primary",l.addEventListener("click",()=>e.closeModal({actionId:c,payload:w}));return}else if(y==="cancel"){l.variant="secondary",l.addEventListener("click",()=>e.dismissModal({actionId:c,payload:w}));return}}),e.appendChild(n),e.appendChild(s),e.appendChild(i);let r=await b().attachView(e);return r.addEventListener("dialogClose",c=>{a.emit(c.detail),r.remove()}),r.addEventListener("dialogDismiss",c=>{a.emit(c.detail),r.remove()}),x(r,t),Object.assign(r,t),r.showModal(),a}o.info=(t,a,e,n,s,i)=>o({message:a,messageTitle:t,icon:h,actions:d(e,n,s,i)});o.warning=(t,a,e,n,s,i)=>o({message:a,messageTitle:t,icon:g,iconColor:"color-warning-text",actions:d(e,n,s,i)});o.error=(t,a,e,n,s,i)=>o({message:a,messageTitle:t,icon:E,iconColor:"color-alarm",actions:d(e,n,s,i)});o.success=(t,a,e,n,s,i)=>o({message:a,messageTitle:t,icon:v,iconColor:"color-success",actions:d(e,n,s,i)});o.question=(t,a,e,n,s,i)=>o({message:a,messageTitle:t,icon:p,actions:d(e,n,s,i)});function C(t,a){let e=a.ariaDescribedby,n=a.ariaLabelledby;delete a.ariaDescribedby,delete a.ariaLabelledby,e&&t.setAttribute("aria-describedby",e),n&&t.setAttribute("aria-labelledby",n)}function D(t){return t.closest("ix-modal")}function O(t,a){let e=D(t);if(e){e.dismissModal(a);return}}async function j(t){let a=M(),e,n=new m,s=new m;if(typeof t.content=="string"){let i=document.createElement("ix-modal");i.innerText=t.content,e=await b().attachView(i)}if(t.content instanceof HTMLElement&&t.content.tagName!=="IX-MODAL"){let i=document.createElement("ix-modal");i.appendChild(t.content),e=await b().attachView(i)}return e||(e=await a.attachView(t.content)),C(e,t),Object.assign(e,t),await e.showModal(),e.addEventListener("dialogClose",async({detail:i})=>{n.emit(i),await a.removeView(e)}),e.addEventListener("dialogDismiss",async({detail:i})=>{s.emit(i),await a.removeView(e)}),requestAnimationFrame(()=>{let i=e.querySelector("[autofocus],[auto-focus]");i&&i.focus()}),{htmlElement:e,onClose:n,onDismiss:s}}export{O as a,j as b};
