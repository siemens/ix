import{a as u}from"./chunk-ZYSWW4O3.js";import{b as l}from"./chunk-YSNVWYT5.js";import{a as b,d as a,e as p,f,g as m}from"./chunk-3Q7G4VVL.js";import{f as h}from"./chunk-IXF2NW34.js";var I='.ix-form-control,.ix-form-control-plaintext{color:var(--theme-input--color);border-radius:var(--theme-input--border-radius);height:2rem;min-height:2rem;min-width:2rem;background-color:var(--theme-input--background);border:solid 1px var(--theme-input--border-color);box-shadow:var(--theme-input--box-shadow);padding-inline-start:0.5rem;padding-inline-end:0.5rem;font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:400;line-height:1.429em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ix-form-control::-moz-placeholder,.ix-form-control-plaintext::-moz-placeholder{color:var(--theme-input-hint--color)}.ix-form-control::placeholder,.ix-form-control-plaintext::placeholder{color:var(--theme-input-hint--color)}.ix-form-control:not(:-moz-read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled),.ix-form-control-plaintext:not(:-moz-read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled){cursor:pointer}.ix-form-control:not(:read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled),.ix-form-control-plaintext:not(:read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled){cursor:pointer}.ix-form-control:not(:-moz-read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled):hover,.ix-form-control:not(:-moz-read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled).hover,.ix-form-control-plaintext:not(:-moz-read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled):hover,.ix-form-control-plaintext:not(:-moz-read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled).hover{background-color:var(--theme-input--background--hover);border-color:var(--theme-input--border-color--hover);cursor:auto}.ix-form-control:not(:read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled):hover,.ix-form-control:not(:read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled).hover,.ix-form-control-plaintext:not(:read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled):hover,.ix-form-control-plaintext:not(:read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled).hover{background-color:var(--theme-input--background--hover);border-color:var(--theme-input--border-color--hover);cursor:auto}.ix-form-control:not(:-moz-read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled):focus-visible,.ix-form-control-plaintext:not(:-moz-read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled):focus-visible{background-color:var(--theme-input--background--focus);border-color:var(--theme-input--border-color--focus);outline-offset:var(--theme-input--focus--outline-offset);box-shadow:var(--theme-input--box-shadow);outline:1px solid var(--theme-color-focus-bdr)}.ix-form-control:not(:read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled):focus-visible,.ix-form-control-plaintext:not(:read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled):focus-visible{background-color:var(--theme-input--background--focus);border-color:var(--theme-input--border-color--focus);outline-offset:var(--theme-input--focus--outline-offset);box-shadow:var(--theme-input--box-shadow);outline:1px solid var(--theme-color-focus-bdr)}.ix-form-control:focus-visible{color:var(--theme-input--color)}.ix-form-control[type=number]::-webkit-inner-spin-button{margin-right:-2px;margin-left:2px;display:none}.ix-form-control[type=number]{text-align:right}.ix-form-control.readonly,.ix-form-control[readonly]{background:transparent !important;border-block-start:none !important;border-inline-start:none !important;border-inline-end:none !important;border-radius:0rem}.ix-form-control:-moz-read-only{box-shadow:none !important;outline:none !important;border-color:var(--theme-input--border-color);cursor:default !important}.ix-form-control:read-only,.ix-form-control[readonly],.ix-form-control[readOnly],.ix-form-control.readonly{box-shadow:none !important;outline:none !important;border-color:var(--theme-input--border-color);cursor:default !important}.ix-form-control:read-only::-moz-placeholder,.ix-form-control[readonly]::-moz-placeholder,.ix-form-control[readOnly]::-moz-placeholder,.ix-form-control.readonly::-moz-placeholder{color:transparent}.ix-form-control:-moz-read-only::placeholder{color:transparent}.ix-form-control:read-only::placeholder,.ix-form-control[readonly]::placeholder,.ix-form-control[readOnly]::placeholder,.ix-form-control.readonly::placeholder{color:transparent}.ix-form-control:disabled,.ix-form-control.disabled{background:transparent !important;border-block-start:none !important;border-inline-start:none !important;border-inline-end:none !important;border-radius:0rem;color:var(--theme-color-weak-text);border-color:var(--theme-input--border-color-bottom--disabled)}.ix-form-control:disabled::-moz-placeholder,.ix-form-control.disabled::-moz-placeholder{color:transparent}.ix-form-control:disabled::placeholder,.ix-form-control.disabled::placeholder{color:transparent}.ix-form-control-plaintext{outline:0}.form-group{position:relative}.input-wrapper{display:flex;position:relative;align-items:center;flex-wrap:nowrap}.input-wrapper>.glyph{display:block;position:absolute;margin-inline-start:0.312rem;color:var(--theme-color-std-text)}.input-wrapper>input{padding-inline-start:2.2rem}select.ix-form-control{padding:0 0.312rem}textarea.ix-form-control{padding:0.375rem 0.5rem}input.ix-form-control.disabled,input.ix-form-control:disabled{color:var(--theme-input--color--disabled)}input.ix-form-control:-moz-read-only{cursor:default}input.ix-form-control:read-only,input.ix-form-control.readonly{cursor:default}input{min-height:2rem;width:auto;padding:0.25rem 0.5rem;background-color:var(--theme-input--background);color:var(--theme-input--color);-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;text-overflow:ellipsis;border:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color);border-radius:var(--theme-input--border-radius);box-shadow:var(--theme-input--box-shadow);font-feature-settings:"clig" off, "liga" off;font-family:Siemens Sans, Siemens Sans, Arial, Helvetica, sans-serif;font-style:normal;font-size:var(--theme-ms-0);line-height:var(--theme-line-height-md);font-weight:var(--theme-font-weight-normal);letter-spacing:var(--theme-letter-spacing-xl);text-decoration:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}input[type=number]{text-align:right}input[type=number]::-webkit-inner-spin-button{margin-right:-2px;margin-left:2px;display:none}input:-webkit-autofill{-webkit-box-shadow:0 0 0 1000px var(--theme-color-component-info) inset !important;-webkit-text-fill-color:var(--theme-input--color--autofill) !important;background-color:var(--theme-input--background--autofill) !important;border:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color--autofill) !important;color:var(--theme-input--color--autofill) !important}input:-webkit-autofill,input:autofill{-webkit-box-shadow:0 0 0 1000px var(--theme-color-component-info) inset !important;-webkit-text-fill-color:var(--theme-input--color--autofill) !important;background-color:var(--theme-input--background--autofill) !important;border:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color--autofill) !important;color:var(--theme-input--color--autofill) !important}input::-moz-placeholder{color:var(--theme-input-hint--color)}input::placeholder{color:var(--theme-input-hint--color)}input.hover:not(.readonly,.read-only,.disabled,[readonly],[disabled],:-moz-read-only),input:hover:not(.readonly,.read-only,.disabled,[readonly],[disabled],:-moz-read-only){border-color:var(--theme-input--border-color--hover) !important;background-color:var(--theme-input--background--hover)}input.hover:not(.readonly,.read-only,.disabled,[readonly],[disabled],:read-only),input:hover:not(.readonly,.read-only,.disabled,[readonly],[disabled],:read-only){border-color:var(--theme-input--border-color--hover) !important;background-color:var(--theme-input--background--hover)}input.focus:not(.readonly,.read-only,.disabled,[readonly],[disabled],:-moz-read-only),input:focus:not(.readonly,.read-only,.disabled,[readonly],[disabled],:-moz-read-only){outline:1px solid var(--theme-color-focus-bdr);outline-offset:var(--theme-input--focus--outline-offset);border-color:var(--theme-input--border-color--focus) !important}input.focus:not(.readonly,.read-only,.disabled,[readonly],[disabled],:read-only),input:focus:not(.readonly,.read-only,.disabled,[readonly],[disabled],:read-only){outline:1px solid var(--theme-color-focus-bdr);outline-offset:var(--theme-input--focus--outline-offset);border-color:var(--theme-input--border-color--focus) !important}input:-moz-read-only{box-shadow:none;background-color:transparent;outline:none;border:none;border-radius:0;border-bottom:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color-bottom--readonly)}input.read-only,input:read-only{box-shadow:none;background-color:transparent;outline:none;border:none;border-radius:0;border-bottom:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color-bottom--readonly)}input.read-only::-moz-placeholder,input:read-only::-moz-placeholder{color:transparent}input:-moz-read-only::placeholder{color:transparent}input.read-only::placeholder,input:read-only::placeholder{color:transparent}input:disabled,input.disabled{box-shadow:none;background-color:transparent;outline:none;border:none;border-radius:0;color:var(--theme-input--color--disabled);border-bottom:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color-bottom--disabled)}input:disabled::-moz-placeholder,input.disabled::-moz-placeholder{color:transparent}input:disabled::placeholder,input.disabled::placeholder{color:transparent}textarea{min-height:2rem;width:auto;padding:0.25rem 0.5rem;background-color:var(--theme-input--background);color:var(--theme-input--color);-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;text-overflow:ellipsis;border:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color);border-radius:var(--theme-input--border-radius);box-shadow:var(--theme-input--box-shadow);font-feature-settings:"clig" off, "liga" off;font-family:Siemens Sans, Siemens Sans, Arial, Helvetica, sans-serif;font-style:normal;font-size:var(--theme-ms-0);line-height:var(--theme-line-height-md);font-weight:var(--theme-font-weight-normal);letter-spacing:var(--theme-letter-spacing-xl);text-decoration:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}textarea[type=number]{text-align:right}textarea[type=number]::-webkit-inner-spin-button{margin-right:-2px;margin-left:2px;display:none}textarea:-webkit-autofill{-webkit-box-shadow:0 0 0 1000px var(--theme-color-component-info) inset !important;-webkit-text-fill-color:var(--theme-input--color--autofill) !important;background-color:var(--theme-input--background--autofill) !important;border:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color--autofill) !important;color:var(--theme-input--color--autofill) !important}textarea:-webkit-autofill,textarea:autofill{-webkit-box-shadow:0 0 0 1000px var(--theme-color-component-info) inset !important;-webkit-text-fill-color:var(--theme-input--color--autofill) !important;background-color:var(--theme-input--background--autofill) !important;border:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color--autofill) !important;color:var(--theme-input--color--autofill) !important}textarea::-moz-placeholder{color:var(--theme-input-hint--color)}textarea::placeholder{color:var(--theme-input-hint--color)}textarea.hover:not(.readonly,.read-only,.disabled,[readonly],[disabled],:-moz-read-only),textarea:hover:not(.readonly,.read-only,.disabled,[readonly],[disabled],:-moz-read-only){border-color:var(--theme-input--border-color--hover) !important;background-color:var(--theme-input--background--hover)}textarea.hover:not(.readonly,.read-only,.disabled,[readonly],[disabled],:read-only),textarea:hover:not(.readonly,.read-only,.disabled,[readonly],[disabled],:read-only){border-color:var(--theme-input--border-color--hover) !important;background-color:var(--theme-input--background--hover)}textarea.focus:not(.readonly,.read-only,.disabled,[readonly],[disabled],:-moz-read-only),textarea:focus:not(.readonly,.read-only,.disabled,[readonly],[disabled],:-moz-read-only){outline:1px solid var(--theme-color-focus-bdr);outline-offset:var(--theme-input--focus--outline-offset);border-color:var(--theme-input--border-color--focus) !important}textarea.focus:not(.readonly,.read-only,.disabled,[readonly],[disabled],:read-only),textarea:focus:not(.readonly,.read-only,.disabled,[readonly],[disabled],:read-only){outline:1px solid var(--theme-color-focus-bdr);outline-offset:var(--theme-input--focus--outline-offset);border-color:var(--theme-input--border-color--focus) !important}textarea:-moz-read-only{box-shadow:none;background-color:transparent;outline:none;border:none;border-radius:0;border-bottom:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color-bottom--readonly)}textarea.read-only,textarea:read-only{box-shadow:none;background-color:transparent;outline:none;border:none;border-radius:0;border-bottom:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color-bottom--readonly)}textarea.read-only::-moz-placeholder,textarea:read-only::-moz-placeholder{color:transparent}textarea:-moz-read-only::placeholder{color:transparent}textarea.read-only::placeholder,textarea:read-only::placeholder{color:transparent}textarea:disabled,textarea.disabled{box-shadow:none;background-color:transparent;outline:none;border:none;border-radius:0;color:var(--theme-input--color--disabled);border-bottom:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color-bottom--disabled)}textarea:disabled::-moz-placeholder,textarea.disabled::-moz-placeholder{color:transparent}textarea:disabled::placeholder,textarea.disabled::placeholder{color:transparent}textarea{min-height:2rem;height:3.25rem;padding:calc(0.375rem - var(--theme-input--border-thickness)) calc(0.5rem - var(--theme-input--border-thickness))}textarea.ix-info:not(.disabled):not(:disabled):not([disabled]),input.ix-info:not(.disabled):not(:disabled):not([disabled]){border-color:var(--theme-input--border-color--info)}textarea.ix-info:not(.disabled):not(:disabled):not([disabled]):hover,input.ix-info:not(.disabled):not(:disabled):not([disabled]):hover{border-color:var(--theme-input--border-color--info--hover) !important}textarea.ix-info:not(.disabled):not(:disabled):not([disabled]):active,input.ix-info:not(.disabled):not(:disabled):not([disabled]):active{border-color:var(--theme-input--border-color--info--active) !important}textarea.ix-warning:not(.disabled):not(:disabled):not([disabled]),input.ix-warning:not(.disabled):not(:disabled):not([disabled]){background-color:var(--theme-input--background--warning);border-color:var(--theme-input--border-color--warning--active) !important}textarea.ix-warning:not(.disabled):not(:disabled):not([disabled]):hover,input.ix-warning:not(.disabled):not(:disabled):not([disabled]):hover{background-color:var(--theme-input--background--warning--hover);border-color:var(--theme-input--border-color--warning--hover) !important}textarea.ix-warning:not(.disabled):not(:disabled):not([disabled]):active,input.ix-warning:not(.disabled):not(:disabled):not([disabled]):active{border-color:var(--theme-input--border-color--warning--active) !important}textarea[class*=ix-invalid]:not(.disabled):not(:disabled):not([disabled]),input[class*=ix-invalid]:not(.disabled):not(:disabled):not([disabled]){background-color:var(--theme-input--background--invalid);border-color:var(--theme-input--border-color--invalid) !important}textarea[class*=ix-invalid]:not(.disabled):not(:disabled):not([disabled]):hover,input[class*=ix-invalid]:not(.disabled):not(:disabled):not([disabled]):hover{background-color:var(--theme-input--background--invalid--hover);border-color:var(--theme-input--border-color--invalid--hover) !important}textarea[class*=ix-invalid]:not(.disabled):not(:disabled):not([disabled]):active,input[class*=ix-invalid]:not(.disabled):not(:disabled):not([disabled]):active{border-color:var(--theme-input--border-color--invalid--active) !important}:host{display:block;position:relative;width:-moz-fit-content;width:fit-content}:host *,:host *::after,:host *::before{box-sizing:border-box}:host ::-webkit-scrollbar-button{display:none}@-moz-document url-prefix(){:host *{scrollbar-color:var(--theme-scrollbar-thumb--background) var(--theme-scrollbar-track--background);scrollbar-width:thin}}:host{}:host ::-webkit-scrollbar{width:0.5rem;height:0.5rem}:host{}:host ::-webkit-scrollbar-track{border-radius:5px;background:var(--theme-scrollbar-track--background)}:host ::-webkit-scrollbar-track:hover{background:var(--theme-scrollbar-track--background--hover)}:host{}:host ::-webkit-scrollbar-thumb{border-radius:5px;background:var(--theme-scrollbar-thumb--background)}:host{}:host ::-webkit-scrollbar-thumb:hover{background:var(--theme-scrollbar-thumb--background--hover)}:host ::-webkit-scrollbar-corner{display:none}:host .standaloneAppearance{box-shadow:none}:host .hidden{display:none}:host .header{display:flex;align-items:center;justify-content:center;height:2rem}:host .clock{display:flex;justify-content:center;align-items:start}:host .clock .flex{display:flex;height:100%;align-items:start}:host .clock .flex .columns{display:flex;flex-direction:column;align-items:center;justify-content:space-around}:host .clock .flex .columns .column-header{height:2.5rem;width:2.5rem;line-height:2.5rem;text-align:center;color:var(--theme-color-soft-text);text-overflow:ellipsis;overflow:hidden;white-space:nowrap}:host .clock .flex .column-separator{display:flex;align-items:center;justify-content:center;min-height:100%;margin-top:3rem;width:0.5rem}:host .clock .element-list{list-style-type:none;overflow:auto;padding:0.0625rem;margin:-0.0625rem;max-height:15.75rem}:host .clock .element-list button{all:unset}:host .clock .element-list .element-container{box-sizing:border-box;width:2.5rem;height:2.5rem;margin-bottom:0.125rem;display:flex;justify-content:center;align-items:center;cursor:pointer;color:var(--theme-color-primary)}:host .clock .element-list .element-container:hover{background-color:var(--theme-datepicker-day--background--hover)}:host .clock .element-list .element-container:focus-visible{box-shadow:0 0 0 1px var(--theme-color-focus-bdr)}:host .clock .element-list .selected{background-color:var(--theme-datepicker-day--background--selected);color:var(--theme-datepicker-day--color--selected);font-weight:var(--theme-font-weight-bold)}:host .clock .element-list .selected:hover{background-color:var(--theme-datepicker-day--background--selected-hover)}:host .clock .element-list .selected:focus-visible{border:0.0625rem solid var(--theme-color-inv-contrast-text)}:host .clock .element-list .element-list-padding{width:2.5rem;height:13.125rem;min-height:13.125rem}:host .clock div.element-list{scrollbar-width:none;-ms-overflow-style:none}:host .clock div.element-list::-webkit-scrollbar{display:none}:host .footer{display:flex;justify-content:space-between;gap:0.5rem;flex-wrap:wrap}:host .footer .confirm-button{margin-left:auto}:host .footer--compact{flex-direction:column;align-items:center}:host .footer--compact .confirm-button{margin-left:initial}:host .default-space{margin-left:1rem}:host .text-align{text-align:center}',F=function(e,t,o,r){var i=arguments.length,n=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,o):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(e,t,o,r);else for(var d=e.length-1;d>=0;d--)(s=e[d])&&(n=(i<3?s(n):i>3?s(t,o,n):s(t,o))||n);return i>3&&n&&Object.defineProperty(t,o,n),n},c={hours:/\b[Hh]\b|HH|hh|H{3,4}|h{3,4}|t|tt|ttt|tttt|T|TT|TTT|TTTT/,minutes:/\bm\b|mm|t|tt|ttt|tttt|T|TT|TTT|TTTT/,seconds:/\bs\b|ss|tt|ttt|tttt|TT|TTT|TTTT/,milliseconds:/\bS\b|SSS|u|uu|uuu/},v=1,y=1,x=1,g=100,P="Confirm",_="Time",k={hour:"",minute:"",second:"",millisecond:""},w=class{constructor(e){b(this,e),this.timeSelect=m(this,"timeSelect",7),this.timeChange=m(this,"timeChange",7),this.format="TT",this.corners="rounded",this.embedded=!1,this.dateTimePickerAppearance=!1,this.hideHeader=!1,this.hourInterval=v,this.minuteInterval=y,this.secondInterval=x,this.millisecondInterval=g,this.i18nConfirmTime=P,this.i18nHeader=_,this.i18nHourColumnHeader="hr",this.i18nMinuteColumnHeader="min",this.i18nSecondColumnHeader="sec",this.i18nMillisecondColumnHeader="ms",this.formattedTime=k,this.timePickerDescriptors=[],this.isUnitFocused=!1,this.focusedUnit="hour",this.focusedValue=0,this.focusScrollAlignment="start"}watchFormatIntervalPropHandler(e){e&&(this.initPicker(),this.updateScrollPositions())}watchHourIntervalPropHandler(e){if(Number.isInteger(e)&&e>=0&&e<=(this.timeRef?12:23)){this.setTimePickerDescriptors();return}this.printIntervalError("hour",e),this.hourInterval=v}watchMinuteIntervalPropHandler(e){if(e>=0&&e<=59){this.setTimePickerDescriptors();return}this.printIntervalError("minute",e),this.minuteInterval=y}watchSecondIntervalPropHandler(e){if(e>=0&&e<=59){this.setTimePickerDescriptors();return}this.printIntervalError("second",e),this.secondInterval=x}watchMillisecondIntervalPropHandler(e){if(e>=0&&e<=999){this.setTimePickerDescriptors();return}this.printIntervalError("millisecond",e),this.millisecondInterval=g}printIntervalError(e,t){console.error(`Value ${t} is not valid for ${e}-interval. Falling back to default.`)}watchTimePropHandler(e){let t=l.fromFormat(e,this.format);if(!t.isValid)throw new Error("Format is not supported or not correct");this._time=t}getDefaultTime(){return l.now()}getCurrentTime(){return h(this,null,function*(){var e;return(e=this._time)===null||e===void 0?void 0:e.toFormat(this.format)})}onTimeChange(){let e=this.formattedTime;this.setTimeRef(),this.formattedTime=this.getFormattedTime(),this.updateScrollPositions(e)}componentWillLoad(){this.initPicker()}initPicker(){let e;this.time?(e=l.fromFormat(this.time,this.format),e.isValid||(console.error(`Invalid time format. The configured format does not match the format of the passed time. ${e.invalidReason}: ${e.invalidExplanation}`),e=this.getDefaultTime())):e=this.getDefaultTime(),this._time=e,this.setTimeRef(),this.setTimePickerDescriptors(),this.setInitialFocusedValueAndUnit(),this.watchHourIntervalPropHandler(this.hourInterval),this.watchMinuteIntervalPropHandler(this.minuteInterval),this.watchSecondIntervalPropHandler(this.secondInterval),this.watchMillisecondIntervalPropHandler(this.millisecondInterval)}componentDidLoad(){this.updateScrollPositions(),this.setupVisibilityObserver()}componentDidRender(){if(this.isUnitFocused){let e=this.getElementContainer(this.focusedUnit,this.focusedValue),t=this.getElementList(this.focusedUnit);e&&(e.focus({preventScroll:!0}),this.isElementVisible(e,t)||this.scrollElementIntoView(e,t,this.focusScrollAlignment))}}disconnectedCallback(){this.visibilityObserver&&this.visibilityObserver.disconnect()}handleKeyDown(e){if(!this.isUnitFocused)return;let t=this.focusedValue,o=!0,r;switch(this.focusedUnit){case"hour":r=this.hourInterval;break;case"minute":r=this.minuteInterval;break;case"second":r=this.secondInterval;break;case"millisecond":r=this.millisecondInterval;break}switch(e.key){case"Tab":o=!1,this.isUnitFocused=!1;break;case"ArrowUp":t-=r,this.focusScrollAlignment="start",this.updateFocusedValue(t),this.updateDescriptorFocusedValue(this.focusedUnit,this.focusedValue);break;case"ArrowDown":t+=r,this.focusScrollAlignment="end",this.updateFocusedValue(t),this.updateDescriptorFocusedValue(this.focusedUnit,this.focusedValue);break;case"Enter":case" ":this.select(this.focusedUnit,this.focusedValue);break;default:return}o&&e.preventDefault()}onUnitCellBlur(e,t){var o;let r=t.relatedTarget;r&&((o=r.dataset.elementContainerId)===null||o===void 0?void 0:o.split("-")[0])!==e&&this.elementListScrollToTop(e,Number(this.formattedTime[e]),"smooth"),this.isUnitFocused=!1;let i=Number(this.formattedTime[e]);this.updateDescriptorFocusedValue(e,i)}onUnitCellFocus(e,t){this.isUnitFocused=!0,this.focusedUnit=e,this.focusedValue=t,this.updateDescriptorFocusedValue(e,t)}getElementList(e){var t;return(t=this.hostElement.shadowRoot)===null||t===void 0?void 0:t.querySelector(`[data-element-list-id="${e}"]`)}getElementContainer(e,t){var o;return(o=this.hostElement.shadowRoot)===null||o===void 0?void 0:o.querySelector(`[data-element-container-id="${e}-${t}"]`)}isElementVisible(e,t){let o=e.getBoundingClientRect(),r=t.getBoundingClientRect();return o.top>=r.top&&o.bottom<=r.bottom}scrollElementIntoView(e,t,o){let i=t.getBoundingClientRect(),n=e.getBoundingClientRect();o==="end"?t.scrollTop+=n.bottom-i.bottom+1:t.scrollTop+=n.top-i.top-1}updateFocusedValue(e){let t=this.getNumberArrayForUnit(this.focusedUnit),o=t[t.length-1],r=t[0];e>o?(e=r,this.focusScrollAlignment="start"):e<r&&(e=o,this.focusScrollAlignment="end"),this.focusedValue=e}setInitialFocusedValueAndUnit(){let e=this.timePickerDescriptors.find(r=>!r.hidden);if(!e)return;let t=Number(this.formattedTime[e.unit]),o=e.numberArray.includes(t);this.focusedValue=o?t:e.numberArray[0],this.focusedUnit=e.unit}setupVisibilityObserver(){let e=this.hostElement;for(;e&&e.tagName!=="IX-DROPDOWN";)e=e.parentElement;e&&(this.visibilityObserver=new MutationObserver(t=>this.mutationObserverCallback(t)),this.visibilityObserver.observe(e,{attributes:!0,attributeFilter:["class","style"]}))}mutationObserverCallback(e){for(let t of e){if(t.type!=="attributes")continue;if(!t.target.classList.contains("show")){this.time&&l.fromFormat(this.time,this.format).isValid&&(this._time=l.fromFormat(this.time,this.format),this.setInitialFocusedValueAndUnit());continue}this.areElementsRendered()&&this.updateScrollPositions()}}areElementsRendered(){var e;let t=(e=this.hostElement.shadowRoot)===null||e===void 0?void 0:e.querySelectorAll(".element-list");return!t||t.length===0?!1:Array.from(t).some(o=>o.offsetHeight>0)}getFormattedTime(){return this._time?{hour:this.timeRef!==void 0?this._time.toFormat("h"):this._time.toFormat("H"),minute:this._time.toFormat("m"),second:this._time.toFormat("s"),millisecond:this._time.toFormat("S")}:k}timeUpdate(e,t){let o=l.now().endOf("day").get(e);return e==="hour"&&(this.timeRef==="PM"?t=t===12?12:t+12:this.timeRef==="AM"&&(t=t===12?0:t,o=12)),t>o?t=o:t<0&&(t=0),this._time||(this._time=l.now().startOf("day")),this._time=this._time.set({[e]:t}),t}changeTimeReference(e){if(this.timeRef===e)return;this._time||(this._time=l.now().startOf("day")),this.timeRef=e;let t=this._time.hour;e==="PM"&&t<12?this._time=this._time.plus({hours:12}):e==="AM"&&t>=12&&(this._time=this._time.minus({hours:12})),this.timeChange.emit(this._time.toFormat(this.format))}isFormat12Hour(e){let t="",o=!1;for(let r=0;r<e.length;r++){let i=e[r];i==="'"?o=!o:o||(t+=i)}return/h|a|t/.test(t)}setTimeRef(){this.isFormat12Hour(this.format)&&this._time?this.timeRef=this._time.hour>=12?"PM":"AM":this.timeRef=void 0}getInitialFocusedValueForUnit(e,t){let o=Number(this.formattedTime[e]);return t.includes(o)?o:t[0]}setTimePickerDescriptors(){let e=[],t=[],o=[],r=[];this.timeRef!==void 0?e=Array.from({length:Math.ceil(12/this.hourInterval)},(i,n)=>n*this.hourInterval+1).filter(i=>i<=12):e=Array.from({length:Math.ceil(24/this.hourInterval)},(i,n)=>n*this.hourInterval),t=Array.from({length:Math.ceil(60/this.minuteInterval)},(i,n)=>n*this.minuteInterval),o=Array.from({length:Math.ceil(60/this.secondInterval)},(i,n)=>n*this.secondInterval),r=Array.from({length:Math.ceil(1e3/this.millisecondInterval)},(i,n)=>n*this.millisecondInterval),this.timePickerDescriptors=[{unit:"hour",header:this.i18nHourColumnHeader,hidden:!c.hours.test(this.format),numberArray:e,focusedValue:this.getInitialFocusedValueForUnit("hour",e)},{unit:"minute",header:this.i18nMinuteColumnHeader,hidden:!c.minutes.test(this.format),numberArray:t,focusedValue:this.getInitialFocusedValueForUnit("minute",t)},{unit:"second",header:this.i18nSecondColumnHeader,hidden:!c.seconds.test(this.format),numberArray:o,focusedValue:this.getInitialFocusedValueForUnit("second",o)},{unit:"millisecond",header:this.i18nMillisecondColumnHeader,hidden:!c.milliseconds.test(this.format),numberArray:r,focusedValue:this.getInitialFocusedValueForUnit("millisecond",r)}],this.timePickerDescriptors=this.timePickerDescriptors.filter(i=>!i.hidden)}getNumberArrayForUnit(e){let t=this.timePickerDescriptors.find(o=>o.unit===e);return t?t.numberArray:[]}isSelected(e,t){return this.formattedTime[e]===String(t)}select(e,t){this.isSelected(e,t)||(this.formattedTime=Object.assign(Object.assign({},this.formattedTime),{[e]:String(t)}),this.timeUpdate(e,t),this.elementListScrollToTop(e,t,"smooth"),this.timeChange.emit(this._time.toFormat(this.format)))}updateDescriptorFocusedValue(e,t){let o=this.timePickerDescriptors.findIndex(r=>r.unit===e);o!==-1&&(this.timePickerDescriptors=[...this.timePickerDescriptors.slice(0,o),Object.assign(Object.assign({},this.timePickerDescriptors[o]),{focusedValue:t}),...this.timePickerDescriptors.slice(o+1)])}elementListScrollToTop(e,t,o){let r=this.getElementList(e),i=this.getElementContainer(e,t);if(r&&i){let n=r.clientHeight,s=i.clientHeight,d=11;this.hideHeader&&(d-=57);let T=i.offsetTop-n/2+s-d;r.scrollTo({top:T,behavior:o})}}updateScrollPositions(e=void 0){for(let t in this.formattedTime){let o=t;(!e||this.formattedTime[o]!==e[o])&&this.elementListScrollToTop(o,Number(this.formattedTime[o]),"instant")}}formatUnitValue(e,t){return e==="millisecond"?t.toString().padStart(3,"0"):t<10?`0${t}`:t.toString()}getColumnSeparator(e){return e+1<this.timePickerDescriptors.length&&this.timePickerDescriptors[e+1].unit==="millisecond"?".":":"}getElementContainerTabIndex(e,t){let o=this.timePickerDescriptors.find(r=>r.unit===t);return e===o?.focusedValue?"0":"-1"}render(){return a(p,{key:"09cdcc8534640d77b25879a07f14006405d3c214"},a("ix-date-time-card",{key:"9fee033e8165f382f421ba166e043fca2b09e459",embedded:this.embedded,timePickerAppearance:!0,corners:this.corners,hasFooter:!this.dateTimePickerAppearance,hideHeader:this.hideHeader},a("div",{key:"d63dbd18d824f50a334b1861fa18bab301669b98",class:"header",slot:"header"},a("ix-typography",{key:"fc8ce9112ecfc58fc2dc7ae607f3ce0c8cec0d01",format:"body"},this.i18nHeader)),a("div",{key:"daaed891e32730ab89128df3ecdf77601672a52e",class:"clock"},this.timePickerDescriptors.map((e,t)=>a("div",{class:"flex"},a("div",{class:{columns:!0,hidden:e.hidden}},a("div",{class:"column-header",title:e.header},e.header),a("div",{"data-element-list-id":e.unit,class:"element-list",tabIndex:-1},e.numberArray.map(o=>a("button",{"data-element-container-id":`${e.unit}-${o}`,class:{selected:this.isSelected(e.unit,o),"element-container":!0},onClick:()=>{this.select(e.unit,o)},onFocus:()=>this.onUnitCellFocus(e.unit,o),onBlur:r=>this.onUnitCellBlur(e.unit,r),tabindex:this.getElementContainerTabIndex(o,e.unit),"aria-label":`${e.header}: ${o}`},this.formatUnitValue(e.unit,o))),a("div",{class:"element-list-padding"}))),t!==this.timePickerDescriptors.length-1&&a("div",{class:{"column-separator":!0,hidden:e.hidden}},this.getColumnSeparator(t)))),this.timeRef&&a("div",{key:"dd5a8a76f824d09f9368514d93bab05e46daf860",class:"flex"},a("div",{key:"9474e05bb29a9b61e4e9a12f4e809a84c27dbf62",class:"column-separator"}),a("div",{key:"c5fbda667f1f66fdabd9d684ae31ea5450660772",class:"columns"},a("div",{key:"21e80c5a17f923484ef07b9aa07ce489aff34ff8",class:"column-header",title:"AM/PM"}),a("div",{key:"9d8bb505d8949236df1be47dd2616d109f75157f",class:"element-list",tabIndex:-1},a("button",{key:"f39fed9d0cd983953233e25ba2cbc88a15af5fdd","data-am-pm-id":"AM",class:{selected:this.timeRef==="AM","element-container":!0},onClick:()=>this.changeTimeReference("AM"),tabindex:"0","aria-label":"AM"},"AM"),a("button",{key:"5e67e450cf2e467ae667b656e4966c29acdef069","data-am-pm-id":"PM",class:{selected:this.timeRef==="PM","element-container":!0},onClick:()=>this.changeTimeReference("PM"),tabindex:"0","aria-label":"PM"},"PM"))))),a("div",{key:"588f88e82bd06bbb1bfe55af9e9de3fd39cdf7de",class:{footer:!0,"footer--compact":this.timePickerDescriptors.length<=2},slot:"footer"},a("ix-button",{key:"6b8dc896326dd57c2655b06b5a1f80e409bec677",class:"confirm-button",onClick:()=>{var e;this.timeSelect.emit((e=this._time)===null||e===void 0?void 0:e.toFormat(this.format))}},this.i18nConfirmTime))))}get hostElement(){return f(this)}static get watchers(){return{format:["watchFormatIntervalPropHandler"],hourInterval:["watchHourIntervalPropHandler"],minuteInterval:["watchMinuteIntervalPropHandler"],secondInterval:["watchSecondIntervalPropHandler"],millisecondInterval:["watchMillisecondIntervalPropHandler"],time:["watchTimePropHandler"],_time:["onTimeChange"]}}};F([u("keydown")],w.prototype,"handleKeyDown",null);w.style=I;export{w as ix_time_picker};
//# sourceMappingURL=ix-time-picker.entry-MSBGIQ37.js.map
