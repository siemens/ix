{"version":3,"sources":["node_modules/@siemens/ix/dist/esm/ix-date-dropdown.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, F as Fragment, H as Host, g as getElement } from './index-CtoreFVF.js';\nimport { n as iconHistory } from './index-8HpPmDK_.js';\nimport { D as DateTime } from './datetime-bDicGJUN.js';\nimport { m as makeRef } from './make-ref-bcj7UEIC.js';\nconst dateDropdownCss = \":host{display:inline-block;position:relative}:host *,:host *::after,:host *::before{box-sizing:border-box}:host ::-webkit-scrollbar-button{display:none}@-moz-document url-prefix(){:host *{scrollbar-color:var(--theme-scrollbar-thumb--background) var(--theme-scrollbar-track--background);scrollbar-width:thin}}:host{}:host ::-webkit-scrollbar{width:0.5rem;height:0.5rem}:host{}:host ::-webkit-scrollbar-track{border-radius:5px;background:var(--theme-scrollbar-track--background)}:host ::-webkit-scrollbar-track:hover{background:var(--theme-scrollbar-track--background--hover)}:host{}:host ::-webkit-scrollbar-thumb{border-radius:5px;background:var(--theme-scrollbar-thumb--background)}:host{}:host ::-webkit-scrollbar-thumb:hover{background:var(--theme-scrollbar-thumb--background--hover)}:host ::-webkit-scrollbar-corner{display:none}@media (max-width: 48em){:host .min-width{width:-moz-min-content;width:min-content}}@media (min-width: 48em){:host .border-right{border-right:var(--theme-x-weak-bdr-2)}}:host ix-button{width:100%}:host .max-height{max-height:-moz-max-content;max-height:max-content}:host .no-margin{margin:0;padding:0}:host .pull-right{float:right;padding:0 1rem 0.75rem 1rem}\";\nconst DateDropdown = /*#__PURE__*/(() => {\n  let DateDropdown = class {\n    constructor(hostRef) {\n      registerInstance(this, hostRef);\n      this.dateRangeChange = createEvent(this, \"dateRangeChange\", 7);\n      /**\n       * Disable the button that opens the dropdown containing the date picker.\n       */\n      this.disabled = false;\n      /**\n       * Date format string.\n       * See {@link https://moment.github.io/luxon/#/formatting?id=table-of-tokens} for all available tokens.\n       */\n      this.format = 'yyyy/LL/dd';\n      /**\n       * If true disables date range selection (from/to).\n       */\n      this.singleSelection = false;\n      /**\n       * Picker date. If the picker is in range mode this property is the start date.\n       * If set to `null` no default start date will be pre-selected.\n       *\n       * Format is based on `format`\n       */\n      this.from = '';\n      /**\n       * Picker date. If the picker is in range mode this property is the end date.\n       * If the picker is not in range mode leave this value `null`\n       *\n       * Format is based on `format`\n       */\n      this.to = '';\n      /**\n       * The earliest date that can be selected by the date picker.\n       * If not set there will be no restriction.\n       */\n      this.minDate = '';\n      /**\n       * The latest date that can be selected by the date picker.\n       * If not set there will be no restriction.\n       */\n      this.maxDate = '';\n      /**\n       * Used to set the initial select date range as well as the button name,\n       * if not set or no according date range label is found, nothing will be selected\n       */\n      this.dateRangeId = 'custom';\n      /**\n       * Button variant\n       */\n      this.variant = 'primary';\n      /**\n       * Loading button\n       */\n      this.loading = false;\n      /**\n       * Shows week numbers displayed on the left side of the date picker\n       *\n       * @since 3.0.0\n       */\n      this.showWeekNumbers = false;\n      /**\n       * Controls whether custom date range selection is disabled in the component.\n       * When set to 'false', the user can select a custom date range using the date picker.\n       * When set to 'true', only predefined time date ranges are available for selection.\n       */\n      this.customRangeDisabled = false;\n      /**\n       * An array of predefined date range options for the date picker.\n       * Each option is an object with a label describing the range and a function\n       * that returns the start and end dates of the range as a DateRangeOption object.\n       *\n       * Example format:\n       *   {\n       *     id: 'some unique id',\n       *     label: 'Name of the range',\n       *     from: undefined, to: '2023/03/29'\n       *   },\n       *   // ... other predefined date range options ...\n       */\n      this.dateRangeOptions = [];\n      /**\n       * The index of which day to start the week on, based on the Locale#weekdays array.\n       * E.g. if the locale is en-us, weekStartIndex = 1 results in starting the week on monday.\n       */\n      this.weekStartIndex = 0;\n      /**\n       * Text for custom dropdown item. Will be used for translation.\n       */\n      this.i18nCustomItem = 'Custom...';\n      /**\n       * Text for the done button. Will be used for translation.\n       */\n      this.i18nDone = 'Done';\n      /**\n       * Text for the done button. Will be used for translation.\n       */\n      this.i18nNoRange = 'No range set';\n      /** @internal */\n      this.today = DateTime.now().toISO();\n      /**\n       * Enable Popover API rendering for dropdown.\n       *\n       * @default false\n       * @since 4.3.0\n       */\n      this.enableTopLayer = false;\n      this.selectedDateRangeId = '';\n      this.triggerRef = makeRef();\n      this.datePickerTouched = false;\n    }\n    onDateRangeIdChange() {\n      this.onRangeListSelect(this.dateRangeId);\n      this.updateCurrentDate();\n      this.setDateRangeSelection(this.dateRangeId);\n      if (!this.currentRangeValue) {\n        return;\n      }\n      this.onDateSelect({\n        from: this.currentRangeValue.from,\n        to: this.currentRangeValue.to,\n        id: this.currentRangeValue.id\n      });\n    }\n    onDateRangeOptionsChange() {\n      this.initialize();\n      this.onDateRangeIdChange();\n    }\n    onDisabledChange() {\n      if (this.disabled) {\n        this.closeDropdown();\n      }\n    }\n    componentWillLoad() {\n      this.initialize();\n      this.setDateRangeSelection(this.dateRangeId);\n    }\n    /**\n     * Retrieves the currently selected date range from the component.\n     * This method returns the selected date range as a `DateChangeEvent` object.\n     */\n    async getDateRange() {\n      return this.currentRangeValue || {\n        id: '',\n        from: '',\n        to: ''\n      };\n    }\n    initialize() {\n      const isCustomRange = this.dateRangeId === 'custom' || !this.dateRangeId && !!this.from && !!this.to;\n      if (isCustomRange && !this.customRangeDisabled) {\n        this.selectedDateRangeId = 'custom';\n        this.updateCurrentDate();\n        return;\n      }\n      const isValidConfiguration = !isCustomRange && !this.from;\n      if (!isValidConfiguration) {\n        console.warn('\"from\" and \"range-date-id\" is provided this is an invalid combination. Using \"custom\".');\n        this.selectedDateRangeId = 'custom';\n        this.updateCurrentDate();\n        return;\n      }\n    }\n    updateCurrentDate() {\n      this.currentRangeValue = {\n        id: this.selectedDateRangeId,\n        from: this.from,\n        to: this.to\n      };\n    }\n    onDateSelect(rangeValue, preserveDropdown = true) {\n      this.dateRangeChange.emit(rangeValue);\n      if (preserveDropdown) {\n        this.closeDropdown();\n      }\n      this.datePickerTouched = false;\n    }\n    onRangeListSelect(id) {\n      if (this.setDateRangeSelection(id) && this.currentRangeValue) {\n        this.onDateSelect(this.currentRangeValue);\n      }\n    }\n    setDateRangeSelection(id) {\n      this.selectedDateRangeId = id;\n      const option = this.dateRangeOptions.find(range => range.id === id);\n      if (option) {\n        this.currentRangeValue = option;\n      }\n      return option;\n    }\n    closeDropdown() {\n      const dropdown = this.hostElement.shadowRoot.querySelector('ix-dropdown');\n      if (dropdown) {\n        dropdown.show = false;\n      }\n    }\n    getButtonLabel() {\n      var _a, _b;\n      if (this.selectedDateRangeId === 'custom' && ((_a = this.currentRangeValue) === null || _a === void 0 ? void 0 : _a.from)) {\n        let range = this.currentRangeValue.from;\n        if (this.currentRangeValue.to) {\n          range += ` - ${this.currentRangeValue.to}`;\n        }\n        return range;\n      }\n      if (!this.selectedDateRangeId) {\n        return this.i18nNoRange;\n      }\n      if (!this.dateRangeOptions || ((_b = this.dateRangeOptions) === null || _b === void 0 ? void 0 : _b.length) === 0) {\n        return this.i18nNoRange;\n      }\n      const option = this.dateRangeOptions.find(option => option.id === this.selectedDateRangeId);\n      if (!option) {\n        console.error(`Cannot find range option with id ${this.selectedDateRangeId}`);\n        return this.i18nNoRange;\n      }\n      return option.label;\n    }\n    render() {\n      var _a, _b, _c;\n      return h(Host, {\n        key: '1e4e1a6c37ac1d303d5a2850ceededb40d1864fc'\n      }, h(\"ix-button\", {\n        key: '37fcfabb6c22f70a16cca1d03896136c15e6317c',\n        \"data-testid\": \"date-dropdown-trigger\",\n        \"data-date-dropdown-trigger\": true,\n        variant: this.variant,\n        loading: this.loading,\n        icon: iconHistory,\n        ref: this.triggerRef,\n        disabled: this.disabled,\n        ariaLabel: this.ariaLabelDropdownButton\n      }, this.getButtonLabel()), h(\"ix-dropdown\", {\n        key: '9427f70c90fff6beb8aa5cda6b92c7767e51c66f',\n        \"data-testid\": \"date-dropdown\",\n        \"data-date-dropdown\": true,\n        class: \"min-width max-height\",\n        trigger: this.triggerRef.waitForCurrent(),\n        closeBehavior: \"outside\",\n        placement: \"bottom-start\",\n        enableTopLayer: this.enableTopLayer,\n        onShowChanged: ({\n          detail: show\n        }) => {\n          if (!show && this.selectedDateRangeId === 'custom' && this.datePickerTouched && this.currentRangeValue) {\n            this.onDateSelect(this.currentRangeValue);\n          }\n        }\n      }, h(\"ix-layout-grid\", {\n        key: '6f9c573a4cd7563c251b2aca4698e841a3bf64c5',\n        noMargin: true\n      }, h(\"ix-row\", {\n        key: '67ad45ba2c66bff95f76a1aac3c90139c1233df7'\n      }, ((_a = this.dateRangeOptions) === null || _a === void 0 ? void 0 : _a.length) > 1 && h(\"ix-col\", {\n        key: '4c60c9a3e00d12021714047d2a37f7926ae6ebdf',\n        class: {\n          'no-margin': true,\n          'border-right': this.selectedDateRangeId === 'custom'\n        }\n      }, this.dateRangeOptions.map(dateRangeOption => h(\"ix-dropdown-item\", {\n        label: dateRangeOption.label,\n        onClick: () => this.onRangeListSelect(dateRangeOption.id),\n        checked: this.selectedDateRangeId === dateRangeOption.id\n      })), h(\"div\", {\n        key: 'de40bc9a45497fc8ac848ecc5565e6a6ee41e2ea',\n        hidden: this.customRangeDisabled\n      }, h(\"ix-dropdown-item\", {\n        key: '2dfa9902b89a2247b0e7d007667cca2718fc4333',\n        label: this.i18nCustomItem,\n        checked: this.selectedDateRangeId === 'custom',\n        onClick: () => this.onRangeListSelect('custom')\n      }))), h(\"ix-col\", {\n        key: '0e474f288674c6e77f9f99a90122dcdf13b3d1d0',\n        class: \"no-margin\"\n      }, this.selectedDateRangeId === 'custom' && h(Fragment, {\n        key: '59e0b51735ed6ed8951ba7834b0d9bf88dc17149'\n      }, h(\"ix-date-picker\", {\n        key: 'f2f9cfc781f7733d9aa7e40b3ba980d71072286a',\n        embedded: true,\n        locale: this.locale,\n        onDateChange: e => {\n          e.stopPropagation();\n          this.currentRangeValue = Object.assign(Object.assign({}, e.detail), {\n            id: 'custom'\n          });\n          this.datePickerTouched = true;\n        },\n        onDateRangeChange: e => e.stopPropagation(),\n        format: this.format,\n        singleSelection: this.singleSelection,\n        from: this.from || ((_b = this.currentRangeValue) === null || _b === void 0 ? void 0 : _b.from),\n        to: this.to || ((_c = this.currentRangeValue) === null || _c === void 0 ? void 0 : _c.to),\n        minDate: this.minDate,\n        maxDate: this.maxDate,\n        today: this.today,\n        weekStartIndex: this.weekStartIndex,\n        showWeekNumbers: this.showWeekNumbers\n      }), h(\"div\", {\n        key: '5aff3dd50d2796a9da90b02cd2dddb29520ea507',\n        class: \"pull-right\"\n      }, h(\"ix-button\", {\n        key: 'c015bc6e5e66ee3e5d9dfac66a4bad0a29af6caa',\n        onClick: () => {\n          if (this.currentRangeValue) {\n            this.onDateSelect(this.currentRangeValue);\n          }\n        }\n      }, this.i18nDone))))))));\n    }\n    get hostElement() {\n      return getElement(this);\n    }\n    static get watchers() {\n      return {\n        \"dateRangeId\": [\"onDateRangeIdChange\"],\n        \"to\": [\"onDateRangeIdChange\"],\n        \"from\": [\"onDateRangeIdChange\"],\n        \"dateRangeOptions\": [\"onDateRangeOptionsChange\"],\n        \"disabled\": [\"onDisabledChange\"]\n      };\n    }\n  };\n  DateDropdown.style = dateDropdownCss;\n  return DateDropdown;\n})();\nexport { DateDropdown as ix_date_dropdown };\n"],"mappings":"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","names":["dateDropdownCss","DateDropdown","hostRef","registerInstance","createEvent","DateTime","makeRef","__async","isCustomRange","rangeValue","preserveDropdown","id","option","range","dropdown","_a","_b","_c","h","Host","iconHistory","show","dateRangeOption","Fragment","e","getElement"],"x_google_ignoreList":[0]}