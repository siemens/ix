{"version":3,"sources":["node_modules/@siemens/ix/dist/esm/anime.esm-DhE1t8Qh.js"],"sourcesContent":["/**\n * anime.js - ESM\n * @version v4.1.2\n * @author Julian Garnier\n * @license MIT\n * @copyright (c) 2025 Julian Garnier\n * @see https://animejs.com\n */\n\n// Global types ///////////////////////////////////////////////////////////////\n\n/**\n * @typedef {Object} DefaultsParams\n * @property {Number|String} [id]\n * @property {PercentageKeyframes|DurationKeyframes} [keyframes]\n * @property {EasingParam} [playbackEase]\n * @property {Number} [playbackRate]\n * @property {Number} [frameRate]\n * @property {Number|Boolean} [loop]\n * @property {Boolean} [reversed]\n * @property {Boolean} [alternate]\n * @property {Boolean|ScrollObserver} [autoplay]\n * @property {Number|FunctionValue} [duration]\n * @property {Number|FunctionValue} [delay]\n * @property {Number} [loopDelay]\n * @property {EasingParam} [ease]\n * @property {'none'|'replace'|'blend'|compositionTypes} [composition]\n * @property {(v: any) => any} [modifier]\n * @property {(tickable: Tickable) => void} [onBegin]\n * @property {(tickable: Tickable) => void} [onBeforeUpdate]\n * @property {(tickable: Tickable) => void} [onUpdate]\n * @property {(tickable: Tickable) => void} [onLoop]\n * @property {(tickable: Tickable) => void} [onPause]\n * @property {(tickable: Tickable) => void} [onComplete]\n * @property {(renderable: Renderable) => void} [onRender]\n */\n\n/** @typedef {JSAnimation|Timeline} Renderable */\n/** @typedef {Timer|Renderable} Tickable */\n/** @typedef {Timer&JSAnimation&Timeline} CallbackArgument */\n/** @typedef {Animatable|Tickable|Draggable|ScrollObserver|TextSplitter|Scope} Revertible */\n\n// Stagger types //////////////////////////////////////////////////////////////\n\n/**\n * @callback StaggerFunction\n * @param {Target} [target]\n * @param {Number} [index]\n * @param {Number} [length]\n * @param {Timeline} [tl]\n * @return {Number|String}\n */\n\n/**\n * @typedef  {Object} StaggerParams\n * @property {Number|String} [start]\n * @property {Number|'first'|'center'|'last'|'random'} [from]\n * @property {Boolean} [reversed]\n * @property {Array.<Number>} [grid]\n * @property {('x'|'y')} [axis]\n * @property {String|StaggerFunction} [use]\n * @property {Number} [total]\n * @property {EasingParam} [ease]\n * @property {TweenModifier} [modifier]\n */\n\n// Eases types ////////////////////////////////////////////////////////////////\n\n/**\n * @callback EasingFunction\n * @param {Number} time\n * @return {Number}\n */\n\n/**\n * @typedef {('linear'|'linear(x1, x2 25%, x3)'|'in'|'out'|'inOut'|'inQuad'|'outQuad'|'inOutQuad'|'inCubic'|'outCubic'|'inOutCubic'|'inQuart'|'outQuart'|'inOutQuart'|'inQuint'|'outQuint'|'inOutQuint'|'inSine'|'outSine'|'inOutSine'|'inCirc'|'outCirc'|'inOutCirc'|'inExpo'|'outExpo'|'inOutExpo'|'inBounce'|'outBounce'|'inOutBounce'|'inBack'|'outBack'|'inOutBack'|'inElastic'|'outElastic'|'inOutElastic'|'irregular'|'cubicBezier'|'steps'|'in(p = 1.675)'|'out(p = 1.675)'|'inOut(p = 1.675)'|'inBack(overshoot = 1.70158)'|'outBack(overshoot = 1.70158)'|'inOutBack(overshoot = 1.70158)'|'inElastic(amplitude = 1, period = .3)'|'outElastic(amplitude = 1, period = .3)'|'inOutElastic(amplitude = 1, period = .3)'|'irregular(length = 10, randomness = 1)'|'cubicBezier(x1, y1, x2, y2)'|'steps(steps = 10)')} EaseStringParamNames\n */\n\n// A hack to get both ease names suggestions AND allow any strings\n// https://github.com/microsoft/TypeScript/issues/29729#issuecomment-460346421\n/** @typedef {(String & {})|EaseStringParamNames|EasingFunction|Spring} EasingParam */\n\n/** @typedef {HTMLElement|SVGElement} DOMTarget */\n/** @typedef {Record<String, any>} JSTarget */\n/** @typedef {DOMTarget|JSTarget} Target */\n/** @typedef {Target|NodeList|String} TargetSelector */\n/** @typedef {DOMTarget|NodeList|String} DOMTargetSelector */\n/** @typedef {Array.<DOMTargetSelector>|DOMTargetSelector} DOMTargetsParam */\n/** @typedef {Array.<DOMTarget>} DOMTargetsArray */\n/** @typedef {Array.<JSTarget>|JSTarget} JSTargetsParam */\n/** @typedef {Array.<JSTarget>} JSTargetsArray */\n/** @typedef {Array.<TargetSelector>|TargetSelector} TargetsParam */\n/** @typedef {Array.<Target>} TargetsArray */\n\n// Callback types ////////////////////////////////////////////////////////////\n\n/**\n * @template T\n * @callback Callback\n * @param {T} self - Returns itself\n * @param {PointerEvent} [e]\n * @return {*}\n */\n\n/**\n * @template {object} T\n * @typedef {Object} TickableCallbacks\n * @property {Callback<T>} [onBegin]\n * @property {Callback<T>} [onBeforeUpdate]\n * @property {Callback<T>} [onUpdate]\n * @property {Callback<T>} [onLoop]\n * @property {Callback<T>} [onPause]\n * @property {Callback<T>} [onComplete]\n */\n\n/**\n * @template {object} T\n * @typedef {Object} RenderableCallbacks\n * @property {Callback<T>} [onRender]\n */\n\n// Timer types ////////////////////////////////////////////////////////////////\n\n/**\n * @typedef {Object} TimerOptions\n * @property {Number|String} [id]\n * @property {TweenParamValue} [duration]\n * @property {TweenParamValue} [delay]\n * @property {Number} [loopDelay]\n * @property {Boolean} [reversed]\n * @property {Boolean} [alternate]\n * @property {Boolean|Number} [loop]\n * @property {Boolean|ScrollObserver} [autoplay]\n * @property {Number} [frameRate]\n * @property {Number} [playbackRate]\n */\n\n/**\n\n/**\n * @typedef {TimerOptions & TickableCallbacks<Timer>} TimerParams\n */\n\n// Tween types ////////////////////////////////////////////////////////////////\n\n/**\n * @callback FunctionValue\n * @param {Target} target - The animated target\n * @param {Number} index - The target index\n * @param {Number} length - The total number of animated targets\n * @return {Number|String|TweenObjectValue|Array.<Number|String|TweenObjectValue>}\n */\n\n/**\n * @callback TweenModifier\n * @param {Number} value - The animated value\n * @return {Number|String}\n */\n\n/** @typedef {[Number, Number, Number, Number]} ColorArray */\n\n/**\n * @typedef {Object} Tween\n * @property {Number} id\n * @property {JSAnimation} parent\n * @property {String} property\n * @property {Target} target\n * @property {String|Number} _value\n * @property {Function|null} _func\n * @property {EasingFunction} _ease\n * @property {Array.<Number>} _fromNumbers\n * @property {Array.<Number>} _toNumbers\n * @property {Array.<String>} _strings\n * @property {Number} _fromNumber\n * @property {Number} _toNumber\n * @property {Array.<Number>} _numbers\n * @property {Number} _number\n * @property {String} _unit\n * @property {TweenModifier} _modifier\n * @property {Number} _currentTime\n * @property {Number} _delay\n * @property {Number} _updateDuration\n * @property {Number} _startTime\n * @property {Number} _changeDuration\n * @property {Number} _absoluteStartTime\n * @property {tweenTypes} _tweenType\n * @property {valueTypes} _valueType\n * @property {Number} _composition\n * @property {Number} _isOverlapped\n * @property {Number} _isOverridden\n * @property {Number} _renderTransforms\n * @property {Tween} _prevRep\n * @property {Tween} _nextRep\n * @property {Tween} _prevAdd\n * @property {Tween} _nextAdd\n * @property {Tween} _prev\n * @property {Tween} _next\n */\n\n/**\n * @typedef TweenDecomposedValue\n * @property {Number} t - Type\n * @property {Number} n - Single number value\n * @property {String} u - Value unit\n * @property {String} o - Value operator\n * @property {Array.<Number>} d - Array of Numbers (in case of complex value type)\n * @property {Array.<String>} s - Strings (in case of complex value type)\n */\n\n/** @typedef {{_head: null|Tween, _tail: null|Tween}} TweenPropertySiblings */\n/** @typedef {Record<String, TweenPropertySiblings>} TweenLookups */\n/** @typedef {WeakMap.<Target, TweenLookups>} TweenReplaceLookups */\n/** @typedef {Map.<Target, TweenLookups>} TweenAdditiveLookups */\n\n// Animation types ////////////////////////////////////////////////////////////\n\n/**\n * @typedef {Number|String|FunctionValue} TweenParamValue\n */\n\n/**\n * @typedef {TweenParamValue|[TweenParamValue, TweenParamValue]} TweenPropValue\n */\n\n/**\n * @typedef {(String & {})|'none'|'replace'|'blend'|compositionTypes} TweenComposition\n */\n\n/**\n * @typedef {Object} TweenParamsOptions\n * @property {TweenParamValue} [duration]\n * @property {TweenParamValue} [delay]\n * @property {EasingParam} [ease]\n * @property {TweenModifier} [modifier]\n * @property {TweenComposition} [composition]\n */\n\n/**\n * @typedef {Object} TweenValues\n * @property {TweenParamValue} [from]\n * @property {TweenPropValue} [to]\n * @property {TweenPropValue} [fromTo]\n */\n\n/**\n * @typedef {TweenParamsOptions & TweenValues} TweenKeyValue\n */\n\n/**\n * @typedef {Array.<TweenKeyValue|TweenPropValue>} ArraySyntaxValue\n */\n\n/**\n * @typedef {TweenParamValue|ArraySyntaxValue|TweenKeyValue} TweenOptions\n */\n\n/**\n * @typedef {Partial<{to: TweenParamValue|Array.<TweenParamValue>; from: TweenParamValue|Array.<TweenParamValue>; fromTo: TweenParamValue|Array.<TweenParamValue>;}>} TweenObjectValue\n */\n\n/**\n * @typedef {Object} PercentageKeyframeOptions\n * @property {EasingParam} [ease]\n */\n\n/**\n * @typedef {Record<String, TweenParamValue>} PercentageKeyframeParams\n */\n\n/**\n * @typedef {Record<String, PercentageKeyframeParams & PercentageKeyframeOptions>} PercentageKeyframes\n */\n\n/**\n * @typedef {Array<Record<String, TweenOptions | TweenModifier | boolean> & TweenParamsOptions>} DurationKeyframes\n */\n\n/**\n * @typedef {Object} AnimationOptions\n * @property {PercentageKeyframes|DurationKeyframes} [keyframes]\n * @property {EasingParam} [playbackEase]\n */\n\n// TODO: Currently setting TweenModifier to the intersected Record<> makes the FunctionValue type target param any if only one parameter is set\n/**\n * @typedef {Record<String, TweenOptions | Callback<JSAnimation> | TweenModifier | boolean | PercentageKeyframes | DurationKeyframes | ScrollObserver> & TimerOptions & AnimationOptions & TweenParamsOptions & TickableCallbacks<JSAnimation> & RenderableCallbacks<JSAnimation>} AnimationParams\n */\n\n// Timeline types /////////////////////////////////////////////////////////////\n\n/**\n * @typedef {Object} TimelineOptions\n * @property {DefaultsParams} [defaults]\n * @property {EasingParam} [playbackEase]\n */\n\n/**\n * @typedef {TimerOptions & TimelineOptions & TickableCallbacks<Timeline> & RenderableCallbacks<Timeline>} TimelineParams\n */\n\n// Animatable types ///////////////////////////////////////////////////////////\n\n/**\n * @callback AnimatablePropertySetter\n * @param  {Number|Array.<Number>} to\n * @param  {Number} [duration]\n * @param  {EasingParam} [ease]\n * @return {AnimatableObject}\n */\n\n/**\n * @callback AnimatablePropertyGetter\n * @return {Number|Array.<Number>}\n */\n\n/**\n * @typedef {AnimatablePropertySetter & AnimatablePropertyGetter} AnimatableProperty\n */\n\n/**\n * @typedef {Animatable & Record<String, AnimatableProperty>} AnimatableObject\n */\n\n/**\n * @typedef {Object} AnimatablePropertyParamsOptions\n * @property {String} [unit]\n * @property {TweenParamValue} [duration]\n * @property {EasingParam} [ease]\n * @property {TweenModifier} [modifier]\n * @property {TweenComposition} [composition]\n */\n\n/**\n * @typedef {Record<String, TweenParamValue | EasingParam | TweenModifier | TweenComposition | AnimatablePropertyParamsOptions> & AnimatablePropertyParamsOptions} AnimatableParams\n */\n\n// Scope types ////////////////////////////////////////////////////////////////\n\n/**\n * @typedef {Object} ReactRef\n * @property {HTMLElement|SVGElement|null} [current]\n */\n\n/**\n * @typedef {Object} AngularRef\n * @property {HTMLElement|SVGElement} [nativeElement]\n */\n\n/**\n * @typedef {Object} ScopeParams\n * @property {DOMTargetSelector|ReactRef|AngularRef} [root]\n * @property {DefaultsParams} [defaults]\n * @property {Record<String, String>} [mediaQueries]\n */\n\n/**\n * @template T\n * @callback ScopedCallback\n * @param {Scope} scope\n * @return {T}\n */\n\n/**\n * @callback ScopeCleanupCallback\n * @param {Scope} [scope]\n */\n\n/**\n * @callback ScopeConstructorCallback\n * @param {Scope} [scope]\n * @return {ScopeCleanupCallback|void}\n */\n\n/**\n * @callback ScopeMethod\n * @param {...*} args\n * @return {ScopeCleanupCallback|void}\n */\n\n// Draggable types ////////////////////////////////////////////////////////////\n\n/**\n * @typedef {Object} DraggableAxisParam\n * @property {String} [mapTo]\n * @property {TweenModifier} [modifier]\n * @property {TweenComposition} [composition]\n * @property {Number|Array<Number>|((draggable: Draggable) => Number|Array<Number>)} [snap]\n */\n\n/**\n * @typedef {Object} DraggableCursorParams\n * @property {String} [onHover]\n * @property {String} [onGrab]\n */\n\n/**\n * @typedef {Object} DraggableParams\n * @property {DOMTargetSelector} [trigger]\n * @property {DOMTargetSelector|Array<Number>|((draggable: Draggable) => DOMTargetSelector|Array<Number>)} [container]\n * @property {Boolean|DraggableAxisParam} [x]\n * @property {Boolean|DraggableAxisParam} [y]\n * @property {TweenModifier} [modifier]\n * @property {Number|Array<Number>|((draggable: Draggable) => Number|Array<Number>)} [snap]\n * @property {Number|Array<Number>|((draggable: Draggable) => Number|Array<Number>)} [containerPadding]\n * @property {Number|((draggable: Draggable) => Number)} [containerFriction]\n * @property {Number|((draggable: Draggable) => Number)} [releaseContainerFriction]\n * @property {Number|((draggable: Draggable) => Number)} [dragSpeed]\n * @property {Number|((draggable: Draggable) => Number)} [scrollSpeed]\n * @property {Number|((draggable: Draggable) => Number)} [scrollThreshold]\n * @property {Number|((draggable: Draggable) => Number)} [minVelocity]\n * @property {Number|((draggable: Draggable) => Number)} [maxVelocity]\n * @property {Number|((draggable: Draggable) => Number)} [velocityMultiplier]\n * @property {Number} [releaseMass]\n * @property {Number} [releaseStiffness]\n * @property {Number} [releaseDamping]\n * @property {Boolean} [releaseDamping]\n * @property {EasingParam} [releaseEase]\n * @property {Boolean|DraggableCursorParams|((draggable: Draggable) => Boolean|DraggableCursorParams)} [cursor]\n * @property {Callback<Draggable>} [onGrab]\n * @property {Callback<Draggable>} [onDrag]\n * @property {Callback<Draggable>} [onRelease]\n * @property {Callback<Draggable>} [onUpdate]\n * @property {Callback<Draggable>} [onSettle]\n * @property {Callback<Draggable>} [onSnap]\n * @property {Callback<Draggable>} [onResize]\n * @property {Callback<Draggable>} [onAfterResize]\n */\n\n// Text types /////////////////////////////////////////////////////////////////\n\n/**\n * @typedef {Object} splitTemplateParams\n * @property {false|String} [class]\n * @property {Boolean|'hidden'|'clip'|'visible'|'scroll'|'auto'} [wrap]\n * @property {Boolean|'top'|'right'|'bottom'|'left'|'center'} [clone]\n */\n\n/**\n * @typedef {Boolean|String} SplitValue\n */\n\n/**\n * @callback SplitFunctionValue\n * @param {Node|HTMLElement} [value]\n * @return String\n */\n\n/**\n * @typedef {Object} TextSplitterParams\n * @property {SplitValue|splitTemplateParams|SplitFunctionValue} [lines]\n * @property {SplitValue|splitTemplateParams|SplitFunctionValue} [words]\n * @property {SplitValue|splitTemplateParams|SplitFunctionValue} [chars]\n * @property {Boolean} [accessible]\n * @property {Boolean} [includeSpaces]\n * @property {Boolean} [debug]\n */\n\n// SVG types //////////////////////////////////////////////////////////////////\n\n/**\n * @typedef {SVGGeometryElement & {\n *   setAttribute(name: 'draw', value: `${number} ${number}`): void;\n *   draw: `${number} ${number}`;\n * }} DrawableSVGGeometry\n */\n\n// Environments\n\n// TODO: Do we need to check if we're running inside a worker ?\nconst isBrowser = typeof window !== 'undefined';\n\n/** @type {Window & {AnimeJS: Array}|null} */\nconst win = isBrowser ? (/** @type {Window & {AnimeJS: Array}} */ /** @type {unknown} */window) : null;\n\n/** @type {Document|null} */\nconst doc = isBrowser ? document : null;\n\n// Enums\n\n/** @enum {Number} */\nconst tweenTypes = {\n  OBJECT: 0,\n  ATTRIBUTE: 1,\n  CSS: 2,\n  TRANSFORM: 3,\n  CSS_VAR: 4\n};\n\n/** @enum {Number} */\nconst valueTypes = {\n  NUMBER: 0,\n  UNIT: 1,\n  COLOR: 2,\n  COMPLEX: 3\n};\n\n/** @enum {Number} */\nconst tickModes = {\n  NONE: 0,\n  AUTO: 1,\n  FORCE: 2\n};\n\n/** @enum {Number} */\nconst compositionTypes = {\n  replace: 0,\n  none: 1,\n  blend: 2\n};\n\n// Cache symbols\n\nconst isRegisteredTargetSymbol = Symbol();\nconst isDomSymbol = Symbol();\nconst isSvgSymbol = Symbol();\nconst transformsSymbol = Symbol();\nconst proxyTargetSymbol = Symbol();\n\n// Numbers\n\nconst minValue = 1e-11;\nconst maxValue = 1e12;\nconst K = 1e3;\nconst maxFps = 120;\n\n// Strings\n\nconst emptyString = '';\nconst shortTransforms = /*#__PURE__*/(() => {\n  const map = new Map();\n  map.set('x', 'translateX');\n  map.set('y', 'translateY');\n  map.set('z', 'translateZ');\n  return map;\n})();\nconst validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective', 'matrix', 'matrix3d'];\nconst transformsFragmentStrings = /*#__PURE__*/validTransforms.reduce((a, v) => ({\n  ...a,\n  [v]: v + '('\n}), {});\n\n// Functions\n\n/** @return {void} */\nconst noop = () => {};\n\n// Regex\n\nconst hexTestRgx = /(^#([\\da-f]{3}){1,2}$)|(^#([\\da-f]{4}){1,2}$)/i;\nconst rgbExecRgx = /rgb\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)/i;\nconst rgbaExecRgx = /rgba\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(-?\\d+|-?\\d*.\\d+)\\s*\\)/i;\nconst hslExecRgx = /hsl\\(\\s*(-?\\d+|-?\\d*.\\d+)\\s*,\\s*(-?\\d+|-?\\d*.\\d+)%\\s*,\\s*(-?\\d+|-?\\d*.\\d+)%\\s*\\)/i;\nconst hslaExecRgx = /hsla\\(\\s*(-?\\d+|-?\\d*.\\d+)\\s*,\\s*(-?\\d+|-?\\d*.\\d+)%\\s*,\\s*(-?\\d+|-?\\d*.\\d+)%\\s*,\\s*(-?\\d+|-?\\d*.\\d+)\\s*\\)/i;\n// export const digitWithExponentRgx = /[-+]?\\d*\\.?\\d+(?:[eE][-+]?\\d+)?/g;\nconst digitWithExponentRgx = /[-+]?\\d*\\.?\\d+(?:e[-+]?\\d)?/gi;\n// export const unitsExecRgx = /^([-+]?\\d*\\.?\\d+(?:[eE][-+]?\\d+)?)+([a-z]+|%)$/i;\nconst unitsExecRgx = /^([-+]?\\d*\\.?\\d+(?:e[-+]?\\d+)?)([a-z]+|%)$/i;\nconst lowerCaseRgx = /([a-z])([A-Z])/g;\nconst transformsExecRgx = /(\\w+)(\\([^)]+\\)+)/g; // Match inline transforms with cacl() values, returns the value wrapped in ()\n\n/** @type {DefaultsParams} */\nconst defaults = {\n  id: null,\n  keyframes: null,\n  playbackEase: null,\n  playbackRate: 1,\n  frameRate: maxFps,\n  loop: 0,\n  reversed: false,\n  alternate: false,\n  autoplay: true,\n  duration: K,\n  delay: 0,\n  loopDelay: 0,\n  ease: 'out(2)',\n  composition: compositionTypes.replace,\n  modifier: v => v,\n  onBegin: noop,\n  onBeforeUpdate: noop,\n  onUpdate: noop,\n  onLoop: noop,\n  onPause: noop,\n  onComplete: noop,\n  onRender: noop\n};\nconst scope = {\n  /** @type {Document|DOMTarget} */\n  root: doc\n};\nconst globals = {\n  /** @type {DefaultsParams} */\n  defaults,\n  /** @type {Number} */\n  precision: 4,\n  /** @type {Number} */\n  timeScale: 1,\n  /** @type {Number} */\n  tickThreshold: 200\n};\nconst globalVersions = {\n  version: '4.1.2',\n  engine: null\n};\nif (isBrowser) {\n  if (!win.AnimeJS) win.AnimeJS = [];\n  win.AnimeJS.push(globalVersions);\n}\n\n// Strings\n\n/**\n * @param  {String} str\n * @return {String}\n */\nconst toLowerCase = str => str.replace(lowerCaseRgx, '$1-$2').toLowerCase();\n\n/**\n * Prioritize this method instead of regex when possible\n * @param  {String} str\n * @param  {String} sub\n * @return {Boolean}\n */\nconst stringStartsWith = (str, sub) => str.indexOf(sub) === 0;\n\n// Time\n// Note: Date.now is used instead of performance.now since it is precise enough for timings calculations, performs slightly faster and works in Node.js environement.\nconst now = Date.now;\n\n// Types checkers\n\nconst isArr = Array.isArray;\n/**@param {any} a @return {a is Record<String, any>} */\nconst isObj = a => a && a.constructor === Object;\n/**@param {any} a @return {a is Number} */\nconst isNum = a => typeof a === 'number' && !isNaN(a);\n/**@param {any} a @return {a is String} */\nconst isStr = a => typeof a === 'string';\n/**@param {any} a @return {a is Function} */\nconst isFnc = a => typeof a === 'function';\n/**@param {any} a @return {a is undefined} */\nconst isUnd = a => typeof a === 'undefined';\n/**@param {any} a @return {a is null | undefined} */\nconst isNil = a => isUnd(a) || a === null;\n/**@param {any} a @return {a is SVGElement} */\nconst isSvg = a => isBrowser && a instanceof SVGElement;\n/**@param {any} a @return {Boolean} */\nconst isHex = a => hexTestRgx.test(a);\n/**@param {any} a @return {Boolean} */\nconst isRgb = a => stringStartsWith(a, 'rgb');\n/**@param {any} a @return {Boolean} */\nconst isHsl = a => stringStartsWith(a, 'hsl');\n/**@param {any} a @return {Boolean} */\nconst isCol = a => isHex(a) || isRgb(a) || isHsl(a);\n/**@param {any} a @return {Boolean} */\nconst isKey = a => !globals.defaults.hasOwnProperty(a);\n\n// Number\n\n/**\n * @param  {Number|String} str\n * @return {Number}\n */\nconst parseNumber = str => isStr(str) ? parseFloat(/** @type {String} */str) : (/** @type {Number} */str);\n\n// Math\n\nconst pow = Math.pow;\nconst sqrt = Math.sqrt;\nconst sin = Math.sin;\nconst cos = Math.cos;\nconst abs = Math.abs;\nconst ceil = Math.ceil;\nconst floor = Math.floor;\nconst asin = Math.asin;\nconst PI = Math.PI;\nconst _round = Math.round;\n\n/**\n * @param  {Number} v\n * @param  {Number} min\n * @param  {Number} max\n * @return {Number}\n */\nconst clamp = (v, min, max) => v < min ? min : v > max ? max : v;\nconst powCache = {};\n\n/**\n * @param  {Number} v\n * @param  {Number} decimalLength\n * @return {Number}\n */\nconst round = (v, decimalLength) => {\n  if (decimalLength < 0) return v;\n  if (!decimalLength) return _round(v);\n  let p = powCache[decimalLength];\n  if (!p) p = powCache[decimalLength] = 10 ** decimalLength;\n  return _round(v * p) / p;\n};\n\n/**\n * @param  {Number} start\n * @param  {Number} end\n * @param  {Number} progress\n * @return {Number}\n */\nconst interpolate = (start, end, progress) => start + (end - start) * progress;\n\n/**\n * @param  {Number} v\n * @return {Number}\n */\nconst clampInfinity = v => v === Infinity ? maxValue : v === -Infinity ? -1e12 : v;\n\n/**\n * @param  {Number} v\n * @return {Number}\n */\nconst normalizeTime = v => v <= minValue ? minValue : clampInfinity(round(v, 11));\n\n// Arrays\n\n/**\n * @template T\n * @param {T[]} a\n * @return {T[]}\n */\nconst cloneArray = a => isArr(a) ? [...a] : a;\n\n// Objects\n\n/**\n * @template T\n * @template U\n * @param {T} o1\n * @param {U} o2\n * @return {T & U}\n */\nconst mergeObjects = (o1, o2) => {\n  const merged = /** @type {T & U} */{\n    ...o1\n  };\n  for (let p in o2) {\n    const o1p = /** @type {T & U} */o1[p];\n    merged[p] = isUnd(o1p) ? /** @type {T & U} */o2[p] : o1p;\n  }\n  return merged;\n};\n\n// Linked lists\n\n/**\n * @param {Object} parent\n * @param {Function} callback\n * @param {Boolean} [reverse]\n * @param {String} [prevProp]\n * @param {String} [nextProp]\n * @return {void}\n */\nconst forEachChildren = (parent, callback, reverse, prevProp = '_prev', nextProp = '_next') => {\n  let next = parent._head;\n  let adjustedNextProp = nextProp;\n  if (reverse) {\n    next = parent._tail;\n    adjustedNextProp = prevProp;\n  }\n  while (next) {\n    const currentNext = next[adjustedNextProp];\n    callback(next);\n    next = currentNext;\n  }\n};\n\n/**\n * @param  {Object} parent\n * @param  {Object} child\n * @param  {String} [prevProp]\n * @param  {String} [nextProp]\n * @return {void}\n */\nconst removeChild = (parent, child, prevProp = '_prev', nextProp = '_next') => {\n  const prev = child[prevProp];\n  const next = child[nextProp];\n  prev ? prev[nextProp] = next : parent._head = next;\n  next ? next[prevProp] = prev : parent._tail = prev;\n  child[prevProp] = null;\n  child[nextProp] = null;\n};\n\n/**\n * @param  {Object} parent\n * @param  {Object} child\n * @param  {Function} [sortMethod]\n * @param  {String} prevProp\n * @param  {String} nextProp\n * @return {void}\n */\nconst addChild = (parent, child, sortMethod, prevProp = '_prev', nextProp = '_next') => {\n  let prev = parent._tail;\n  while (prev && sortMethod && sortMethod(prev, child)) prev = prev[prevProp];\n  const next = prev ? prev[nextProp] : parent._head;\n  prev ? prev[nextProp] = child : parent._head = child;\n  next ? next[prevProp] = child : parent._tail = child;\n  child[prevProp] = prev;\n  child[nextProp] = next;\n};\n\n/*\n * Base class to control framerate and playback rate.\n * Inherited by Engine, Timer, Animation and Timeline.\n */\nclass Clock {\n  /** @param {Number} [initTime] */\n  constructor(initTime = 0) {\n    /** @type {Number} */\n    this.deltaTime = 0;\n    /** @type {Number} */\n    this._currentTime = initTime;\n    /** @type {Number} */\n    this._elapsedTime = initTime;\n    /** @type {Number} */\n    this._startTime = initTime;\n    /** @type {Number} */\n    this._lastTime = initTime;\n    /** @type {Number} */\n    this._scheduledTime = 0;\n    /** @type {Number} */\n    this._frameDuration = round(K / maxFps, 0);\n    /** @type {Number} */\n    this._fps = maxFps;\n    /** @type {Number} */\n    this._speed = 1;\n    /** @type {Boolean} */\n    this._hasChildren = false;\n    /** @type {Tickable|Tween} */\n    this._head = null;\n    /** @type {Tickable|Tween} */\n    this._tail = null;\n  }\n  get fps() {\n    return this._fps;\n  }\n  set fps(frameRate) {\n    const previousFrameDuration = this._frameDuration;\n    const fr = +frameRate;\n    const fps = fr < minValue ? minValue : fr;\n    const frameDuration = round(K / fps, 0);\n    this._fps = fps;\n    this._frameDuration = frameDuration;\n    this._scheduledTime += frameDuration - previousFrameDuration;\n  }\n  get speed() {\n    return this._speed;\n  }\n  set speed(playbackRate) {\n    const pbr = +playbackRate;\n    this._speed = pbr < minValue ? minValue : pbr;\n  }\n\n  /**\n   * @param  {Number} time\n   * @return {tickModes}\n   */\n  requestTick(time) {\n    const scheduledTime = this._scheduledTime;\n    const elapsedTime = this._elapsedTime;\n    this._elapsedTime += time - elapsedTime;\n    // If the elapsed time is lower than the scheduled time\n    // this means not enough time has passed to hit one frameDuration\n    // so skip that frame\n    if (elapsedTime < scheduledTime) return tickModes.NONE;\n    const frameDuration = this._frameDuration;\n    const frameDelta = elapsedTime - scheduledTime;\n    // Ensures that _scheduledTime progresses in steps of at least 1 frameDuration.\n    // Skips ahead if the actual elapsed time is higher.\n    this._scheduledTime += frameDelta < frameDuration ? frameDuration : frameDelta;\n    return tickModes.AUTO;\n  }\n\n  /**\n   * @param  {Number} time\n   * @return {Number}\n   */\n  computeDeltaTime(time) {\n    const delta = time - this._lastTime;\n    this.deltaTime = delta;\n    this._lastTime = time;\n    return delta;\n  }\n}\n\n/**\n * @param  {Tickable} tickable\n * @param  {Number} time\n * @param  {Number} muteCallbacks\n * @param  {Number} internalRender\n * @param  {tickModes} tickMode\n * @return {Number}\n */\nconst render = (tickable, time, muteCallbacks, internalRender, tickMode) => {\n  const parent = tickable.parent;\n  const duration = tickable.duration;\n  const completed = tickable.completed;\n  const iterationDuration = tickable.iterationDuration;\n  const iterationCount = tickable.iterationCount;\n  const _currentIteration = tickable._currentIteration;\n  const _loopDelay = tickable._loopDelay;\n  const _reversed = tickable._reversed;\n  const _alternate = tickable._alternate;\n  const _hasChildren = tickable._hasChildren;\n  const tickableDelay = tickable._delay;\n  const tickablePrevAbsoluteTime = tickable._currentTime; // TODO: rename ._currentTime to ._absoluteCurrentTime\n\n  const tickableEndTime = tickableDelay + iterationDuration;\n  const tickableAbsoluteTime = time - tickableDelay;\n  const tickablePrevTime = clamp(tickablePrevAbsoluteTime, -tickableDelay, duration);\n  const tickableCurrentTime = clamp(tickableAbsoluteTime, -tickableDelay, duration);\n  const deltaTime = tickableAbsoluteTime - tickablePrevAbsoluteTime;\n  const isCurrentTimeAboveZero = tickableCurrentTime > 0;\n  const isCurrentTimeEqualOrAboveDuration = tickableCurrentTime >= duration;\n  const isSetter = duration <= minValue;\n  const forcedTick = tickMode === tickModes.FORCE;\n  let isOdd = 0;\n  let iterationElapsedTime = tickableAbsoluteTime;\n  // Render checks\n  // Used to also check if the children have rendered in order to trigger the onRender callback on the parent timer\n  let hasRendered = 0;\n\n  // Execute the \"expensive\" iterations calculations only when necessary\n  if (iterationCount > 1) {\n    // bitwise NOT operator seems to be generally faster than Math.floor() across browsers\n    const currentIteration = ~~(tickableCurrentTime / (iterationDuration + (isCurrentTimeEqualOrAboveDuration ? 0 : _loopDelay)));\n    tickable._currentIteration = clamp(currentIteration, 0, iterationCount);\n    // Prevent the iteration count to go above the max iterations when reaching the end of the animation\n    if (isCurrentTimeEqualOrAboveDuration) tickable._currentIteration--;\n    isOdd = tickable._currentIteration % 2;\n    iterationElapsedTime = tickableCurrentTime % (iterationDuration + _loopDelay) || 0;\n  }\n\n  // Checks if exactly one of _reversed and (_alternate && isOdd) is true\n  const isReversed = _reversed ^ (_alternate && isOdd);\n  const _ease = /** @type {Renderable} */tickable._ease;\n  let iterationTime = isCurrentTimeEqualOrAboveDuration ? isReversed ? 0 : duration : isReversed ? iterationDuration - iterationElapsedTime : iterationElapsedTime;\n  if (_ease) iterationTime = iterationDuration * _ease(iterationTime / iterationDuration) || 0;\n  const isRunningBackwards = (parent ? parent.backwards : tickableAbsoluteTime < tickablePrevAbsoluteTime) ? !isReversed : !!isReversed;\n  tickable._currentTime = tickableAbsoluteTime;\n  tickable._iterationTime = iterationTime;\n  tickable.backwards = isRunningBackwards;\n  if (isCurrentTimeAboveZero && !tickable.began) {\n    tickable.began = true;\n    if (!muteCallbacks && !(parent && (isRunningBackwards || !parent.began))) {\n      tickable.onBegin(/** @type {CallbackArgument} */tickable);\n    }\n  } else if (tickableAbsoluteTime <= 0) {\n    tickable.began = false;\n  }\n\n  // Only triggers onLoop for tickable without children, otherwise call the the onLoop callback in the tick function\n  // Make sure to trigger the onLoop before rendering to allow .refresh() to pickup the current values\n  if (!muteCallbacks && !_hasChildren && isCurrentTimeAboveZero && tickable._currentIteration !== _currentIteration) {\n    tickable.onLoop(/** @type {CallbackArgument} */tickable);\n  }\n  if (forcedTick || tickMode === tickModes.AUTO && (time >= tickableDelay && time <= tickableEndTime ||\n  // Normal render\n  time <= tickableDelay && tickablePrevTime > tickableDelay ||\n  // Playhead is before the animation start time so make sure the animation is at its initial state\n  time >= tickableEndTime && tickablePrevTime !== duration // Playhead is after the animation end time so make sure the animation is at its end state\n  ) || iterationTime >= tickableEndTime && tickablePrevTime !== duration || iterationTime <= tickableDelay && tickablePrevTime > 0 || time <= tickablePrevTime && tickablePrevTime === duration && completed ||\n  // Force a render if a seek occurs on an completed animation\n  isCurrentTimeEqualOrAboveDuration && !completed && isSetter // This prevents 0 duration tickables to be skipped\n  ) {\n    if (isCurrentTimeAboveZero) {\n      // Trigger onUpdate callback before rendering\n      tickable.computeDeltaTime(tickablePrevTime);\n      if (!muteCallbacks) tickable.onBeforeUpdate(/** @type {CallbackArgument} */tickable);\n    }\n\n    // Start tweens rendering\n    if (!_hasChildren) {\n      // Time has jumped more than globals.tickThreshold so consider this tick manual\n      const forcedRender = forcedTick || (isRunningBackwards ? deltaTime * -1 : deltaTime) >= globals.tickThreshold;\n      const absoluteTime = tickable._offset + (parent ? parent._offset : 0) + tickableDelay + iterationTime;\n\n      // Only Animation can have tweens, Timer returns undefined\n      let tween = /** @type {Tween} */ /** @type {JSAnimation} */tickable._head;\n      let tweenTarget;\n      let tweenStyle;\n      let tweenTargetTransforms;\n      let tweenTargetTransformsProperties;\n      let tweenTransformsNeedUpdate = 0;\n      while (tween) {\n        const tweenComposition = tween._composition;\n        const tweenCurrentTime = tween._currentTime;\n        const tweenChangeDuration = tween._changeDuration;\n        const tweenAbsEndTime = tween._absoluteStartTime + tween._changeDuration;\n        const tweenNextRep = tween._nextRep;\n        const tweenPrevRep = tween._prevRep;\n        const tweenHasComposition = tweenComposition !== compositionTypes.none;\n        if ((forcedRender || (tweenCurrentTime !== tweenChangeDuration || absoluteTime <= tweenAbsEndTime + (tweenNextRep ? tweenNextRep._delay : 0)) && (tweenCurrentTime !== 0 || absoluteTime >= tween._absoluteStartTime)) && (!tweenHasComposition || !tween._isOverridden && (!tween._isOverlapped || absoluteTime <= tweenAbsEndTime) && (!tweenNextRep || tweenNextRep._isOverridden || absoluteTime <= tweenNextRep._absoluteStartTime) && (!tweenPrevRep || tweenPrevRep._isOverridden || absoluteTime >= tweenPrevRep._absoluteStartTime + tweenPrevRep._changeDuration + tween._delay))) {\n          const tweenNewTime = tween._currentTime = clamp(iterationTime - tween._startTime, 0, tweenChangeDuration);\n          const tweenProgress = tween._ease(tweenNewTime / tween._updateDuration);\n          const tweenModifier = tween._modifier;\n          const tweenValueType = tween._valueType;\n          const tweenType = tween._tweenType;\n          const tweenIsObject = tweenType === tweenTypes.OBJECT;\n          const tweenIsNumber = tweenValueType === valueTypes.NUMBER;\n          // Only round the in-between frames values if the final value is a string\n          const tweenPrecision = tweenIsNumber && tweenIsObject || tweenProgress === 0 || tweenProgress === 1 ? -1 : globals.precision;\n\n          // Recompose tween value\n          /** @type {String|Number} */\n          let value;\n          /** @type {Number} */\n          let number;\n          if (tweenIsNumber) {\n            value = number = /** @type {Number} */tweenModifier(round(interpolate(tween._fromNumber, tween._toNumber, tweenProgress), tweenPrecision));\n          } else if (tweenValueType === valueTypes.UNIT) {\n            // Rounding the values speed up string composition\n            number = /** @type {Number} */tweenModifier(round(interpolate(tween._fromNumber, tween._toNumber, tweenProgress), tweenPrecision));\n            value = `${number}${tween._unit}`;\n          } else if (tweenValueType === valueTypes.COLOR) {\n            const fn = tween._fromNumbers;\n            const tn = tween._toNumbers;\n            const r = round(clamp(/** @type {Number} */tweenModifier(interpolate(fn[0], tn[0], tweenProgress)), 0, 255), 0);\n            const g = round(clamp(/** @type {Number} */tweenModifier(interpolate(fn[1], tn[1], tweenProgress)), 0, 255), 0);\n            const b = round(clamp(/** @type {Number} */tweenModifier(interpolate(fn[2], tn[2], tweenProgress)), 0, 255), 0);\n            const a = clamp(/** @type {Number} */tweenModifier(round(interpolate(fn[3], tn[3], tweenProgress), tweenPrecision)), 0, 1);\n            value = `rgba(${r},${g},${b},${a})`;\n            if (tweenHasComposition) {\n              const ns = tween._numbers;\n              ns[0] = r;\n              ns[1] = g;\n              ns[2] = b;\n              ns[3] = a;\n            }\n          } else if (tweenValueType === valueTypes.COMPLEX) {\n            value = tween._strings[0];\n            for (let j = 0, l = tween._toNumbers.length; j < l; j++) {\n              const n = /** @type {Number} */tweenModifier(round(interpolate(tween._fromNumbers[j], tween._toNumbers[j], tweenProgress), tweenPrecision));\n              const s = tween._strings[j + 1];\n              value += `${s ? n + s : n}`;\n              if (tweenHasComposition) {\n                tween._numbers[j] = n;\n              }\n            }\n          }\n\n          // For additive tweens and Animatables\n          if (tweenHasComposition) {\n            tween._number = number;\n          }\n          if (!internalRender && tweenComposition !== compositionTypes.blend) {\n            const tweenProperty = tween.property;\n            tweenTarget = tween.target;\n            if (tweenIsObject) {\n              tweenTarget[tweenProperty] = value;\n            } else if (tweenType === tweenTypes.ATTRIBUTE) {\n              /** @type {DOMTarget} */tweenTarget.setAttribute(tweenProperty, /** @type {String} */value);\n            } else {\n              tweenStyle = /** @type {DOMTarget} */tweenTarget.style;\n              if (tweenType === tweenTypes.TRANSFORM) {\n                if (tweenTarget !== tweenTargetTransforms) {\n                  tweenTargetTransforms = tweenTarget;\n                  // NOTE: Referencing the cachedTransforms in the tween property directly can be a little bit faster but appears to increase memory usage.\n                  tweenTargetTransformsProperties = tweenTarget[transformsSymbol];\n                }\n                tweenTargetTransformsProperties[tweenProperty] = value;\n                tweenTransformsNeedUpdate = 1;\n              } else if (tweenType === tweenTypes.CSS) {\n                tweenStyle[tweenProperty] = value;\n              } else if (tweenType === tweenTypes.CSS_VAR) {\n                tweenStyle.setProperty(tweenProperty, /** @type {String} */value);\n              }\n            }\n            if (isCurrentTimeAboveZero) hasRendered = 1;\n          } else {\n            // Used for composing timeline tweens without having to do a real render\n            tween._value = value;\n          }\n        }\n\n        // NOTE: Possible improvement: Use translate(x,y) / translate3d(x,y,z) syntax\n        // to reduce memory usage on string composition\n        if (tweenTransformsNeedUpdate && tween._renderTransforms) {\n          let str = emptyString;\n          for (let key in tweenTargetTransformsProperties) {\n            str += `${transformsFragmentStrings[key]}${tweenTargetTransformsProperties[key]}) `;\n          }\n          tweenStyle.transform = str;\n          tweenTransformsNeedUpdate = 0;\n        }\n        tween = tween._next;\n      }\n      if (!muteCallbacks && hasRendered) {\n        /** @type {JSAnimation} */tickable.onRender(/** @type {JSAnimation} */tickable);\n      }\n    }\n    if (!muteCallbacks && isCurrentTimeAboveZero) {\n      tickable.onUpdate(/** @type {CallbackArgument} */tickable);\n    }\n  }\n\n  // End tweens rendering\n\n  // Handle setters on timeline differently and allow re-trigering the onComplete callback when seeking backwards\n  if (parent && isSetter) {\n    if (!muteCallbacks && (parent.began && !isRunningBackwards && tickableAbsoluteTime >= duration && !completed || isRunningBackwards && tickableAbsoluteTime <= minValue && completed)) {\n      tickable.onComplete(/** @type {CallbackArgument} */tickable);\n      tickable.completed = !isRunningBackwards;\n    }\n    // If currentTime is both above 0 and at least equals to duration, handles normal onComplete or infinite loops\n  } else if (isCurrentTimeAboveZero && isCurrentTimeEqualOrAboveDuration) {\n    if (iterationCount === Infinity) {\n      // Offset the tickable _startTime with its duration to reset _currentTime to 0 and continue the infinite timer\n      tickable._startTime += tickable.duration;\n    } else if (tickable._currentIteration >= iterationCount - 1) {\n      // By setting paused to true, we tell the engine loop to not render this tickable and removes it from the list on the next tick\n      tickable.paused = true;\n      if (!completed && !_hasChildren) {\n        // If the tickable has children, triggers onComplete() only when all children have completed in the tick function\n        tickable.completed = true;\n        if (!muteCallbacks && !(parent && (isRunningBackwards || !parent.began))) {\n          tickable.onComplete(/** @type {CallbackArgument} */tickable);\n          tickable._resolve(/** @type {CallbackArgument} */tickable);\n        }\n      }\n    }\n    // Otherwise set the completed flag to false\n  } else {\n    tickable.completed = false;\n  }\n\n  // NOTE: hasRendered * direction (negative for backwards) this way we can remove the tickable.backwards property completly ?\n  return hasRendered;\n};\n\n/**\n * @param  {Tickable} tickable\n * @param  {Number} time\n * @param  {Number} muteCallbacks\n * @param  {Number} internalRender\n * @param  {Number} tickMode\n * @return {void}\n */\nconst tick = (tickable, time, muteCallbacks, internalRender, tickMode) => {\n  const _currentIteration = tickable._currentIteration;\n  render(tickable, time, muteCallbacks, internalRender, tickMode);\n  if (tickable._hasChildren) {\n    const tl = /** @type {Timeline} */tickable;\n    const tlIsRunningBackwards = tl.backwards;\n    const tlChildrenTime = internalRender ? time : tl._iterationTime;\n    const tlCildrenTickTime = now();\n    let tlChildrenHasRendered = 0;\n    let tlChildrenHaveCompleted = true;\n\n    // If the timeline has looped forward, we need to manually triggers children skipped callbacks\n    if (!internalRender && tl._currentIteration !== _currentIteration) {\n      const tlIterationDuration = tl.iterationDuration;\n      forEachChildren(tl, (/** @type {JSAnimation} */child) => {\n        if (!tlIsRunningBackwards) {\n          // Force an internal render to trigger the callbacks if the child has not completed on loop\n          if (!child.completed && !child.backwards && child._currentTime < child.iterationDuration) {\n            render(child, tlIterationDuration, muteCallbacks, 1, tickModes.FORCE);\n          }\n          // Reset their began and completed flags to allow retrigering callbacks on the next iteration\n          child.began = false;\n          child.completed = false;\n        } else {\n          const childDuration = child.duration;\n          const childStartTime = child._offset + child._delay;\n          const childEndTime = childStartTime + childDuration;\n          // Triggers the onComplete callback on reverse for children on the edges of the timeline\n          if (!muteCallbacks && childDuration <= minValue && (!childStartTime || childEndTime === tlIterationDuration)) {\n            child.onComplete(child);\n          }\n        }\n      });\n      if (!muteCallbacks) tl.onLoop(/** @type {CallbackArgument} */tl);\n    }\n    forEachChildren(tl, (/** @type {JSAnimation} */child) => {\n      const childTime = round((tlChildrenTime - child._offset) * child._speed, 12); // Rounding is needed when using seconds\n      const childTickMode = child._fps < tl._fps ? child.requestTick(tlCildrenTickTime) : tickMode;\n      tlChildrenHasRendered += render(child, childTime, muteCallbacks, internalRender, childTickMode);\n      if (!child.completed && tlChildrenHaveCompleted) tlChildrenHaveCompleted = false;\n    }, tlIsRunningBackwards);\n\n    // Renders on timeline are triggered by its children so it needs to be set after rendering the children\n    if (!muteCallbacks && tlChildrenHasRendered) tl.onRender(/** @type {CallbackArgument} */tl);\n\n    // Triggers the timeline onComplete() once all chindren all completed and the current time has reached the end\n    if ((tlChildrenHaveCompleted || tlIsRunningBackwards) && tl._currentTime >= tl.duration) {\n      // Make sure the paused flag is false in case it has been skipped in the render function\n      tl.paused = true;\n      if (!tl.completed) {\n        tl.completed = true;\n        if (!muteCallbacks) {\n          tl.onComplete(/** @type {CallbackArgument} */tl);\n          tl._resolve(/** @type {CallbackArgument} */tl);\n        }\n      }\n    }\n  }\n};\nconst additive = {\n  animation: null,\n  update: noop\n};\n\n/**\n * @typedef AdditiveAnimation\n * @property {Number} duration\n * @property {Number} _offset\n * @property {Number} _delay\n * @property {Tween} _head\n * @property {Tween} _tail\n */\n\n/**\n * @param  {TweenAdditiveLookups} lookups\n * @return {AdditiveAnimation}\n */\nconst addAdditiveAnimation = lookups => {\n  let animation = additive.animation;\n  if (!animation) {\n    animation = {\n      duration: minValue,\n      computeDeltaTime: noop,\n      _offset: 0,\n      _delay: 0,\n      _head: null,\n      _tail: null\n    };\n    additive.animation = animation;\n    additive.update = () => {\n      lookups.forEach(propertyAnimation => {\n        for (let propertyName in propertyAnimation) {\n          const tweens = propertyAnimation[propertyName];\n          const lookupTween = tweens._head;\n          if (lookupTween) {\n            const valueType = lookupTween._valueType;\n            const additiveValues = valueType === valueTypes.COMPLEX || valueType === valueTypes.COLOR ? cloneArray(lookupTween._fromNumbers) : null;\n            let additiveValue = lookupTween._fromNumber;\n            let tween = tweens._tail;\n            while (tween && tween !== lookupTween) {\n              if (additiveValues) {\n                for (let i = 0, l = tween._numbers.length; i < l; i++) additiveValues[i] += tween._numbers[i];\n              } else {\n                additiveValue += tween._number;\n              }\n              tween = tween._prevAdd;\n            }\n            lookupTween._toNumber = additiveValue;\n            lookupTween._toNumbers = additiveValues;\n          }\n        }\n      });\n      // TODO: Avoid polymorphism here, idealy the additive animation should be a regular animation with a higher priority in the render loop\n      render(animation, 1, 1, 0, tickModes.FORCE);\n    };\n  }\n  return animation;\n};\nconst engineTickMethod = /*#__PURE__*/(() => isBrowser ? requestAnimationFrame : setImmediate)();\nconst engineCancelMethod = /*#__PURE__*/(() => isBrowser ? cancelAnimationFrame : clearImmediate)();\nclass Engine extends Clock {\n  /** @param {Number} [initTime] */\n  constructor(initTime) {\n    super(initTime);\n    this.useDefaultMainLoop = true;\n    this.pauseOnDocumentHidden = true;\n    /** @type {DefaultsParams} */\n    this.defaults = defaults;\n    this.paused = isBrowser && doc.hidden ? true : false;\n    /** @type {Number|NodeJS.Immediate} */\n    this.reqId = null;\n  }\n  update() {\n    const time = this._currentTime = now();\n    if (this.requestTick(time)) {\n      this.computeDeltaTime(time);\n      const engineSpeed = this._speed;\n      const engineFps = this._fps;\n      let activeTickable = /** @type {Tickable} */this._head;\n      while (activeTickable) {\n        const nextTickable = activeTickable._next;\n        if (!activeTickable.paused) {\n          tick(activeTickable, (time - activeTickable._startTime) * activeTickable._speed * engineSpeed, 0,\n          // !muteCallbacks\n          0,\n          // !internalRender\n          activeTickable._fps < engineFps ? activeTickable.requestTick(time) : tickModes.AUTO);\n        } else {\n          removeChild(this, activeTickable);\n          this._hasChildren = !!this._tail;\n          activeTickable._running = false;\n          if (activeTickable.completed && !activeTickable._cancelled) {\n            activeTickable.cancel();\n          }\n        }\n        activeTickable = nextTickable;\n      }\n      additive.update();\n    }\n  }\n  wake() {\n    if (this.useDefaultMainLoop && !this.reqId && !this.paused) {\n      this.reqId = engineTickMethod(tickEngine);\n    }\n    return this;\n  }\n  pause() {\n    this.paused = true;\n    return killEngine();\n  }\n  resume() {\n    if (!this.paused) return;\n    this.paused = false;\n    forEachChildren(this, (/** @type {Tickable} */child) => child.resetTime());\n    return this.wake();\n  }\n\n  // Getter and setter for speed\n  get speed() {\n    return this._speed * (globals.timeScale === 1 ? 1 : K);\n  }\n  set speed(playbackRate) {\n    this._speed = playbackRate * globals.timeScale;\n    forEachChildren(this, (/** @type {Tickable} */child) => child.speed = child._speed);\n  }\n\n  // Getter and setter for timeUnit\n  get timeUnit() {\n    return globals.timeScale === 1 ? 'ms' : 's';\n  }\n  set timeUnit(unit) {\n    const secondsScale = 0.001;\n    const isSecond = unit === 's';\n    const newScale = isSecond ? secondsScale : 1;\n    if (globals.timeScale !== newScale) {\n      globals.timeScale = newScale;\n      globals.tickThreshold = 200 * newScale;\n      const scaleFactor = isSecond ? secondsScale : K;\n      /** @type {Number} */\n      this.defaults.duration *= scaleFactor;\n      this._speed *= scaleFactor;\n    }\n  }\n\n  // Getter and setter for precision\n  get precision() {\n    return globals.precision;\n  }\n  set precision(precision) {\n    globals.precision = precision;\n  }\n}\nconst engine = /*#__PURE__*/(() => {\n  const engine = new Engine(now());\n  if (isBrowser) {\n    globalVersions.engine = engine;\n    doc.addEventListener('visibilitychange', () => {\n      if (!engine.pauseOnDocumentHidden) return;\n      doc.hidden ? engine.pause() : engine.resume();\n    });\n  }\n  return engine;\n})();\nconst tickEngine = () => {\n  if (engine._head) {\n    engine.reqId = engineTickMethod(tickEngine);\n    engine.update();\n  } else {\n    engine.reqId = 0;\n  }\n};\nconst killEngine = () => {\n  engineCancelMethod(/** @type {NodeJS.Immediate & Number} */engine.reqId);\n  engine.reqId = 0;\n  return engine;\n};\n\n/**\n * @param  {DOMTarget} target\n * @param  {String} propName\n * @param  {Object} animationInlineStyles\n * @return {String}\n */\nconst parseInlineTransforms = (target, propName, animationInlineStyles) => {\n  const inlineTransforms = target.style.transform;\n  let inlinedStylesPropertyValue;\n  if (inlineTransforms) {\n    const cachedTransforms = target[transformsSymbol];\n    let t;\n    while (t = transformsExecRgx.exec(inlineTransforms)) {\n      const inlinePropertyName = t[1];\n      // const inlinePropertyValue = t[2];\n      const inlinePropertyValue = t[2].slice(1, -1);\n      cachedTransforms[inlinePropertyName] = inlinePropertyValue;\n      if (inlinePropertyName === propName) {\n        inlinedStylesPropertyValue = inlinePropertyValue;\n        // Store the new parsed inline styles if animationInlineStyles is provided\n        if (animationInlineStyles) {\n          animationInlineStyles[propName] = inlinePropertyValue;\n        }\n      }\n    }\n  }\n  return inlineTransforms && !isUnd(inlinedStylesPropertyValue) ? inlinedStylesPropertyValue : stringStartsWith(propName, 'scale') ? '1' : stringStartsWith(propName, 'rotate') || stringStartsWith(propName, 'skew') ? '0deg' : '0px';\n};\n\n/**\n * @param  {DOMTargetsParam|TargetsParam} v\n * @return {NodeList|HTMLCollection}\n */\nfunction getNodeList(v) {\n  const n = isStr(v) ? scope.root.querySelectorAll(v) : v;\n  if (n instanceof NodeList || n instanceof HTMLCollection) return n;\n}\n\n/**\n * @overload\n * @param  {DOMTargetsParam} targets\n * @return {DOMTargetsArray}\n *\n * @overload\n * @param  {JSTargetsParam} targets\n * @return {JSTargetsArray}\n *\n * @overload\n * @param  {TargetsParam} targets\n * @return {TargetsArray}\n *\n * @param  {DOMTargetsParam|JSTargetsParam|TargetsParam} targets\n */\nfunction parseTargets(targets) {\n  if (isNil(targets)) return /** @type {TargetsArray} */[];\n  if (isArr(targets)) {\n    const flattened = targets.flat(Infinity);\n    /** @type {TargetsArray} */\n    const parsed = [];\n    for (let i = 0, l = flattened.length; i < l; i++) {\n      const item = flattened[i];\n      if (!isNil(item)) {\n        const nodeList = getNodeList(item);\n        if (nodeList) {\n          for (let j = 0, jl = nodeList.length; j < jl; j++) {\n            const subItem = nodeList[j];\n            if (!isNil(subItem)) {\n              let isDuplicate = false;\n              for (let k = 0, kl = parsed.length; k < kl; k++) {\n                if (parsed[k] === subItem) {\n                  isDuplicate = true;\n                  break;\n                }\n              }\n              if (!isDuplicate) {\n                parsed.push(subItem);\n              }\n            }\n          }\n        } else {\n          let isDuplicate = false;\n          for (let j = 0, jl = parsed.length; j < jl; j++) {\n            if (parsed[j] === item) {\n              isDuplicate = true;\n              break;\n            }\n          }\n          if (!isDuplicate) {\n            parsed.push(item);\n          }\n        }\n      }\n    }\n    return parsed;\n  }\n  if (!isBrowser) return /** @type {JSTargetsArray} */[targets];\n  const nodeList = getNodeList(targets);\n  if (nodeList) return /** @type {DOMTargetsArray} */Array.from(nodeList);\n  return /** @type {TargetsArray} */[targets];\n}\n\n/**\n * @overload\n * @param  {DOMTargetsParam} targets\n * @return {DOMTargetsArray}\n *\n * @overload\n * @param  {JSTargetsParam} targets\n * @return {JSTargetsArray}\n *\n * @overload\n * @param  {TargetsParam} targets\n * @return {TargetsArray}\n *\n * @param  {DOMTargetsParam|JSTargetsParam|TargetsParam} targets\n */\nfunction registerTargets(targets) {\n  const parsedTargetsArray = parseTargets(targets);\n  const parsedTargetsLength = parsedTargetsArray.length;\n  if (parsedTargetsLength) {\n    for (let i = 0; i < parsedTargetsLength; i++) {\n      const target = parsedTargetsArray[i];\n      if (!target[isRegisteredTargetSymbol]) {\n        target[isRegisteredTargetSymbol] = true;\n        const isSvgType = isSvg(target);\n        const isDom = /** @type {DOMTarget} */target.nodeType || isSvgType;\n        if (isDom) {\n          target[isDomSymbol] = true;\n          target[isSvgSymbol] = isSvgType;\n          target[transformsSymbol] = {};\n        }\n      }\n    }\n  }\n  return parsedTargetsArray;\n}\n\n// Check for valid SVG attribute\n\nconst cssReservedProperties = ['opacity', 'rotate', 'overflow', 'color'];\n\n/**\n * @param  {Target} el\n * @param  {String} propertyName\n * @return {Boolean}\n */\nconst isValidSVGAttribute = (el, propertyName) => {\n  // Return early and use CSS opacity animation instead (already better default values (opacity: 1 instead of 0)) and rotate should be considered a transform\n  if (cssReservedProperties.includes(propertyName)) return false;\n  if (el.getAttribute(propertyName) || propertyName in el) {\n    if (propertyName === 'scale') {\n      // Scale\n      const elParentNode = /** @type {SVGGeometryElement} */ /** @type {DOMTarget} */el.parentNode;\n      // Only consider scale as a valid SVG attribute on filter element\n      return elParentNode && elParentNode.tagName === 'filter';\n    }\n    return true;\n  }\n};\n\n/**\n * RGB / RGBA Color value string -> RGBA values array\n * @param  {String} rgbValue\n * @return {ColorArray}\n */\nconst rgbToRgba = rgbValue => {\n  const rgba = rgbExecRgx.exec(rgbValue) || rgbaExecRgx.exec(rgbValue);\n  const a = !isUnd(rgba[4]) ? +rgba[4] : 1;\n  return [+rgba[1], +rgba[2], +rgba[3], a];\n};\n\n/**\n * HEX3 / HEX3A / HEX6 / HEX6A Color value string -> RGBA values array\n * @param  {String} hexValue\n * @return {ColorArray}\n */\nconst hexToRgba = hexValue => {\n  const hexLength = hexValue.length;\n  const isShort = hexLength === 4 || hexLength === 5;\n  return [+('0x' + hexValue[1] + hexValue[isShort ? 1 : 2]), +('0x' + hexValue[isShort ? 2 : 3] + hexValue[isShort ? 2 : 4]), +('0x' + hexValue[isShort ? 3 : 5] + hexValue[isShort ? 3 : 6]), hexLength === 5 || hexLength === 9 ? +(+('0x' + hexValue[isShort ? 4 : 7] + hexValue[isShort ? 4 : 8]) / 255).toFixed(3) : 1];\n};\n\n/**\n * @param  {Number} p\n * @param  {Number} q\n * @param  {Number} t\n * @return {Number}\n */\nconst hue2rgb = (p, q, t) => {\n  if (t < 0) t += 1;\n  if (t > 1) t -= 1;\n  return t < 1 / 6 ? p + (q - p) * 6 * t : t < 1 / 2 ? q : t < 2 / 3 ? p + (q - p) * (2 / 3 - t) * 6 : p;\n};\n\n/**\n * HSL / HSLA Color value string -> RGBA values array\n * @param  {String} hslValue\n * @return {ColorArray}\n */\nconst hslToRgba = hslValue => {\n  const hsla = hslExecRgx.exec(hslValue) || hslaExecRgx.exec(hslValue);\n  const h = +hsla[1] / 360;\n  const s = +hsla[2] / 100;\n  const l = +hsla[3] / 100;\n  const a = !isUnd(hsla[4]) ? +hsla[4] : 1;\n  let r, g, b;\n  if (s === 0) {\n    r = g = b = l;\n  } else {\n    const q = l < .5 ? l * (1 + s) : l + s - l * s;\n    const p = 2 * l - q;\n    r = round(hue2rgb(p, q, h + 1 / 3) * 255, 0);\n    g = round(hue2rgb(p, q, h) * 255, 0);\n    b = round(hue2rgb(p, q, h - 1 / 3) * 255, 0);\n  }\n  return [r, g, b, a];\n};\n\n/**\n * All in one color converter that converts a color string value into an array of RGBA values\n * @param  {String} colorString\n * @return {ColorArray}\n */\nconst convertColorStringValuesToRgbaArray = colorString => {\n  return isRgb(colorString) ? rgbToRgba(colorString) : isHex(colorString) ? hexToRgba(colorString) : isHsl(colorString) ? hslToRgba(colorString) : [0, 0, 0, 1];\n};\n\n/**\n * @template T, D\n * @param {T|undefined} targetValue\n * @param {D} defaultValue\n * @return {T|D}\n */\nconst setValue = (targetValue, defaultValue) => {\n  return isUnd(targetValue) ? defaultValue : targetValue;\n};\n\n/**\n * @param  {TweenPropValue} value\n * @param  {Target} target\n * @param  {Number} index\n * @param  {Number} total\n * @param  {Object} [store]\n * @return {any}\n */\nconst getFunctionValue = (value, target, index, total, store) => {\n  if (isFnc(value)) {\n    const func = () => {\n      const computed = /** @type {Function} */value(target, index, total);\n      // Fallback to 0 if the function returns undefined / NaN / null / false / 0\n      return !isNaN(+computed) ? +computed : computed || 0;\n    };\n    if (store) {\n      store.func = func;\n    }\n    return func();\n  } else {\n    return value;\n  }\n};\n\n/**\n * @param  {Target} target\n * @param  {String} prop\n * @return {tweenTypes}\n */\nconst getTweenType = (target, prop) => {\n  return !target[isDomSymbol] ? tweenTypes.OBJECT :\n  // Handle SVG attributes\n  target[isSvgSymbol] && isValidSVGAttribute(target, prop) ? tweenTypes.ATTRIBUTE :\n  // Handle CSS Transform properties differently than CSS to allow individual animations\n  validTransforms.includes(prop) || shortTransforms.get(prop) ? tweenTypes.TRANSFORM :\n  // CSS variables\n  stringStartsWith(prop, '--') ? tweenTypes.CSS_VAR :\n  // All other CSS properties\n  prop in /** @type {DOMTarget} */target.style ? tweenTypes.CSS :\n  // Handle other DOM Attributes\n  prop in target ? tweenTypes.OBJECT : tweenTypes.ATTRIBUTE;\n};\n\n/**\n * @param  {DOMTarget} target\n * @param  {String} propName\n * @param  {Object} animationInlineStyles\n * @return {String}\n */\nconst getCSSValue = (target, propName, animationInlineStyles) => {\n  const inlineStyles = target.style[propName];\n  if (inlineStyles && animationInlineStyles) {\n    animationInlineStyles[propName] = inlineStyles;\n  }\n  const value = inlineStyles || getComputedStyle(target[proxyTargetSymbol] || target).getPropertyValue(propName);\n  return value === 'auto' ? '0' : value;\n};\n\n/**\n * @param {Target} target\n * @param {String} propName\n * @param {tweenTypes} [tweenType]\n * @param {Object|void} [animationInlineStyles]\n * @return {String|Number}\n */\nconst getOriginalAnimatableValue = (target, propName, tweenType, animationInlineStyles) => {\n  const type = !isUnd(tweenType) ? tweenType : getTweenType(target, propName);\n  return type === tweenTypes.OBJECT ? target[propName] || 0 : type === tweenTypes.ATTRIBUTE ? /** @type {DOMTarget} */target.getAttribute(propName) : type === tweenTypes.TRANSFORM ? parseInlineTransforms(/** @type {DOMTarget} */target, propName, animationInlineStyles) : type === tweenTypes.CSS_VAR ? getCSSValue(/** @type {DOMTarget} */target, propName, animationInlineStyles).trimStart() : getCSSValue(/** @type {DOMTarget} */target, propName, animationInlineStyles);\n};\n\n/**\n * @param  {Number} x\n * @param  {Number} y\n * @param  {String} operator\n * @return {Number}\n */\nconst getRelativeValue = (x, y, operator) => {\n  return operator === '-' ? x - y : operator === '+' ? x + y : x * y;\n};\n\n/** @return {TweenDecomposedValue} */\nconst createDecomposedValueTargetObject = () => {\n  return {\n    /** @type {valueTypes} */\n    t: valueTypes.NUMBER,\n    n: 0,\n    u: null,\n    o: null,\n    d: null,\n    s: null\n  };\n};\n\n/**\n * @param  {String|Number} rawValue\n * @param  {TweenDecomposedValue} targetObject\n * @return {TweenDecomposedValue}\n */\nconst decomposeRawValue = (rawValue, targetObject) => {\n  /** @type {valueTypes} */\n  targetObject.t = valueTypes.NUMBER;\n  targetObject.n = 0;\n  targetObject.u = null;\n  targetObject.o = null;\n  targetObject.d = null;\n  targetObject.s = null;\n  if (!rawValue) return targetObject;\n  const num = +rawValue;\n  if (!isNaN(num)) {\n    // It's a number\n    targetObject.n = num;\n    return targetObject;\n  } else {\n    // let str = /** @type {String} */(rawValue).trim();\n    let str = /** @type {String} */rawValue;\n    // Parsing operators (+=, -=, *=) manually is much faster than using regex here\n    if (str[1] === '=') {\n      targetObject.o = str[0];\n      str = str.slice(2);\n    }\n    // Skip exec regex if the value type is complex or color to avoid long regex backtracking\n    const unitMatch = str.includes(' ') ? false : unitsExecRgx.exec(str);\n    if (unitMatch) {\n      // Has a number and a unit\n      targetObject.t = valueTypes.UNIT;\n      targetObject.n = +unitMatch[1];\n      targetObject.u = unitMatch[2];\n      return targetObject;\n    } else if (targetObject.o) {\n      // Has an operator (+=, -=, *=)\n      targetObject.n = +str;\n      return targetObject;\n    } else if (isCol(str)) {\n      // Is a color\n      targetObject.t = valueTypes.COLOR;\n      targetObject.d = convertColorStringValuesToRgbaArray(str);\n      return targetObject;\n    } else {\n      // Is a more complex string (generally svg coords, calc() or filters CSS values)\n      const matchedNumbers = str.match(digitWithExponentRgx);\n      targetObject.t = valueTypes.COMPLEX;\n      targetObject.d = matchedNumbers ? matchedNumbers.map(Number) : [];\n      targetObject.s = str.split(digitWithExponentRgx) || [];\n      return targetObject;\n    }\n  }\n};\n\n/**\n * @param  {Tween} tween\n * @param  {TweenDecomposedValue} targetObject\n * @return {TweenDecomposedValue}\n */\nconst decomposeTweenValue = (tween, targetObject) => {\n  targetObject.t = tween._valueType;\n  targetObject.n = tween._toNumber;\n  targetObject.u = tween._unit;\n  targetObject.o = null;\n  targetObject.d = cloneArray(tween._toNumbers);\n  targetObject.s = cloneArray(tween._strings);\n  return targetObject;\n};\nconst decomposedOriginalValue = createDecomposedValueTargetObject();\nconst lookups = {\n  /** @type {TweenReplaceLookups} */\n  _rep: new WeakMap(),\n  /** @type {TweenAdditiveLookups} */\n  _add: new Map()\n};\n\n/**\n * @param  {Target} target\n * @param  {String} property\n * @param  {String} lookup\n * @return {TweenPropertySiblings}\n */\nconst getTweenSiblings = (target, property, lookup = '_rep') => {\n  const lookupMap = lookups[lookup];\n  let targetLookup = lookupMap.get(target);\n  if (!targetLookup) {\n    targetLookup = {};\n    lookupMap.set(target, targetLookup);\n  }\n  return targetLookup[property] ? targetLookup[property] : targetLookup[property] = {\n    _head: null,\n    _tail: null\n  };\n};\n\n/**\n * @param  {Tween} p\n * @param  {Tween} c\n * @return {Number|Boolean}\n */\nconst addTweenSortMethod = (p, c) => {\n  return p._isOverridden || p._absoluteStartTime > c._absoluteStartTime;\n};\n\n/**\n * @param {Tween} tween\n */\nconst overrideTween = tween => {\n  tween._isOverlapped = 1;\n  tween._isOverridden = 1;\n  tween._changeDuration = minValue;\n  tween._currentTime = minValue;\n};\n\n/**\n * @param  {Tween} tween\n * @param  {TweenPropertySiblings} siblings\n * @return {Tween}\n */\nconst composeTween = (tween, siblings) => {\n  const tweenCompositionType = tween._composition;\n\n  // Handle replaced tweens\n\n  if (tweenCompositionType === compositionTypes.replace) {\n    const tweenAbsStartTime = tween._absoluteStartTime;\n    addChild(siblings, tween, addTweenSortMethod, '_prevRep', '_nextRep');\n    const prevSibling = tween._prevRep;\n\n    // Update the previous siblings for composition replace tweens\n\n    if (prevSibling) {\n      const prevParent = prevSibling.parent;\n      const prevAbsEndTime = prevSibling._absoluteStartTime + prevSibling._changeDuration;\n\n      // Handle looped animations tween\n\n      if (\n      // Check if the previous tween is from a different animation\n      tween.parent.id !== prevParent.id &&\n      // Check if the animation has loops\n      prevParent.iterationCount > 1 &&\n      // Check if _absoluteChangeEndTime of last loop overlaps the current tween\n      prevAbsEndTime + (prevParent.duration - prevParent.iterationDuration) > tweenAbsStartTime) {\n        // TODO: Find a way to only override the iterations overlapping with the tween\n        overrideTween(prevSibling);\n        let prevPrevSibling = prevSibling._prevRep;\n\n        // If the tween was part of a set of keyframes, override its siblings\n        while (prevPrevSibling && prevPrevSibling.parent.id === prevParent.id) {\n          overrideTween(prevPrevSibling);\n          prevPrevSibling = prevPrevSibling._prevRep;\n        }\n      }\n      const absoluteUpdateStartTime = tweenAbsStartTime - tween._delay;\n      if (prevAbsEndTime > absoluteUpdateStartTime) {\n        const prevChangeStartTime = prevSibling._startTime;\n        const prevTLOffset = prevAbsEndTime - (prevChangeStartTime + prevSibling._updateDuration);\n        prevSibling._changeDuration = absoluteUpdateStartTime - prevTLOffset - prevChangeStartTime;\n        prevSibling._currentTime = prevSibling._changeDuration;\n        prevSibling._isOverlapped = 1;\n        if (prevSibling._changeDuration < minValue) {\n          overrideTween(prevSibling);\n        }\n      }\n\n      // Pause (and cancel) the parent if it only contains overlapped tweens\n\n      let pausePrevParentAnimation = true;\n      forEachChildren(prevParent, (/** @type Tween */t) => {\n        if (!t._isOverlapped) pausePrevParentAnimation = false;\n      });\n      if (pausePrevParentAnimation) {\n        const prevParentTL = prevParent.parent;\n        if (prevParentTL) {\n          let pausePrevParentTL = true;\n          forEachChildren(prevParentTL, (/** @type JSAnimation */a) => {\n            if (a !== prevParent) {\n              forEachChildren(a, (/** @type Tween */t) => {\n                if (!t._isOverlapped) pausePrevParentTL = false;\n              });\n            }\n          });\n          if (pausePrevParentTL) {\n            prevParentTL.cancel();\n          }\n        } else {\n          prevParent.cancel();\n          // Previously, calling .cancel() on a timeline child would affect the render order of other children\n          // Worked around this by marking it as .completed and using .pause() for safe removal in the engine loop\n          // This is no longer needed since timeline tween composition is now handled separatly\n          // Keeping this here for reference\n          // prevParent.completed = true;\n          // prevParent.pause();\n        }\n      }\n    }\n\n    // let nextSibling = tween._nextRep;\n\n    // // All the next siblings are automatically overridden\n\n    // if (nextSibling && nextSibling._absoluteStartTime >= tweenAbsStartTime) {\n    //   while (nextSibling) {\n    //     overrideTween(nextSibling);\n    //     nextSibling = nextSibling._nextRep;\n    //   }\n    // }\n\n    // if (nextSibling && nextSibling._absoluteStartTime < tweenAbsStartTime) {\n    //   while (nextSibling) {\n    //     overrideTween(nextSibling);\n    //     console.log(tween.id, nextSibling.id);\n    //     nextSibling = nextSibling._nextRep;\n    //   }\n    // }\n\n    // Handle additive tweens composition\n  } else if (tweenCompositionType === compositionTypes.blend) {\n    const additiveTweenSiblings = getTweenSiblings(tween.target, tween.property, '_add');\n    const additiveAnimation = addAdditiveAnimation(lookups._add);\n    let lookupTween = additiveTweenSiblings._head;\n    if (!lookupTween) {\n      lookupTween = {\n        ...tween\n      };\n      lookupTween._composition = compositionTypes.replace;\n      lookupTween._updateDuration = minValue;\n      lookupTween._startTime = 0;\n      lookupTween._numbers = cloneArray(tween._fromNumbers);\n      lookupTween._number = 0;\n      lookupTween._next = null;\n      lookupTween._prev = null;\n      addChild(additiveTweenSiblings, lookupTween);\n      addChild(additiveAnimation, lookupTween);\n    }\n\n    // Convert the values of TO to FROM and set TO to 0\n\n    const toNumber = tween._toNumber;\n    tween._fromNumber = lookupTween._fromNumber - toNumber;\n    tween._toNumber = 0;\n    tween._numbers = cloneArray(tween._fromNumbers);\n    tween._number = 0;\n    lookupTween._fromNumber = toNumber;\n    if (tween._toNumbers) {\n      const toNumbers = cloneArray(tween._toNumbers);\n      if (toNumbers) {\n        toNumbers.forEach((value, i) => {\n          tween._fromNumbers[i] = lookupTween._fromNumbers[i] - value;\n          tween._toNumbers[i] = 0;\n        });\n      }\n      lookupTween._fromNumbers = toNumbers;\n    }\n    addChild(additiveTweenSiblings, tween, null, '_prevAdd', '_nextAdd');\n  }\n  return tween;\n};\n\n/**\n * @param  {Tween} tween\n * @return {Tween}\n */\nconst removeTweenSliblings = tween => {\n  const tweenComposition = tween._composition;\n  if (tweenComposition !== compositionTypes.none) {\n    const tweenTarget = tween.target;\n    const tweenProperty = tween.property;\n    const replaceTweensLookup = lookups._rep;\n    const replaceTargetProps = replaceTweensLookup.get(tweenTarget);\n    const tweenReplaceSiblings = replaceTargetProps[tweenProperty];\n    removeChild(tweenReplaceSiblings, tween, '_prevRep', '_nextRep');\n    if (tweenComposition === compositionTypes.blend) {\n      const addTweensLookup = lookups._add;\n      const addTargetProps = addTweensLookup.get(tweenTarget);\n      if (!addTargetProps) return;\n      const additiveTweenSiblings = addTargetProps[tweenProperty];\n      const additiveAnimation = additive.animation;\n      removeChild(additiveTweenSiblings, tween, '_prevAdd', '_nextAdd');\n      // If only one tween is left in the additive lookup, it's the tween lookup\n      const lookupTween = additiveTweenSiblings._head;\n      if (lookupTween && lookupTween === additiveTweenSiblings._tail) {\n        removeChild(additiveTweenSiblings, lookupTween, '_prevAdd', '_nextAdd');\n        removeChild(additiveAnimation, lookupTween);\n        let shouldClean = true;\n        for (let prop in addTargetProps) {\n          if (addTargetProps[prop]._head) {\n            shouldClean = false;\n            break;\n          }\n        }\n        if (shouldClean) {\n          addTweensLookup.delete(tweenTarget);\n        }\n      }\n    }\n  }\n  return tween;\n};\n\n/**\n * @param  {Timer} timer\n * @return {Timer}\n */\nconst resetTimerProperties = timer => {\n  timer.paused = true;\n  timer.began = false;\n  timer.completed = false;\n  return timer;\n};\n\n/**\n * @param  {Timer} timer\n * @return {Timer}\n */\nconst reviveTimer = timer => {\n  if (!timer._cancelled) return timer;\n  if (timer._hasChildren) {\n    forEachChildren(timer, reviveTimer);\n  } else {\n    forEachChildren(timer, (/** @type {Tween} tween*/tween) => {\n      if (tween._composition !== compositionTypes.none) {\n        composeTween(tween, getTweenSiblings(tween.target, tween.property));\n      }\n    });\n  }\n  timer._cancelled = 0;\n  return timer;\n};\nlet timerId = 0;\n\n/**\n * Base class used to create Timers, Animations and Timelines\n */\nclass Timer extends Clock {\n  /**\n   * @param {TimerParams} [parameters]\n   * @param {Timeline} [parent]\n   * @param {Number} [parentPosition]\n   */\n  constructor(parameters = {}, parent = null, parentPosition = 0) {\n    super(0);\n    const {\n      id,\n      delay,\n      duration,\n      reversed,\n      alternate,\n      loop,\n      loopDelay,\n      autoplay,\n      frameRate,\n      playbackRate,\n      onComplete,\n      onLoop,\n      onPause,\n      onBegin,\n      onBeforeUpdate,\n      onUpdate\n    } = parameters;\n    const timerInitTime = parent ? 0 : engine._elapsedTime;\n    const timerDefaults = parent ? parent.defaults : globals.defaults;\n    const timerDelay = /** @type {Number} */isFnc(delay) || isUnd(delay) ? timerDefaults.delay : +delay;\n    const timerDuration = isFnc(duration) || isUnd(duration) ? Infinity : +duration;\n    const timerLoop = setValue(loop, timerDefaults.loop);\n    const timerLoopDelay = setValue(loopDelay, timerDefaults.loopDelay);\n    const timerIterationCount = timerLoop === true || timerLoop === Infinity || /** @type {Number} */timerLoop < 0 ? Infinity : /** @type {Number} */timerLoop + 1;\n    let offsetPosition = 0;\n    if (parent) {\n      offsetPosition = parentPosition;\n    } else {\n      let startTime = now();\n      // Make sure to tick the engine once if suspended to avoid big gaps with the following offsetPosition calculation\n      if (engine.paused) {\n        engine.requestTick(startTime);\n        startTime = engine._elapsedTime;\n      }\n      offsetPosition = startTime - engine._startTime;\n    }\n\n    // Timer's parameters\n    this.id = !isUnd(id) ? id : ++timerId;\n    /** @type {Timeline} */\n    this.parent = parent;\n    // Total duration of the timer\n    this.duration = clampInfinity((timerDuration + timerLoopDelay) * timerIterationCount - timerLoopDelay) || minValue;\n    /** @type {Boolean} */\n    this.backwards = false;\n    /** @type {Boolean} */\n    this.paused = true;\n    /** @type {Boolean} */\n    this.began = false;\n    /** @type {Boolean} */\n    this.completed = false;\n    /** @type {Callback<this>} */\n    this.onBegin = onBegin || timerDefaults.onBegin;\n    /** @type {Callback<this>} */\n    this.onBeforeUpdate = onBeforeUpdate || timerDefaults.onBeforeUpdate;\n    /** @type {Callback<this>} */\n    this.onUpdate = onUpdate || timerDefaults.onUpdate;\n    /** @type {Callback<this>} */\n    this.onLoop = onLoop || timerDefaults.onLoop;\n    /** @type {Callback<this>} */\n    this.onPause = onPause || timerDefaults.onPause;\n    /** @type {Callback<this>} */\n    this.onComplete = onComplete || timerDefaults.onComplete;\n    /** @type {Number} */\n    this.iterationDuration = timerDuration; // Duration of one loop\n    /** @type {Number} */\n    this.iterationCount = timerIterationCount; // Number of loops\n    /** @type {Boolean|ScrollObserver} */\n    this._autoplay = parent ? false : setValue(autoplay, timerDefaults.autoplay);\n    /** @type {Number} */\n    this._offset = offsetPosition;\n    /** @type {Number} */\n    this._delay = timerDelay;\n    /** @type {Number} */\n    this._loopDelay = timerLoopDelay;\n    /** @type {Number} */\n    this._iterationTime = 0;\n    /** @type {Number} */\n    this._currentIteration = 0; // Current loop index\n    /** @type {Function} */\n    this._resolve = noop; // Used by .then()\n    /** @type {Boolean} */\n    this._running = false;\n    /** @type {Number} */\n    this._reversed = +setValue(reversed, timerDefaults.reversed);\n    /** @type {Number} */\n    this._reverse = this._reversed;\n    /** @type {Number} */\n    this._cancelled = 0;\n    /** @type {Boolean} */\n    this._alternate = setValue(alternate, timerDefaults.alternate);\n    /** @type {Renderable} */\n    this._prev = null;\n    /** @type {Renderable} */\n    this._next = null;\n\n    // Clock's parameters\n    /** @type {Number} */\n    this._elapsedTime = timerInitTime;\n    /** @type {Number} */\n    this._startTime = timerInitTime;\n    /** @type {Number} */\n    this._lastTime = timerInitTime;\n    /** @type {Number} */\n    this._fps = setValue(frameRate, timerDefaults.frameRate);\n    /** @type {Number} */\n    this._speed = setValue(playbackRate, timerDefaults.playbackRate);\n  }\n  get cancelled() {\n    return !!this._cancelled;\n  }\n\n  /** @param {Boolean} cancelled  */\n  set cancelled(cancelled) {\n    cancelled ? this.cancel() : this.reset(1).play();\n  }\n  get currentTime() {\n    return clamp(round(this._currentTime, globals.precision), -this._delay, this.duration);\n  }\n\n  /** @param {Number} time  */\n  set currentTime(time) {\n    const paused = this.paused;\n    // Pausing the timer is necessary to avoid time jumps on a running instance\n    this.pause().seek(+time);\n    if (!paused) this.resume();\n  }\n  get iterationCurrentTime() {\n    return round(this._iterationTime, globals.precision);\n  }\n\n  /** @param {Number} time  */\n  set iterationCurrentTime(time) {\n    this.currentTime = this.iterationDuration * this._currentIteration + time;\n  }\n  get progress() {\n    return clamp(round(this._currentTime / this.duration, 10), 0, 1);\n  }\n\n  /** @param {Number} progress  */\n  set progress(progress) {\n    this.currentTime = this.duration * progress;\n  }\n  get iterationProgress() {\n    return clamp(round(this._iterationTime / this.iterationDuration, 10), 0, 1);\n  }\n\n  /** @param {Number} progress  */\n  set iterationProgress(progress) {\n    const iterationDuration = this.iterationDuration;\n    this.currentTime = iterationDuration * this._currentIteration + iterationDuration * progress;\n  }\n  get currentIteration() {\n    return this._currentIteration;\n  }\n\n  /** @param {Number} iterationCount  */\n  set currentIteration(iterationCount) {\n    this.currentTime = this.iterationDuration * clamp(+iterationCount, 0, this.iterationCount - 1);\n  }\n  get reversed() {\n    return !!this._reversed;\n  }\n\n  /** @param {Boolean} reverse  */\n  set reversed(reverse) {\n    reverse ? this.reverse() : this.play();\n  }\n  get speed() {\n    return super.speed;\n  }\n\n  /** @param {Number} playbackRate  */\n  set speed(playbackRate) {\n    super.speed = playbackRate;\n    this.resetTime();\n  }\n\n  /**\n   * @param  {Number} internalRender\n   * @return {this}\n   */\n  reset(internalRender = 0) {\n    // If cancelled, revive the timer before rendering in order to have propertly composed tweens siblings\n    reviveTimer(this);\n    if (this._reversed && !this._reverse) this.reversed = false;\n    // Rendering before updating the completed flag to prevent skips and to make sure the properties are not overridden\n    // Setting the iterationTime at the end to force the rendering to happend backwards, otherwise calling .reset() on Timelines might not render children in the right order\n    // NOTE: This is only required for Timelines and might be better to move to the Timeline class?\n    this._iterationTime = this.iterationDuration;\n    // Set tickMode to tickModes.FORCE to force rendering\n    tick(this, 0, 1, internalRender, tickModes.FORCE);\n    // Reset timer properties after revive / render to make sure the props are not updated again\n    resetTimerProperties(this);\n    // Also reset children properties\n    if (this._hasChildren) {\n      forEachChildren(this, resetTimerProperties);\n    }\n    return this;\n  }\n\n  /**\n   * @param  {Number} internalRender\n   * @return {this}\n   */\n  init(internalRender = 0) {\n    this.fps = this._fps;\n    this.speed = this._speed;\n    // Manually calling .init() on timelines should render all children intial state\n    // Forces all children to render once then render to 0 when reseted\n    if (!internalRender && this._hasChildren) {\n      tick(this, this.duration, 1, internalRender, tickModes.FORCE);\n    }\n    this.reset(internalRender);\n    // Make sure to set autoplay to false to child timers so it doesn't attempt to autoplay / link\n    const autoplay = this._autoplay;\n    if (autoplay === true) {\n      this.resume();\n    } else if (autoplay && !isUnd(/** @type {ScrollObserver} */autoplay.linked)) {\n      /** @type {ScrollObserver} */autoplay.link(this);\n    }\n    return this;\n  }\n\n  /** @return {this} */\n  resetTime() {\n    const timeScale = 1 / (this._speed * engine._speed);\n    this._startTime = now() - (this._currentTime + this._delay) * timeScale;\n    return this;\n  }\n\n  /** @return {this} */\n  pause() {\n    if (this.paused) return this;\n    this.paused = true;\n    this.onPause(this);\n    return this;\n  }\n\n  /** @return {this} */\n  resume() {\n    if (!this.paused) return this;\n    this.paused = false;\n    // We can safely imediatly render a timer that has no duration and no children\n    if (this.duration <= minValue && !this._hasChildren) {\n      tick(this, minValue, 0, 0, tickModes.FORCE);\n    } else {\n      if (!this._running) {\n        addChild(engine, this);\n        engine._hasChildren = true;\n        this._running = true;\n      }\n      this.resetTime();\n      // Forces the timer to advance by at least one frame when the next tick occurs\n      this._startTime -= 12;\n      engine.wake();\n    }\n    return this;\n  }\n\n  /** @return {this} */\n  restart() {\n    return this.reset(0).resume();\n  }\n\n  /**\n   * @param  {Number} time\n   * @param  {Boolean|Number} [muteCallbacks]\n   * @param  {Boolean|Number} [internalRender]\n   * @return {this}\n   */\n  seek(time, muteCallbacks = 0, internalRender = 0) {\n    // Recompose the tween siblings in case the timer has been cancelled\n    reviveTimer(this);\n    // If you seek a completed animation, otherwise the next play will starts at 0\n    this.completed = false;\n    const isPaused = this.paused;\n    this.paused = true;\n    // timer, time, muteCallbacks, internalRender, tickMode\n    tick(this, time + this._delay, ~~muteCallbacks, ~~internalRender, tickModes.AUTO);\n    return isPaused ? this : this.resume();\n  }\n\n  /** @return {this} */\n  alternate() {\n    const reversed = this._reversed;\n    const count = this.iterationCount;\n    const duration = this.iterationDuration;\n    // Calculate the maximum iterations possible given the iteration duration\n    const iterations = count === Infinity ? floor(maxValue / duration) : count;\n    this._reversed = +(this._alternate && !(iterations % 2) ? reversed : !reversed);\n    if (count === Infinity) {\n      // Handle infinite loops to loop on themself\n      this.iterationProgress = this._reversed ? 1 - this.iterationProgress : this.iterationProgress;\n    } else {\n      this.seek(duration * iterations - this._currentTime);\n    }\n    this.resetTime();\n    return this;\n  }\n\n  /** @return {this} */\n  play() {\n    if (this._reversed) this.alternate();\n    return this.resume();\n  }\n\n  /** @return {this} */\n  reverse() {\n    if (!this._reversed) this.alternate();\n    return this.resume();\n  }\n\n  // TODO: Move all the animation / tweens / children related code to Animation / Timeline\n\n  /** @return {this} */\n  cancel() {\n    if (this._hasChildren) {\n      forEachChildren(this, (/** @type {Renderable} */child) => child.cancel(), true);\n    } else {\n      forEachChildren(this, removeTweenSliblings);\n    }\n    this._cancelled = 1;\n    // Pausing the timer removes it from the engine\n    return this.pause();\n  }\n\n  /**\n   * @param  {Number} newDuration\n   * @return {this}\n   */\n  stretch(newDuration) {\n    const currentDuration = this.duration;\n    const normlizedDuration = normalizeTime(newDuration);\n    if (currentDuration === normlizedDuration) return this;\n    const timeScale = newDuration / currentDuration;\n    const isSetter = newDuration <= minValue;\n    this.duration = isSetter ? minValue : normlizedDuration;\n    this.iterationDuration = isSetter ? minValue : normalizeTime(this.iterationDuration * timeScale);\n    this._offset *= timeScale;\n    this._delay *= timeScale;\n    this._loopDelay *= timeScale;\n    return this;\n  }\n\n  /**\n    * Cancels the timer by seeking it back to 0 and reverting the attached scroller if necessary\n    * @return {this}\n    */\n  revert() {\n    tick(this, 0, 1, 0, tickModes.AUTO);\n    const ap = /** @type {ScrollObserver} */this._autoplay;\n    if (ap && ap.linked && ap.linked === this) ap.revert();\n    return this.cancel();\n  }\n\n  /**\n    * Imediatly completes the timer, cancels it and triggers the onComplete callback\n    * @return {this}\n    */\n  complete() {\n    return this.seek(this.duration).cancel();\n  }\n\n  /**\n   * @param  {Callback<this>} [callback]\n   * @return {Promise}\n   */\n  then(callback = noop) {\n    const then = this.then;\n    const onResolve = () => {\n      // this.then = null prevents infinite recursion if returned by an async function\n      // https://github.com/juliangarnierorg/anime-beta/issues/26\n      this.then = null;\n      callback(this);\n      this.then = then;\n      this._resolve = noop;\n    };\n    return new Promise(r => {\n      this._resolve = () => r(onResolve());\n      // Make sure to resolve imediatly if the timer has already completed\n      if (this.completed) this._resolve();\n      return this;\n    });\n  }\n}\n\n/** @type {EasingFunction} */\nconst none = t => t;\n\n// Cubic Bezier solver adapted from https://github.com/gre/bezier-ease  Gatan Renaudeau\n\n/**\n * @param  {Number} aT\n * @param  {Number} aA1\n * @param  {Number} aA2\n * @return {Number}\n */\nconst calcBezier = (aT, aA1, aA2) => (((1 - 3 * aA2 + 3 * aA1) * aT + (3 * aA2 - 6 * aA1)) * aT + 3 * aA1) * aT;\n\n/**\n * @param  {Number} aX\n * @param  {Number} mX1\n * @param  {Number} mX2\n * @return {Number}\n */\nconst binarySubdivide = (aX, mX1, mX2) => {\n  let aA = 0,\n    aB = 1,\n    currentX,\n    currentT,\n    i = 0;\n  do {\n    currentT = aA + (aB - aA) / 2;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (abs(currentX) > .0000001 && ++i < 100);\n  return currentT;\n};\n\n/**\n * @param  {Number} [mX1]\n * @param  {Number} [mY1]\n * @param  {Number} [mX2]\n * @param  {Number} [mY2]\n * @return {EasingFunction}\n */\n\nconst cubicBezier = (mX1 = 0.5, mY1 = 0.0, mX2 = 0.5, mY2 = 1.0) => mX1 === mY1 && mX2 === mY2 ? none : t => t === 0 || t === 1 ? t : calcBezier(binarySubdivide(t, mX1, mX2), mY1, mY2);\n\n/**\n * Steps ease implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n * Only covers 'end' and 'start' jumpterms\n * @param  {Number} steps\n * @param  {Boolean} [fromStart]\n * @return {EasingFunction}\n */\nconst steps = (steps = 10, fromStart) => {\n  const roundMethod = fromStart ? ceil : floor;\n  return t => roundMethod(clamp(t, 0, 1) * steps) * (1 / steps);\n};\n\n/**\n * Without parameters, the linear function creates a non-eased transition.\n * Parameters, if used, creates a piecewise linear easing by interpolating linearly between the specified points.\n * @param  {...String|Number} [args] - Points\n * @return {EasingFunction}\n */\nconst linear = (...args) => {\n  const argsLength = args.length;\n  if (!argsLength) return none;\n  const totalPoints = argsLength - 1;\n  const firstArg = args[0];\n  const lastArg = args[totalPoints];\n  const xPoints = [0];\n  const yPoints = [parseNumber(firstArg)];\n  for (let i = 1; i < totalPoints; i++) {\n    const arg = args[i];\n    const splitValue = isStr(arg) ? /** @type {String} */arg.trim().split(' ') : [arg];\n    const value = splitValue[0];\n    const percent = splitValue[1];\n    xPoints.push(!isUnd(percent) ? parseNumber(percent) / 100 : i / totalPoints);\n    yPoints.push(parseNumber(value));\n  }\n  yPoints.push(parseNumber(lastArg));\n  xPoints.push(1);\n  return function easeLinear(t) {\n    for (let i = 1, l = xPoints.length; i < l; i++) {\n      const currentX = xPoints[i];\n      if (t <= currentX) {\n        const prevX = xPoints[i - 1];\n        const prevY = yPoints[i - 1];\n        return prevY + (yPoints[i] - prevY) * (t - prevX) / (currentX - prevX);\n      }\n    }\n    return yPoints[yPoints.length - 1];\n  };\n};\n\n/**\n * Generate random steps\n * @param  {Number} [length] - The number of steps\n * @param  {Number} [randomness] - How strong the randomness is\n * @return {EasingFunction}\n */\nconst irregular = (length = 10, randomness = 1) => {\n  const values = [0];\n  const total = length - 1;\n  for (let i = 1; i < total; i++) {\n    const previousValue = values[i - 1];\n    const spacing = i / total;\n    const segmentEnd = (i + 1) / total;\n    const randomVariation = spacing + (segmentEnd - spacing) * Math.random();\n    // Mix the even spacing and random variation based on the randomness parameter\n    const randomValue = spacing * (1 - randomness) + randomVariation * randomness;\n    values.push(clamp(randomValue, previousValue, 1));\n  }\n  values.push(1);\n  return linear(...values);\n};\n\n// Easing functions adapted from http://www.robertpenner.com/ease  Robert Penner\n\n/**\n * @callback PowerEasing\n * @param {Number|String} [power=1.675]\n * @return {EasingFunction}\n */\n\n/**\n * @callback BackEasing\n * @param {Number|String} [overshoot=1.70158]\n * @return {EasingFunction}\n */\n\n/**\n * @callback ElasticEasing\n * @param {Number|String} [amplitude=1]\n * @param {Number|String} [period=.3]\n * @return {EasingFunction}\n */\n\n/**\n * @callback EaseFactory\n * @param {Number|String} [paramA]\n * @param {Number|String} [paramB]\n * @return {EasingFunction|Number}\n */\n\n/** @typedef {PowerEasing|BackEasing|ElasticEasing} EasesFactory */\n\nconst halfPI = PI / 2;\nconst doublePI = PI * 2;\n/** @type {PowerEasing} */\nconst easeInPower = (p = 1.68) => t => pow(t, +p);\n\n/** @type {Record<String, EasesFactory|EasingFunction>} */\nconst easeInFunctions = {\n  [emptyString]: easeInPower,\n  Quad: easeInPower(2),\n  Cubic: easeInPower(3),\n  Quart: easeInPower(4),\n  Quint: easeInPower(5),\n  /** @type {EasingFunction} */\n  Sine: t => 1 - cos(t * halfPI),\n  /** @type {EasingFunction} */\n  Circ: t => 1 - sqrt(1 - t * t),\n  /** @type {EasingFunction} */\n  Expo: t => t ? pow(2, 10 * t - 10) : 0,\n  /** @type {EasingFunction} */\n  Bounce: t => {\n    let pow2,\n      b = 4;\n    while (t < ((pow2 = pow(2, --b)) - 1) / 11);\n    return 1 / pow(4, 3 - b) - 7.5625 * pow((pow2 * 3 - 2) / 22 - t, 2);\n  },\n  /** @type {BackEasing} */\n  Back: (overshoot = 1.70158) => t => (+overshoot + 1) * t * t * t - +overshoot * t * t,\n  /** @type {ElasticEasing} */\n  Elastic: (amplitude = 1, period = .3) => {\n    const a = clamp(+amplitude, 1, 10);\n    const p = clamp(+period, minValue, 2);\n    const s = p / doublePI * asin(1 / a);\n    const e = doublePI / p;\n    return t => t === 0 || t === 1 ? t : -a * pow(2, -10 * (1 - t)) * sin((1 - t - s) * e);\n  }\n};\n\n/**\n * @callback EaseType\n * @param {EasingFunction} Ease\n * @return {EasingFunction}\n */\n\n/** @type {Record<String, EaseType>} */\nconst easeTypes = {\n  in: easeIn => t => easeIn(t),\n  out: easeIn => t => 1 - easeIn(1 - t),\n  inOut: easeIn => t => t < .5 ? easeIn(t * 2) / 2 : 1 - easeIn(t * -2 + 2) / 2,\n  outIn: easeIn => t => t < .5 ? (1 - easeIn(1 - t * 2)) / 2 : (easeIn(t * 2 - 1) + 1) / 2\n};\n\n/**\n * @param  {String} string\n * @param  {Record<String, EasesFactory|EasingFunction>} easesFunctions\n * @param  {Object} easesLookups\n * @return {EasingFunction}\n */\nconst parseEaseString = (string, easesFunctions, easesLookups) => {\n  if (easesLookups[string]) return easesLookups[string];\n  if (string.indexOf('(') <= -1) {\n    const hasParams = easeTypes[string] || string.includes('Back') || string.includes('Elastic');\n    const parsedFn = /** @type {EasingFunction} */hasParams ? /** @type {EasesFactory} */easesFunctions[string]() : easesFunctions[string];\n    return parsedFn ? easesLookups[string] = parsedFn : none;\n  } else {\n    const split = string.slice(0, -1).split('(');\n    const parsedFn = /** @type {EasesFactory} */easesFunctions[split[0]];\n    return parsedFn ? easesLookups[string] = parsedFn(...split[1].split(',')) : none;\n  }\n};\n\n/**\n * @typedef  {Object} EasesFunctions\n * @property {typeof linear} linear\n * @property {typeof irregular} irregular\n * @property {typeof steps} steps\n * @property {typeof cubicBezier} cubicBezier\n * @property {PowerEasing} in\n * @property {PowerEasing} out\n * @property {PowerEasing} inOut\n * @property {PowerEasing} outIn\n * @property {EasingFunction} inQuad\n * @property {EasingFunction} outQuad\n * @property {EasingFunction} inOutQuad\n * @property {EasingFunction} outInQuad\n * @property {EasingFunction} inCubic\n * @property {EasingFunction} outCubic\n * @property {EasingFunction} inOutCubic\n * @property {EasingFunction} outInCubic\n * @property {EasingFunction} inQuart\n * @property {EasingFunction} outQuart\n * @property {EasingFunction} inOutQuart\n * @property {EasingFunction} outInQuart\n * @property {EasingFunction} inQuint\n * @property {EasingFunction} outQuint\n * @property {EasingFunction} inOutQuint\n * @property {EasingFunction} outInQuint\n * @property {EasingFunction} inSine\n * @property {EasingFunction} outSine\n * @property {EasingFunction} inOutSine\n * @property {EasingFunction} outInSine\n * @property {EasingFunction} inCirc\n * @property {EasingFunction} outCirc\n * @property {EasingFunction} inOutCirc\n * @property {EasingFunction} outInCirc\n * @property {EasingFunction} inExpo\n * @property {EasingFunction} outExpo\n * @property {EasingFunction} inOutExpo\n * @property {EasingFunction} outInExpo\n * @property {EasingFunction} inBounce\n * @property {EasingFunction} outBounce\n * @property {EasingFunction} inOutBounce\n * @property {EasingFunction} outInBounce\n * @property {BackEasing} inBack\n * @property {BackEasing} outBack\n * @property {BackEasing} inOutBack\n * @property {BackEasing} outInBack\n * @property {ElasticEasing} inElastic\n * @property {ElasticEasing} outElastic\n * @property {ElasticEasing} inOutElastic\n * @property {ElasticEasing} outInElastic\n */\n\nconst eases = /*#__PURE__*/(() => {\n  const list = {\n    linear,\n    irregular,\n    steps,\n    cubicBezier\n  };\n  for (let type in easeTypes) {\n    for (let name in easeInFunctions) {\n      const easeIn = easeInFunctions[name];\n      const easeType = easeTypes[type];\n      list[type + name] = /** @type {EasesFactory|EasingFunction} */\n      name === emptyString || name === 'Back' || name === 'Elastic' ? (a, b) => easeType(/** @type {EasesFactory} */easeIn(a, b)) : easeType(/** @type {EasingFunction} */easeIn);\n    }\n  }\n  return /** @type {EasesFunctions} */list;\n})();\n\n/** @type {Record<String, EasingFunction>} */\nconst JSEasesLookups = {\n  linear: none\n};\n\n/**\n * @param  {EasingParam} ease\n * @return {EasingFunction}\n */\nconst parseEasings = ease => isFnc(ease) ? ease : isStr(ease) ? parseEaseString(/** @type {String} */ease, eases, JSEasesLookups) : none;\nconst propertyNamesCache = {};\n\n/**\n * @param  {String} propertyName\n * @param  {Target} target\n * @param  {tweenTypes} tweenType\n * @return {String}\n */\nconst sanitizePropertyName = (propertyName, target, tweenType) => {\n  if (tweenType === tweenTypes.TRANSFORM) {\n    const t = shortTransforms.get(propertyName);\n    return t ? t : propertyName;\n  } else if (tweenType === tweenTypes.CSS ||\n  // Handle special cases where properties like \"strokeDashoffset\" needs to be set as \"stroke-dashoffset\"\n  // but properties like \"baseFrequency\" should stay in lowerCamelCase\n  tweenType === tweenTypes.ATTRIBUTE && isSvg(target) && propertyName in /** @type {DOMTarget} */target.style) {\n    const cachedPropertyName = propertyNamesCache[propertyName];\n    if (cachedPropertyName) {\n      return cachedPropertyName;\n    } else {\n      const lowerCaseName = propertyName ? toLowerCase(propertyName) : propertyName;\n      propertyNamesCache[propertyName] = lowerCaseName;\n      return lowerCaseName;\n    }\n  } else {\n    return propertyName;\n  }\n};\nconst angleUnitsMap = {\n  'deg': 1,\n  'rad': 180 / PI,\n  'turn': 360\n};\nconst convertedValuesCache = {};\n\n/**\n * @param  {DOMTarget} el\n * @param  {TweenDecomposedValue} decomposedValue\n * @param  {String} unit\n * @param  {Boolean} [force]\n * @return {TweenDecomposedValue}\n */\nconst convertValueUnit = (el, decomposedValue, unit, force = false) => {\n  const currentUnit = decomposedValue.u;\n  const currentNumber = decomposedValue.n;\n  if (decomposedValue.t === valueTypes.UNIT && currentUnit === unit) {\n    // TODO: Check if checking against the same unit string is necessary\n    return decomposedValue;\n  }\n  const cachedKey = currentNumber + currentUnit + unit;\n  const cached = convertedValuesCache[cachedKey];\n  if (!isUnd(cached) && !force) {\n    decomposedValue.n = cached;\n  } else {\n    let convertedValue;\n    if (currentUnit in angleUnitsMap) {\n      convertedValue = currentNumber * angleUnitsMap[currentUnit] / angleUnitsMap[unit];\n    } else {\n      const baseline = 100;\n      const tempEl = /** @type {DOMTarget} */el.cloneNode();\n      const parentNode = el.parentNode;\n      const parentEl = parentNode && parentNode !== doc ? parentNode : doc.body;\n      parentEl.appendChild(tempEl);\n      const elStyle = tempEl.style;\n      elStyle.width = baseline + currentUnit;\n      const currentUnitWidth = /** @type {HTMLElement} */tempEl.offsetWidth || baseline;\n      elStyle.width = baseline + unit;\n      const newUnitWidth = /** @type {HTMLElement} */tempEl.offsetWidth || baseline;\n      const factor = currentUnitWidth / newUnitWidth;\n      parentEl.removeChild(tempEl);\n      convertedValue = factor * currentNumber;\n    }\n    decomposedValue.n = convertedValue;\n    convertedValuesCache[cachedKey] = convertedValue;\n  }\n  decomposedValue.u = unit;\n  return decomposedValue;\n};\n\n/**\n * @template {Renderable} T\n * @param {T} renderable\n * @return {T}\n */\nconst cleanInlineStyles = renderable => {\n  // Allow cleanInlineStyles() to be called on timelines\n  if (renderable._hasChildren) {\n    forEachChildren(renderable, cleanInlineStyles, true);\n  } else {\n    const animation = /** @type {JSAnimation} */renderable;\n    animation.pause();\n    forEachChildren(animation, (/** @type {Tween} */tween) => {\n      const tweenProperty = tween.property;\n      const tweenTarget = tween.target;\n      if (tweenTarget[isDomSymbol]) {\n        const targetStyle = /** @type {DOMTarget} */tweenTarget.style;\n        const originalInlinedValue = animation._inlineStyles[tweenProperty];\n        if (tween._tweenType === tweenTypes.TRANSFORM) {\n          const cachedTransforms = tweenTarget[transformsSymbol];\n          if (isUnd(originalInlinedValue) || originalInlinedValue === emptyString) {\n            delete cachedTransforms[tweenProperty];\n          } else {\n            cachedTransforms[tweenProperty] = originalInlinedValue;\n          }\n          if (tween._renderTransforms) {\n            if (!Object.keys(cachedTransforms).length) {\n              targetStyle.removeProperty('transform');\n            } else {\n              let str = emptyString;\n              for (let key in cachedTransforms) {\n                str += transformsFragmentStrings[key] + cachedTransforms[key] + ') ';\n              }\n              targetStyle.transform = str;\n            }\n          }\n        } else {\n          if (isUnd(originalInlinedValue) || originalInlinedValue === emptyString) {\n            targetStyle.removeProperty(tweenProperty);\n          } else {\n            targetStyle[tweenProperty] = originalInlinedValue;\n          }\n        }\n        if (animation._tail === tween) {\n          animation.targets.forEach(t => {\n            if (t.getAttribute && t.getAttribute('style') === emptyString) {\n              t.removeAttribute('style');\n            }\n          });\n        }\n      }\n    });\n  }\n  return renderable;\n};\n\n// Defines decomposed values target objects only once and mutate their properties later to avoid GC\n// TODO: Maybe move the objects creation to values.js and use the decompose function to create the base object\nconst fromTargetObject = createDecomposedValueTargetObject();\nconst toTargetObject = createDecomposedValueTargetObject();\nconst toFunctionStore = {\n  func: null\n};\nconst keyframesTargetArray = [null];\nconst fastSetValuesArray = [null, null];\n/** @type {TweenKeyValue} */\nconst keyObjectTarget = {\n  to: null\n};\nlet tweenId = 0;\nlet keyframes;\n/** @type {TweenParamsOptions & TweenValues} */\nlet key;\n\n/**\n * @param {DurationKeyframes | PercentageKeyframes} keyframes\n * @param {AnimationParams} parameters\n * @return {AnimationParams}\n */\nconst generateKeyframes = (keyframes, parameters) => {\n  /** @type {AnimationParams} */\n  const properties = {};\n  if (isArr(keyframes)) {\n    const propertyNames = [].concat(... /** @type {DurationKeyframes} */keyframes.map(key => Object.keys(key))).filter(isKey);\n    for (let i = 0, l = propertyNames.length; i < l; i++) {\n      const propName = propertyNames[i];\n      const propArray = /** @type {DurationKeyframes} */keyframes.map(key => {\n        /** @type {TweenKeyValue} */\n        const newKey = {};\n        for (let p in key) {\n          const keyValue = /** @type {TweenPropValue} */key[p];\n          if (isKey(p)) {\n            if (p === propName) {\n              newKey.to = keyValue;\n            }\n          } else {\n            newKey[p] = keyValue;\n          }\n        }\n        return newKey;\n      });\n      properties[propName] = /** @type {ArraySyntaxValue} */propArray;\n    }\n  } else {\n    const totalDuration = /** @type {Number} */setValue(parameters.duration, globals.defaults.duration);\n    const keys = Object.keys(keyframes).map(key => {\n      return {\n        o: parseFloat(key) / 100,\n        p: keyframes[key]\n      };\n    }).sort((a, b) => a.o - b.o);\n    keys.forEach(key => {\n      const offset = key.o;\n      const prop = key.p;\n      for (let name in prop) {\n        if (isKey(name)) {\n          let propArray = /** @type {Array} */properties[name];\n          if (!propArray) propArray = properties[name] = [];\n          const duration = offset * totalDuration;\n          let length = propArray.length;\n          let prevKey = propArray[length - 1];\n          const keyObj = {\n            to: prop[name]\n          };\n          let durProgress = 0;\n          for (let i = 0; i < length; i++) {\n            durProgress += propArray[i].duration;\n          }\n          if (length === 1) {\n            keyObj.from = prevKey.to;\n          }\n          if (prop.ease) {\n            keyObj.ease = prop.ease;\n          }\n          keyObj.duration = duration - (length ? durProgress : 0);\n          propArray.push(keyObj);\n        }\n      }\n      return key;\n    });\n    for (let name in properties) {\n      const propArray = /** @type {Array} */properties[name];\n      let prevEase;\n      // let durProgress = 0\n      for (let i = 0, l = propArray.length; i < l; i++) {\n        const prop = propArray[i];\n        // Emulate WAPPI easing parameter position\n        const currentEase = prop.ease;\n        prop.ease = prevEase ? prevEase : undefined;\n        prevEase = currentEase;\n        // durProgress += prop.duration;\n        // if (i === l - 1 && durProgress !== totalDuration) {\n        //   propArray.push({ from: prop.to, ease: prop.ease, duration: totalDuration - durProgress })\n        // }\n      }\n      if (!propArray[0].duration) {\n        propArray.shift();\n      }\n    }\n  }\n  return properties;\n};\nclass JSAnimation extends Timer {\n  /**\n   * @param {TargetsParam} targets\n   * @param {AnimationParams} parameters\n   * @param {Timeline} [parent]\n   * @param {Number} [parentPosition]\n   * @param {Boolean} [fastSet=false]\n   * @param {Number} [index=0]\n   * @param {Number} [length=0]\n   */\n  constructor(targets, parameters, parent, parentPosition, fastSet = false, index = 0, length = 0) {\n    super(/** @type {TimerParams&AnimationParams} */parameters, parent, parentPosition);\n    const parsedTargets = registerTargets(targets);\n    const targetsLength = parsedTargets.length;\n\n    // If the parameters object contains a \"keyframes\" property, convert all the keyframes values to regular properties\n\n    const kfParams = /** @type {AnimationParams} */parameters.keyframes;\n    const params = /** @type {AnimationParams} */kfParams ? mergeObjects(generateKeyframes(/** @type {DurationKeyframes} */kfParams, parameters), parameters) : parameters;\n    const {\n      delay,\n      duration,\n      ease,\n      playbackEase,\n      modifier,\n      composition,\n      onRender\n    } = params;\n    const animDefaults = parent ? parent.defaults : globals.defaults;\n    const animaPlaybackEase = setValue(playbackEase, animDefaults.playbackEase);\n    const animEase = animaPlaybackEase ? parseEasings(animaPlaybackEase) : null;\n    const hasSpring = !isUnd(ease) && !isUnd(/** @type {Spring} */ease.ease);\n    const tEasing = hasSpring ? /** @type {Spring} */ease.ease : setValue(ease, animEase ? 'linear' : animDefaults.ease);\n    const tDuration = hasSpring ? /** @type {Spring} */ease.duration : setValue(duration, animDefaults.duration);\n    const tDelay = setValue(delay, animDefaults.delay);\n    const tModifier = modifier || animDefaults.modifier;\n    // If no composition is defined and the targets length is high (>= 1000) set the composition to 'none' (0) for faster tween creation\n    const tComposition = isUnd(composition) && targetsLength >= K ? compositionTypes.none : !isUnd(composition) ? composition : animDefaults.composition;\n    // TODO: Do not create an empty object until we know the animation will generate inline styles\n    const animInlineStyles = {};\n    // const absoluteOffsetTime = this._offset;\n    const absoluteOffsetTime = this._offset + (parent ? parent._offset : 0);\n    let iterationDuration = NaN;\n    let iterationDelay = NaN;\n    let animationAnimationLength = 0;\n    let shouldTriggerRender = 0;\n    for (let targetIndex = 0; targetIndex < targetsLength; targetIndex++) {\n      const target = parsedTargets[targetIndex];\n      const ti = index || targetIndex;\n      const tl = length || targetsLength;\n      let lastTransformGroupIndex = NaN;\n      let lastTransformGroupLength = NaN;\n      for (let p in params) {\n        if (isKey(p)) {\n          const tweenType = getTweenType(target, p);\n          const propName = sanitizePropertyName(p, target, tweenType);\n          let propValue = params[p];\n          const isPropValueArray = isArr(propValue);\n          if (fastSet && !isPropValueArray) {\n            fastSetValuesArray[0] = propValue;\n            fastSetValuesArray[1] = propValue;\n            propValue = fastSetValuesArray;\n          }\n\n          // TODO: Allow nested keyframes inside ObjectValue value (prop: { to: [.5, 1, .75, 2, 3] })\n          // Normalize property values to valid keyframe syntax:\n          // [x, y] to [{to: [x, y]}] or {to: x} to [{to: x}] or keep keys syntax [{}, {}, {}...]\n          // const keyframes = isArr(propValue) ? propValue.length === 2 && !isObj(propValue[0]) ? [{ to: propValue }] : propValue : [propValue];\n          if (isPropValueArray) {\n            const arrayLength = /** @type {Array} */propValue.length;\n            const isNotObjectValue = !isObj(propValue[0]);\n            // Convert [x, y] to [{to: [x, y]}]\n            if (arrayLength === 2 && isNotObjectValue) {\n              keyObjectTarget.to = /** @type {TweenParamValue} */ /** @type {unknown} */propValue;\n              keyframesTargetArray[0] = keyObjectTarget;\n              keyframes = keyframesTargetArray;\n              // Convert [x, y, z] to [[x, y], z]\n            } else if (arrayLength > 2 && isNotObjectValue) {\n              keyframes = [];\n              /** @type {Array.<Number>} */\n              propValue.forEach((v, i) => {\n                if (!i) {\n                  fastSetValuesArray[0] = v;\n                } else if (i === 1) {\n                  fastSetValuesArray[1] = v;\n                  keyframes.push(fastSetValuesArray);\n                } else {\n                  keyframes.push(v);\n                }\n              });\n            } else {\n              keyframes = /** @type {Array.<TweenKeyValue>} */propValue;\n            }\n          } else {\n            keyframesTargetArray[0] = propValue;\n            keyframes = keyframesTargetArray;\n          }\n          let siblings = null;\n          let prevTween = null;\n          let firstTweenChangeStartTime = NaN;\n          let lastTweenChangeEndTime = 0;\n          let tweenIndex = 0;\n          for (let l = keyframes.length; tweenIndex < l; tweenIndex++) {\n            const keyframe = keyframes[tweenIndex];\n            if (isObj(keyframe)) {\n              key = keyframe;\n            } else {\n              keyObjectTarget.to = /** @type {TweenParamValue} */keyframe;\n              key = keyObjectTarget;\n            }\n            toFunctionStore.func = null;\n            const computedToValue = getFunctionValue(key.to, target, ti, tl, toFunctionStore);\n            let tweenToValue;\n            // Allows function based values to return an object syntax value ({to: v})\n            if (isObj(computedToValue) && !isUnd(computedToValue.to)) {\n              key = computedToValue;\n              tweenToValue = computedToValue.to;\n            } else {\n              tweenToValue = computedToValue;\n            }\n            const tweenFromValue = getFunctionValue(key.from, target, ti, tl);\n            const keyEasing = key.ease;\n            const hasSpring = !isUnd(keyEasing) && !isUnd(/** @type {Spring} */keyEasing.ease);\n            // Easing are treated differently and don't accept function based value to prevent having to pass a function wrapper that returns an other function all the time\n            const tweenEasing = hasSpring ? /** @type {Spring} */keyEasing.ease : keyEasing || tEasing;\n            // Calculate default individual keyframe duration by dividing the tl of keyframes\n            const tweenDuration = hasSpring ? /** @type {Spring} */keyEasing.duration : getFunctionValue(setValue(key.duration, l > 1 ? getFunctionValue(tDuration, target, ti, tl) / l : tDuration), target, ti, tl);\n            // Default delay value should only be applied to the first tween\n            const tweenDelay = getFunctionValue(setValue(key.delay, !tweenIndex ? tDelay : 0), target, ti, tl);\n            const computedComposition = getFunctionValue(setValue(key.composition, tComposition), target, ti, tl);\n            const tweenComposition = isNum(computedComposition) ? computedComposition : compositionTypes[computedComposition];\n            // Modifiers are treated differently and don't accept function based value to prevent having to pass a function wrapper\n            const tweenModifier = key.modifier || tModifier;\n            const hasFromvalue = !isUnd(tweenFromValue);\n            const hasToValue = !isUnd(tweenToValue);\n            const isFromToArray = isArr(tweenToValue);\n            const isFromToValue = isFromToArray || hasFromvalue && hasToValue;\n            const tweenStartTime = prevTween ? lastTweenChangeEndTime + tweenDelay : tweenDelay;\n            const absoluteStartTime = absoluteOffsetTime + tweenStartTime;\n\n            // Force a onRender callback if the animation contains at least one from value and autoplay is set to false\n            if (!shouldTriggerRender && (hasFromvalue || isFromToArray)) shouldTriggerRender = 1;\n            let prevSibling = prevTween;\n            if (tweenComposition !== compositionTypes.none) {\n              if (!siblings) siblings = getTweenSiblings(target, propName);\n              let nextSibling = siblings._head;\n              // Iterate trough all the next siblings until we find a sibling with an equal or inferior start time\n              while (nextSibling && !nextSibling._isOverridden && nextSibling._absoluteStartTime <= absoluteStartTime) {\n                prevSibling = nextSibling;\n                nextSibling = nextSibling._nextRep;\n                // Overrides all the next siblings if the next sibling starts at the same time of after as the new tween start time\n                if (nextSibling && nextSibling._absoluteStartTime >= absoluteStartTime) {\n                  while (nextSibling) {\n                    overrideTween(nextSibling);\n                    // This will ends both the current while loop and the upper one once all the next sibllings have been overriden\n                    nextSibling = nextSibling._nextRep;\n                  }\n                }\n              }\n            }\n\n            // Decompose values\n            if (isFromToValue) {\n              decomposeRawValue(isFromToArray ? getFunctionValue(tweenToValue[0], target, ti, tl) : tweenFromValue, fromTargetObject);\n              decomposeRawValue(isFromToArray ? getFunctionValue(tweenToValue[1], target, ti, tl, toFunctionStore) : tweenToValue, toTargetObject);\n              if (fromTargetObject.t === valueTypes.NUMBER) {\n                if (prevSibling) {\n                  if (prevSibling._valueType === valueTypes.UNIT) {\n                    fromTargetObject.t = valueTypes.UNIT;\n                    fromTargetObject.u = prevSibling._unit;\n                  }\n                } else {\n                  decomposeRawValue(getOriginalAnimatableValue(target, propName, tweenType, animInlineStyles), decomposedOriginalValue);\n                  if (decomposedOriginalValue.t === valueTypes.UNIT) {\n                    fromTargetObject.t = valueTypes.UNIT;\n                    fromTargetObject.u = decomposedOriginalValue.u;\n                  }\n                }\n              }\n            } else {\n              if (hasToValue) {\n                decomposeRawValue(tweenToValue, toTargetObject);\n              } else {\n                if (prevTween) {\n                  decomposeTweenValue(prevTween, toTargetObject);\n                } else {\n                  // No need to get and parse the original value if the tween is part of a timeline and has a previous sibling part of the same timeline\n                  decomposeRawValue(parent && prevSibling && prevSibling.parent.parent === parent ? prevSibling._value : getOriginalAnimatableValue(target, propName, tweenType, animInlineStyles), toTargetObject);\n                }\n              }\n              if (hasFromvalue) {\n                decomposeRawValue(tweenFromValue, fromTargetObject);\n              } else {\n                if (prevTween) {\n                  decomposeTweenValue(prevTween, fromTargetObject);\n                } else {\n                  decomposeRawValue(parent && prevSibling && prevSibling.parent.parent === parent ? prevSibling._value :\n                  // No need to get and parse the original value if the tween is part of a timeline and has a previous sibling part of the same timeline\n                  getOriginalAnimatableValue(target, propName, tweenType, animInlineStyles), fromTargetObject);\n                }\n              }\n            }\n\n            // Apply operators\n            if (fromTargetObject.o) {\n              fromTargetObject.n = getRelativeValue(!prevSibling ? decomposeRawValue(getOriginalAnimatableValue(target, propName, tweenType, animInlineStyles), decomposedOriginalValue).n : prevSibling._toNumber, fromTargetObject.n, fromTargetObject.o);\n            }\n            if (toTargetObject.o) {\n              toTargetObject.n = getRelativeValue(fromTargetObject.n, toTargetObject.n, toTargetObject.o);\n            }\n\n            // Values omogenisation in cases of type difference between \"from\" and \"to\"\n            if (fromTargetObject.t !== toTargetObject.t) {\n              if (fromTargetObject.t === valueTypes.COMPLEX || toTargetObject.t === valueTypes.COMPLEX) {\n                const complexValue = fromTargetObject.t === valueTypes.COMPLEX ? fromTargetObject : toTargetObject;\n                const notComplexValue = fromTargetObject.t === valueTypes.COMPLEX ? toTargetObject : fromTargetObject;\n                notComplexValue.t = valueTypes.COMPLEX;\n                notComplexValue.s = cloneArray(complexValue.s);\n                notComplexValue.d = complexValue.d.map(() => notComplexValue.n);\n              } else if (fromTargetObject.t === valueTypes.UNIT || toTargetObject.t === valueTypes.UNIT) {\n                const unitValue = fromTargetObject.t === valueTypes.UNIT ? fromTargetObject : toTargetObject;\n                const notUnitValue = fromTargetObject.t === valueTypes.UNIT ? toTargetObject : fromTargetObject;\n                notUnitValue.t = valueTypes.UNIT;\n                notUnitValue.u = unitValue.u;\n              } else if (fromTargetObject.t === valueTypes.COLOR || toTargetObject.t === valueTypes.COLOR) {\n                const colorValue = fromTargetObject.t === valueTypes.COLOR ? fromTargetObject : toTargetObject;\n                const notColorValue = fromTargetObject.t === valueTypes.COLOR ? toTargetObject : fromTargetObject;\n                notColorValue.t = valueTypes.COLOR;\n                notColorValue.s = colorValue.s;\n                notColorValue.d = [0, 0, 0, 1];\n              }\n            }\n\n            // Unit conversion\n            if (fromTargetObject.u !== toTargetObject.u) {\n              let valueToConvert = toTargetObject.u ? fromTargetObject : toTargetObject;\n              valueToConvert = convertValueUnit(/** @type {DOMTarget} */target, valueToConvert, toTargetObject.u ? toTargetObject.u : fromTargetObject.u, false);\n              // TODO:\n              // convertValueUnit(target, to.u ? from : to, to.u ? to.u : from.u);\n            }\n\n            // Fill in non existing complex values\n            if (toTargetObject.d && fromTargetObject.d && toTargetObject.d.length !== fromTargetObject.d.length) {\n              const longestValue = fromTargetObject.d.length > toTargetObject.d.length ? fromTargetObject : toTargetObject;\n              const shortestValue = longestValue === fromTargetObject ? toTargetObject : fromTargetObject;\n              // TODO: Check if n should be used instead of 0 for default complex values\n              shortestValue.d = longestValue.d.map((_, i) => isUnd(shortestValue.d[i]) ? 0 : shortestValue.d[i]);\n              shortestValue.s = cloneArray(longestValue.s);\n            }\n\n            // Tween factory\n\n            // Rounding is necessary here to minimize floating point errors\n            const tweenUpdateDuration = round(+tweenDuration || minValue, 12);\n\n            /** @type {Tween} */\n            const tween = {\n              parent: this,\n              id: tweenId++,\n              property: propName,\n              target: target,\n              _value: null,\n              _func: toFunctionStore.func,\n              _ease: parseEasings(tweenEasing),\n              _fromNumbers: cloneArray(fromTargetObject.d),\n              _toNumbers: cloneArray(toTargetObject.d),\n              _strings: cloneArray(toTargetObject.s),\n              _fromNumber: fromTargetObject.n,\n              _toNumber: toTargetObject.n,\n              _numbers: cloneArray(fromTargetObject.d),\n              // For additive tween and animatables\n              _number: fromTargetObject.n,\n              // For additive tween and animatables\n              _unit: toTargetObject.u,\n              _modifier: tweenModifier,\n              _currentTime: 0,\n              _startTime: tweenStartTime,\n              _delay: +tweenDelay,\n              _updateDuration: tweenUpdateDuration,\n              _changeDuration: tweenUpdateDuration,\n              _absoluteStartTime: absoluteStartTime,\n              // NOTE: Investigate bit packing to stores ENUM / BOOL\n              _tweenType: tweenType,\n              _valueType: toTargetObject.t,\n              _composition: tweenComposition,\n              _isOverlapped: 0,\n              _isOverridden: 0,\n              _renderTransforms: 0,\n              _prevRep: null,\n              // For replaced tween\n              _nextRep: null,\n              // For replaced tween\n              _prevAdd: null,\n              // For additive tween\n              _nextAdd: null,\n              // For additive tween\n              _prev: null,\n              _next: null\n            };\n            if (tweenComposition !== compositionTypes.none) {\n              composeTween(tween, siblings);\n            }\n            if (isNaN(firstTweenChangeStartTime)) {\n              firstTweenChangeStartTime = tween._startTime;\n            }\n            // Rounding is necessary here to minimize floating point errors\n            lastTweenChangeEndTime = round(tweenStartTime + tweenUpdateDuration, 12);\n            prevTween = tween;\n            animationAnimationLength++;\n            addChild(this, tween);\n          }\n\n          // Update animation timings with the added tweens properties\n\n          if (isNaN(iterationDelay) || firstTweenChangeStartTime < iterationDelay) {\n            iterationDelay = firstTweenChangeStartTime;\n          }\n          if (isNaN(iterationDuration) || lastTweenChangeEndTime > iterationDuration) {\n            iterationDuration = lastTweenChangeEndTime;\n          }\n\n          // TODO: Find a way to inline tween._renderTransforms = 1 here\n          if (tweenType === tweenTypes.TRANSFORM) {\n            lastTransformGroupIndex = animationAnimationLength - tweenIndex;\n            lastTransformGroupLength = animationAnimationLength;\n          }\n        }\n      }\n\n      // Set _renderTransforms to last transform property to correctly render the transforms list\n      if (!isNaN(lastTransformGroupIndex)) {\n        let i = 0;\n        forEachChildren(this, (/** @type {Tween} */tween) => {\n          if (i >= lastTransformGroupIndex && i < lastTransformGroupLength) {\n            tween._renderTransforms = 1;\n            if (tween._composition === compositionTypes.blend) {\n              forEachChildren(additive.animation, (/** @type {Tween} */additiveTween) => {\n                if (additiveTween.id === tween.id) {\n                  additiveTween._renderTransforms = 1;\n                }\n              });\n            }\n          }\n          i++;\n        });\n      }\n    }\n    if (!targetsLength) {\n      console.warn(`No target found. Make sure the element you're trying to animate is accessible before creating your animation.`);\n    }\n    if (iterationDelay) {\n      forEachChildren(this, (/** @type {Tween} */tween) => {\n        // If (startTime - delay) equals 0, this means the tween is at the begining of the animation so we need to trim the delay too\n        if (!(tween._startTime - tween._delay)) {\n          tween._delay -= iterationDelay;\n        }\n        tween._startTime -= iterationDelay;\n      });\n      iterationDuration -= iterationDelay;\n    } else {\n      iterationDelay = 0;\n    }\n\n    // Prevents iterationDuration to be NaN if no valid animatable props have been provided\n    // Prevents _iterationCount to be NaN if no valid animatable props have been provided\n    if (!iterationDuration) {\n      iterationDuration = minValue;\n      this.iterationCount = 0;\n    }\n    /** @type {TargetsArray} */\n    this.targets = parsedTargets;\n    /** @type {Number} */\n    this.duration = iterationDuration === minValue ? minValue : clampInfinity((iterationDuration + this._loopDelay) * this.iterationCount - this._loopDelay) || minValue;\n    /** @type {Callback<this>} */\n    this.onRender = onRender || animDefaults.onRender;\n    /** @type {EasingFunction} */\n    this._ease = animEase;\n    /** @type {Number} */\n    this._delay = iterationDelay;\n    // NOTE: I'm keeping delay values separated from offsets in timelines because delays can override previous tweens and it could be confusing to debug a timeline with overridden tweens and no associated visible delays.\n    // this._delay = parent ? 0 : iterationDelay;\n    // this._offset += parent ? iterationDelay : 0;\n    /** @type {Number} */\n    this.iterationDuration = iterationDuration;\n    /** @type {{}} */\n    this._inlineStyles = animInlineStyles;\n    if (!this._autoplay && shouldTriggerRender) this.onRender(this);\n  }\n\n  /**\n   * @param  {Number} newDuration\n   * @return {this}\n   */\n  stretch(newDuration) {\n    const currentDuration = this.duration;\n    if (currentDuration === normalizeTime(newDuration)) return this;\n    const timeScale = newDuration / currentDuration;\n    // NOTE: Find a better way to handle the stretch of an animation after stretch = 0\n    forEachChildren(this, (/** @type {Tween} */tween) => {\n      // Rounding is necessary here to minimize floating point errors\n      tween._updateDuration = normalizeTime(tween._updateDuration * timeScale);\n      tween._changeDuration = normalizeTime(tween._changeDuration * timeScale);\n      tween._currentTime *= timeScale;\n      tween._startTime *= timeScale;\n      tween._absoluteStartTime *= timeScale;\n    });\n    return super.stretch(newDuration);\n  }\n\n  /**\n   * @return {this}\n   */\n  refresh() {\n    forEachChildren(this, (/** @type {Tween} */tween) => {\n      const tweenFunc = tween._func;\n      if (tweenFunc) {\n        const ogValue = getOriginalAnimatableValue(tween.target, tween.property, tween._tweenType);\n        decomposeRawValue(ogValue, decomposedOriginalValue);\n        decomposeRawValue(tweenFunc(), toTargetObject);\n        tween._fromNumbers = cloneArray(decomposedOriginalValue.d);\n        tween._fromNumber = decomposedOriginalValue.n;\n        tween._toNumbers = cloneArray(toTargetObject.d);\n        tween._strings = cloneArray(toTargetObject.s);\n        // Make sure to apply relative operators https://github.com/juliangarnier/anime/issues/1025\n        tween._toNumber = toTargetObject.o ? getRelativeValue(decomposedOriginalValue.n, toTargetObject.n, toTargetObject.o) : toTargetObject.n;\n      }\n    });\n    return this;\n  }\n\n  /**\n   * Cancel the animation and revert all the values affected by this animation to their original state\n   * @return {this}\n   */\n  revert() {\n    super.revert();\n    return cleanInlineStyles(this);\n  }\n\n  /**\n   * @param  {Callback<this>} [callback]\n   * @return {Promise}\n   */\n  then(callback) {\n    return super.then(callback);\n  }\n}\n\n/**\n * @param {TargetsParam} targets\n * @param {AnimationParams} parameters\n * @return {JSAnimation}\n */\nconst animate = (targets, parameters) => new JSAnimation(targets, parameters, null, 0, false).init();\nexport { animate as a };\n\n\n"],"mappings":"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","names":["isBrowser","win","doc","tweenTypes","valueTypes","tickModes","compositionTypes","isRegisteredTargetSymbol","isDomSymbol","isSvgSymbol","transformsSymbol","proxyTargetSymbol","minValue","maxValue","K","maxFps","emptyString","shortTransforms","map","validTransforms","transformsFragmentStrings","a","v","__spreadProps","__spreadValues","noop","hexTestRgx","rgbExecRgx","rgbaExecRgx","hslExecRgx","hslaExecRgx","digitWithExponentRgx","unitsExecRgx","lowerCaseRgx","transformsExecRgx","defaults","scope","globals","globalVersions","toLowerCase","str","stringStartsWith","sub","now","isArr","isObj","isNum","isStr","isFnc","isUnd","isNil","isSvg","isHex","isRgb","isHsl","isCol","isKey","parseNumber","pow","sqrt","sin","cos","abs","ceil","floor","asin","PI","_round","clamp","min","max","powCache","round","decimalLength","p","interpolate","start","end","progress","clampInfinity","normalizeTime","cloneArray","mergeObjects","o1","o2","merged","o1p","forEachChildren","parent","callback","reverse","prevProp","nextProp","next","adjustedNextProp","currentNext","removeChild","child","prev","addChild","sortMethod","Clock","initTime","frameRate","previousFrameDuration","fr","fps","frameDuration","playbackRate","pbr","time","scheduledTime","elapsedTime","frameDelta","delta","render","tickable","muteCallbacks","internalRender","tickMode","duration","completed","iterationDuration","iterationCount","_currentIteration","_loopDelay","_reversed","_alternate","_hasChildren","tickableDelay","tickablePrevAbsoluteTime","tickableEndTime","tickableAbsoluteTime","tickablePrevTime","tickableCurrentTime","deltaTime","isCurrentTimeAboveZero","isCurrentTimeEqualOrAboveDuration","isSetter","forcedTick","isOdd","iterationElapsedTime","hasRendered","currentIteration","isReversed","_ease","iterationTime","isRunningBackwards","forcedRender","absoluteTime","tween","tweenTarget","tweenStyle","tweenTargetTransforms","tweenTargetTransformsProperties","tweenTransformsNeedUpdate","tweenComposition","tweenCurrentTime","tweenChangeDuration","tweenAbsEndTime","tweenNextRep","tweenPrevRep","tweenHasComposition","tweenNewTime","tweenProgress","tweenModifier","tweenValueType","tweenType","tweenIsObject","tweenIsNumber","tweenPrecision","value","number","fn","tn","r","g","b","ns","j","l","n","s","tweenProperty","key","tick","tl","tlIsRunningBackwards","tlChildrenTime","tlCildrenTickTime","tlChildrenHasRendered","tlChildrenHaveCompleted","tlIterationDuration","childDuration","childStartTime","childEndTime","childTime","childTickMode","additive","addAdditiveAnimation","lookups","animation","propertyAnimation","propertyName","tweens","lookupTween","valueType","additiveValues","additiveValue","i","engineTickMethod","engineCancelMethod","Engine","engineSpeed","engineFps","activeTickable","nextTickable","tickEngine","killEngine","unit","isSecond","newScale","scaleFactor","precision","engine","parseInlineTransforms","target","propName","animationInlineStyles","inlineTransforms","inlinedStylesPropertyValue","cachedTransforms","t","inlinePropertyName","inlinePropertyValue","getNodeList","parseTargets","targets","flattened","parsed","item","nodeList","jl","subItem","isDuplicate","k","kl","registerTargets","parsedTargetsArray","parsedTargetsLength","isSvgType","cssReservedProperties","isValidSVGAttribute","el","elParentNode","rgbToRgba","rgbValue","rgba","hexToRgba","hexValue","hexLength","isShort","hue2rgb","q","hslToRgba","hslValue","hsla","h","convertColorStringValuesToRgbaArray","colorString","setValue","targetValue","defaultValue","getFunctionValue","index","total","store","func","computed","getTweenType","prop","getCSSValue","inlineStyles","getOriginalAnimatableValue","type","getRelativeValue","x","y","operator","createDecomposedValueTargetObject","decomposeRawValue","rawValue","targetObject","num","unitMatch","matchedNumbers","decomposeTweenValue","decomposedOriginalValue","getTweenSiblings","property","lookup","lookupMap","targetLookup","addTweenSortMethod","c","overrideTween","composeTween","siblings","tweenCompositionType","tweenAbsStartTime","prevSibling","prevParent","prevAbsEndTime","prevPrevSibling","absoluteUpdateStartTime","prevChangeStartTime","prevTLOffset","pausePrevParentAnimation","prevParentTL","pausePrevParentTL","additiveTweenSiblings","additiveAnimation","toNumber","toNumbers","removeTweenSliblings","tweenReplaceSiblings","addTweensLookup","addTargetProps","shouldClean","resetTimerProperties","timer","reviveTimer","timerId","Timer","parameters","parentPosition","id","delay","reversed","alternate","loop","loopDelay","autoplay","onComplete","onLoop","onPause","onBegin","onBeforeUpdate","onUpdate","timerInitTime","timerDefaults","timerDelay","timerDuration","timerLoop","timerLoopDelay","timerIterationCount","offsetPosition","startTime","cancelled","paused","timeScale","isPaused","count","iterations","newDuration","currentDuration","normlizedDuration","ap","then","onResolve","none","calcBezier","aT","aA1","aA2","binarySubdivide","aX","mX1","mX2","aA","aB","currentX","currentT","cubicBezier","mY1","mY2","steps","fromStart","roundMethod","linear","args","argsLength","totalPoints","firstArg","lastArg","xPoints","yPoints","arg","splitValue","percent","prevX","prevY","irregular","length","randomness","values","previousValue","spacing","segmentEnd","randomVariation","randomValue","halfPI","doublePI","easeInPower","easeInFunctions","pow2","overshoot","amplitude","period","e","easeTypes","easeIn","parseEaseString","string","easesFunctions","easesLookups","parsedFn","split","eases","list","name","easeType","JSEasesLookups","parseEasings","ease","propertyNamesCache","sanitizePropertyName","cachedPropertyName","lowerCaseName","angleUnitsMap","convertedValuesCache","convertValueUnit","decomposedValue","force","currentUnit","currentNumber","cachedKey","cached","convertedValue","tempEl","parentNode","parentEl","elStyle","currentUnitWidth","newUnitWidth","factor","cleanInlineStyles","renderable","targetStyle","originalInlinedValue","fromTargetObject","toTargetObject","toFunctionStore","keyframesTargetArray","fastSetValuesArray","keyObjectTarget","tweenId","keyframes","generateKeyframes","properties","propertyNames","propArray","newKey","keyValue","totalDuration","offset","prevKey","keyObj","durProgress","prevEase","currentEase","JSAnimation","fastSet","parsedTargets","targetsLength","kfParams","params","playbackEase","modifier","composition","onRender","animDefaults","animaPlaybackEase","animEase","hasSpring","tEasing","tDuration","tDelay","tModifier","tComposition","animInlineStyles","absoluteOffsetTime","iterationDelay","animationAnimationLength","shouldTriggerRender","targetIndex","ti","lastTransformGroupIndex","lastTransformGroupLength","propValue","isPropValueArray","arrayLength","isNotObjectValue","prevTween","firstTweenChangeStartTime","lastTweenChangeEndTime","tweenIndex","keyframe","computedToValue","tweenToValue","tweenFromValue","keyEasing","tweenEasing","tweenDuration","tweenDelay","computedComposition","hasFromvalue","hasToValue","isFromToArray","isFromToValue","tweenStartTime","absoluteStartTime","nextSibling","complexValue","notComplexValue","unitValue","notUnitValue","colorValue","notColorValue","valueToConvert","longestValue","shortestValue","_","tweenUpdateDuration","additiveTween","tweenFunc","ogValue","animate"],"x_google_ignoreList":[0]}