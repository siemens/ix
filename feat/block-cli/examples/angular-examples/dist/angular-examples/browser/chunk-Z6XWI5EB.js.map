{"version":3,"sources":["node_modules/@siemens/ix/dist/esm/listener-DAJkOQte.js"],"sourcesContent":["import { g as getElement } from './index-CtoreFVF.js';\n\n/*\n * SPDX-FileCopyrightText: 2024 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nconst defaultOptions = {\n  target: 'window',\n  defaultEnabled: true\n};\nfunction createListener(event, options = {}) {\n  const opts = Object.assign(Object.assign({}, defaultOptions), options);\n  let callback;\n  const onEvent = event => {\n    callback(event);\n  };\n  const resultObject = {\n    on: onEventCallback => {\n      callback = onEventCallback;\n    },\n    isEnabled: opts.defaultEnabled,\n    enable: state => {\n      resultObject.isEnabled = state;\n      if (state) {\n        addEventListener(event, onEvent);\n      } else {\n        removeEventListener(event, onEvent);\n      }\n    },\n    destroy: () => {\n      resultObject.enable(false);\n    }\n  };\n  resultObject.enable(!!opts.defaultEnabled);\n  return resultObject;\n}\nfunction OnListener(event, fnExp) {\n  return (proto, methodName) => {\n    const {\n      componentWillLoad,\n      componentWillRender,\n      disconnectedCallback\n    } = proto;\n    if (fnExp) {\n      proto.componentWillRender = function () {\n        var _a;\n        const host = getElement(this);\n        (_a = host[`__ix__${methodName}`]) === null || _a === void 0 ? void 0 : _a.enable(fnExp(this));\n        return componentWillRender && componentWillRender.call(this);\n      };\n    }\n    proto.componentWillLoad = function () {\n      const listener = createListener(event);\n      const host = getElement(this);\n      const method = this[methodName];\n      host[`__ix__${methodName}`] = listener;\n      listener.on(method.bind(this));\n      return componentWillLoad && componentWillLoad.call(this);\n    };\n    proto.disconnectedCallback = function () {\n      var _a;\n      const host = getElement(this);\n      if (host && host[`__ix__${methodName}`]) {\n        (_a = host[`__ix__${methodName}`]) === null || _a === void 0 ? void 0 : _a.destroy();\n        host[`__ix__${methodName}`] = null;\n      }\n      return disconnectedCallback && disconnectedCallback.call(this);\n    };\n  };\n}\nexport { OnListener as O };\n\n\n"],"mappings":"wCAUA,IAAMA,EAAiB,CACrB,OAAQ,SACR,eAAgB,EAClB,EACA,SAASC,EAAeC,EAAOC,EAAU,CAAC,EAAG,CAC3C,IAAMC,EAAO,OAAO,OAAO,OAAO,OAAO,CAAC,EAAGJ,CAAc,EAAGG,CAAO,EACjEE,EACEC,EAAUJ,GAAS,CACvBG,EAASH,CAAK,CAChB,EACMK,EAAe,CACnB,GAAIC,GAAmB,CACrBH,EAAWG,CACb,EACA,UAAWJ,EAAK,eAChB,OAAQK,GAAS,CACfF,EAAa,UAAYE,EACrBA,EACF,iBAAiBP,EAAOI,CAAO,EAE/B,oBAAoBJ,EAAOI,CAAO,CAEtC,EACA,QAAS,IAAM,CACbC,EAAa,OAAO,EAAK,CAC3B,CACF,EACA,OAAAA,EAAa,OAAO,CAAC,CAACH,EAAK,cAAc,EAClCG,CACT,CACA,SAASG,EAAWR,EAAOS,EAAO,CAChC,MAAO,CAACC,EAAOC,IAAe,CAC5B,GAAM,CACJ,kBAAAC,EACA,oBAAAC,EACA,qBAAAC,CACF,EAAIJ,EACAD,IACFC,EAAM,oBAAsB,UAAY,CACtC,IAAIK,EAEJ,OAACA,EADYC,EAAW,IAAI,EACjB,SAASL,CAAU,EAAE,KAAO,MAAQI,IAAO,QAAkBA,EAAG,OAAON,EAAM,IAAI,CAAC,EACtFI,GAAuBA,EAAoB,KAAK,IAAI,CAC7D,GAEFH,EAAM,kBAAoB,UAAY,CACpC,IAAMO,EAAWlB,EAAeC,CAAK,EAC/BkB,EAAOF,EAAW,IAAI,EACtBG,EAAS,KAAKR,CAAU,EAC9B,OAAAO,EAAK,SAASP,CAAU,EAAE,EAAIM,EAC9BA,EAAS,GAAGE,EAAO,KAAK,IAAI,CAAC,EACtBP,GAAqBA,EAAkB,KAAK,IAAI,CACzD,EACAF,EAAM,qBAAuB,UAAY,CACvC,IAAIK,EACJ,IAAMG,EAAOF,EAAW,IAAI,EAC5B,OAAIE,GAAQA,EAAK,SAASP,CAAU,EAAE,KACnCI,EAAKG,EAAK,SAASP,CAAU,EAAE,KAAO,MAAQI,IAAO,QAAkBA,EAAG,QAAQ,EACnFG,EAAK,SAASP,CAAU,EAAE,EAAI,MAEzBG,GAAwBA,EAAqB,KAAK,IAAI,CAC/D,CACF,CACF","names":["defaultOptions","createListener","event","options","opts","callback","onEvent","resultObject","onEventCallback","state","OnListener","fnExp","proto","methodName","componentWillLoad","componentWillRender","disconnectedCallback","_a","getElement","listener","host","method"],"x_google_ignoreList":[0]}