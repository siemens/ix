{"version":3,"sources":["node_modules/@siemens/ix/dist/esm/modal-DCXtePY2.js"],"sourcesContent":["import { b as iconInfo, a as iconWarning, i as iconError, c as iconSuccess, O as iconQuestion } from './index-8HpPmDK_.js';\nimport { T as TypedEvent } from './typed-event-BdCnOrqW.js';\n\n/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nclass DefaultFrameworkDelegate {\n  async attachView(view, config) {\n    var _a;\n    const attachToElement = (_a = config === null || config === void 0 ? void 0 : config.parentElement) !== null && _a !== void 0 ? _a : document.body;\n    attachToElement.appendChild(view);\n    return view;\n  }\n  async removeView(view) {\n    view.remove();\n  }\n}\nconst coreDelegate = new DefaultFrameworkDelegate();\nlet currentDelegate = coreDelegate;\nfunction registerFrameworkDelegate(delegate) {\n  currentDelegate = delegate;\n}\nconst resolveDelegate = () => {\n  return currentDelegate;\n};\nconst getCoreDelegate = () => coreDelegate;\n\n/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nfunction setA11yAttributes$1(element, config) {\n  const ariaDescribedby = config.ariaDescribedby;\n  const ariaLabelledby = config.ariaLabelledby;\n  delete config['ariaDescribedby'];\n  delete config['ariaLabelledby'];\n  if (ariaDescribedby) {\n    element.setAttribute('aria-describedby', ariaDescribedby);\n  }\n  if (ariaLabelledby) {\n    element.setAttribute('aria-labelledby', ariaLabelledby);\n  }\n}\nfunction createConfirmButtons(textOkay, textCancel, payloadOkay, payloadCancel) {\n  let actions = [];\n  if (textCancel !== undefined) {\n    actions = [...actions, {\n      id: 'cancel',\n      text: textCancel,\n      type: 'cancel',\n      payload: payloadCancel\n    }];\n  }\n  return [...actions, {\n    id: 'okay',\n    text: textOkay,\n    type: 'okay',\n    payload: payloadOkay\n  }];\n}\n/**\n * Displays a message modal with configurable actions and returns an event emitter for action responses\n */\nasync function showMessage(config) {\n  const onMessageAction = new TypedEvent();\n  const dialog = document.createElement('ix-modal');\n  const header = document.createElement('ix-modal-header');\n  const content = document.createElement('ix-modal-content');\n  const footer = document.createElement('ix-modal-footer');\n  setA11yAttributes$1(dialog, config);\n  Object.assign(header, config);\n  Object.assign(content, config);\n  Object.assign(footer, config);\n  header.innerText = config.messageTitle;\n  content.innerText = config.message;\n  config.actions.forEach(({\n    id,\n    text,\n    type,\n    payload\n  }) => {\n    const button = document.createElement('ix-button');\n    button.innerText = text;\n    footer.appendChild(button);\n    if (type === 'okay') {\n      button.variant = 'primary';\n      button.addEventListener('click', () => dialog.closeModal({\n        actionId: id,\n        payload\n      }));\n      return;\n    } else if (type === 'cancel') {\n      button.variant = 'secondary';\n      button.addEventListener('click', () => dialog.dismissModal({\n        actionId: id,\n        payload\n      }));\n      return;\n    }\n  });\n  dialog.appendChild(header);\n  dialog.appendChild(content);\n  dialog.appendChild(footer);\n  const dialogRef = await getCoreDelegate().attachView(dialog);\n  dialogRef.addEventListener('dialogClose', event => {\n    onMessageAction.emit(event.detail);\n    dialogRef.remove();\n  });\n  dialogRef.addEventListener('dialogDismiss', event => {\n    onMessageAction.emit(event.detail);\n    dialogRef.remove();\n  });\n  setA11yAttributes$1(dialogRef, config);\n  Object.assign(dialogRef, config);\n  dialogRef.showModal();\n  return onMessageAction;\n}\n/**\n * Displays an info message modal with an info icon\n */\nshowMessage.info = (title, message, textOkay, textCancel, payloadOkay, payloadCancel) => {\n  return showMessage({\n    message,\n    messageTitle: title,\n    icon: iconInfo,\n    actions: createConfirmButtons(textOkay, textCancel, payloadOkay, payloadCancel)\n  });\n};\n/**\n * Displays a warning message modal with a warning icon\n */\nshowMessage.warning = (title, message, textOkay, textCancel, payloadOkay, payloadCancel) => {\n  return showMessage({\n    message,\n    messageTitle: title,\n    icon: iconWarning,\n    //TODO(IX-3400): Remove warning-text when proper CSS variable is available\n    iconColor: 'color-warning-text',\n    actions: createConfirmButtons(textOkay, textCancel, payloadOkay, payloadCancel)\n  });\n};\n/**\n * Displays an error message modal with an error icon\n */\nshowMessage.error = (title, message, textOkay, textCancel, payloadOkay, payloadCancel) => {\n  return showMessage({\n    message,\n    messageTitle: title,\n    icon: iconError,\n    iconColor: 'color-alarm',\n    actions: createConfirmButtons(textOkay, textCancel, payloadOkay, payloadCancel)\n  });\n};\n/**\n * Displays a success message modal with a success icon\n */\nshowMessage.success = (title, message, textOkay, textCancel, payloadOkay, payloadCancel) => {\n  return showMessage({\n    message,\n    messageTitle: title,\n    icon: iconSuccess,\n    iconColor: 'color-success',\n    actions: createConfirmButtons(textOkay, textCancel, payloadOkay, payloadCancel)\n  });\n};\n/**\n * Displays a question message modal with a question icon\n */\nshowMessage.question = (title, message, textOkay, textCancel, payloadOkay, payloadCancel) => {\n  return showMessage({\n    message,\n    messageTitle: title,\n    icon: iconQuestion,\n    actions: createConfirmButtons(textOkay, textCancel, payloadOkay, payloadCancel)\n  });\n};\n\n/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/**\n * Set accessibility attributes on modal element\n */\nfunction setA11yAttributes(element, config) {\n  const ariaDescribedby = config.ariaDescribedby;\n  const ariaLabelledby = config.ariaLabelledby;\n  delete config['ariaDescribedby'];\n  delete config['ariaLabelledby'];\n  if (ariaDescribedby) {\n    element.setAttribute('aria-describedby', ariaDescribedby);\n  }\n  if (ariaLabelledby) {\n    element.setAttribute('aria-labelledby', ariaLabelledby);\n  }\n}\nfunction getIxModal(element) {\n  return element.closest('ix-modal');\n}\n/**\n * Close closest ix-modal relative to a provided element\n */\nfunction closeModal(element, closeResult) {\n  const dialog = getIxModal(element);\n  if (dialog) {\n    dialog.closeModal(closeResult);\n    return;\n  }\n}\n/**\n * Dismiss closest ix-modal relative to a provided element\n */\nfunction dismissModal(element, dismissResult) {\n  const dialog = getIxModal(element);\n  if (dialog) {\n    dialog.dismissModal(dismissResult);\n    return;\n  }\n}\n/**\n * Show modal with given configuration\n */\nasync function showModal(config) {\n  const delegate = resolveDelegate();\n  let dialogRef;\n  const onClose = new TypedEvent();\n  const onDismiss = new TypedEvent();\n  if (typeof config.content === 'string') {\n    const dialog = document.createElement('ix-modal');\n    dialog.innerText = config.content;\n    dialogRef = await getCoreDelegate().attachView(dialog);\n  }\n  if (config.content instanceof HTMLElement && config.content.tagName !== 'IX-MODAL') {\n    const dialog = document.createElement('ix-modal');\n    dialog.appendChild(config.content);\n    dialogRef = await getCoreDelegate().attachView(dialog);\n  }\n  if (!dialogRef) {\n    dialogRef = await delegate.attachView(config.content);\n  }\n  setA11yAttributes(dialogRef, config);\n  Object.assign(dialogRef, config);\n  await dialogRef.showModal();\n  dialogRef.addEventListener('dialogClose', async ({\n    detail\n  }) => {\n    onClose.emit(detail);\n    await delegate.removeView(dialogRef);\n  });\n  dialogRef.addEventListener('dialogDismiss', async ({\n    detail\n  }) => {\n    onDismiss.emit(detail);\n    await delegate.removeView(dialogRef);\n  });\n  requestAnimationFrame(() => {\n    const autofocusElement = dialogRef.querySelector('[autofocus],[auto-focus]');\n    if (autofocusElement) {\n      autofocusElement.focus();\n    }\n  });\n  return {\n    htmlElement: dialogRef,\n    onClose,\n    onDismiss\n  };\n}\nexport { resolveDelegate as a, showMessage as b, closeModal as c, dismissModal as d, getCoreDelegate as g, registerFrameworkDelegate as r, showModal as s };\n\n\n"],"mappings":"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","names":["DefaultFrameworkDelegate","view","config","__async","_a","coreDelegate","currentDelegate","resolveDelegate","currentDelegate","getCoreDelegate","coreDelegate","setA11yAttributes$1","element","config","ariaDescribedby","ariaLabelledby","createConfirmButtons","textOkay","textCancel","payloadOkay","payloadCancel","actions","showMessage","__async","onMessageAction","TypedEvent","dialog","header","content","footer","id","text","type","payload","button","dialogRef","event","title","message","iconInfo","iconWarning","iconError","iconSuccess","iconQuestion","setA11yAttributes","getIxModal","closeModal","closeResult","dismissModal","dismissResult","showModal","delegate","onClose","onDismiss","_0","detail","autofocusElement"],"x_google_ignoreList":[0]}