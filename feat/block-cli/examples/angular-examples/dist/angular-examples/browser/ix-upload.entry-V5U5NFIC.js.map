{"version":3,"sources":["node_modules/@siemens/ix/dist/esm/ix-upload.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-CtoreFVF.js';\nimport { U as UploadFileState } from './upload-file-state-BGzrnl_l.js';\nimport { c as iconSuccess, i as iconError } from './index-8HpPmDK_.js';\nimport { b as a11yHostAttributes } from './a11y-DAzBNVe7.js';\nconst uploadCss = \":host{display:block;min-height:4rem;height:4rem}:host *,:host *::after,:host *::before{box-sizing:border-box}:host ::-webkit-scrollbar-button{display:none}@-moz-document url-prefix(){:host *{scrollbar-color:var(--theme-scrollbar-thumb--background) var(--theme-scrollbar-track--background);scrollbar-width:thin}}:host{}:host ::-webkit-scrollbar{width:0.5rem;height:0.5rem}:host{}:host ::-webkit-scrollbar-track{border-radius:5px;background:var(--theme-scrollbar-track--background)}:host ::-webkit-scrollbar-track:hover{background:var(--theme-scrollbar-track--background--hover)}:host{}:host ::-webkit-scrollbar-thumb{border-radius:5px;background:var(--theme-scrollbar-thumb--background)}:host{}:host ::-webkit-scrollbar-thumb:hover{background:var(--theme-scrollbar-thumb--background--hover)}:host ::-webkit-scrollbar-corner{display:none}:host .file-upload-area{display:flex;flex-direction:row;align-items:center;justify-content:space-between;overflow:hidden;height:100%;width:100%;padding:1rem;border:1px dashed var(--theme-upload--border-color);border-radius:var(--theme-upload--border-radius);color:var(--theme-upload-text--color)}:host .file-upload-area.multiline{max-height:unset;height:auto}:host .file-upload-area.multiline .glyph{align-self:flex-start;margin-block-start:3px}:host .file-upload-area.multiline>div{align-self:flex-start}:host .file-upload-area:not(.multiline) .state,:host .file-upload-area:not(.multiline) .upload-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host .file-upload-area:not(.disabled).file-over{border-color:var(--theme-upload--border-color--dragover);border-style:solid}:host .file-upload-area.checking{color:var(--theme-upload-text--color--checking);border-style:solid}:host .file-upload-area.disabled{border-style:solid;color:var(--theme-upload-text--color--disabled)}:host .file-upload-area ix-button{margin-inline-start:1rem}:host .file-upload-area .upload-browser{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}:host .file-upload-area .loader{margin:2.187rem auto;font-size:0.937rem;width:1rem;height:1rem;border-radius:50%;position:relative;text-indent:-9999em;animation:optimise-loading 1.1s infinite ease;transform:translateZ(0)}:host .file-upload-area .upload-filename{margin-bottom:1rem}:host .file-upload-area .state{display:flex;align-items:center}:host .file-upload-area .state>ix-spinner{margin-inline-end:0.5rem}:host .file-upload-area .state>ix-icon{margin-inline-end:0.5rem}:host .file-upload-area .state>ix-icon.icon-error{color:var(--theme-color-alarm)}:host .file-upload-area .state>ix-icon.icon-success{color:var(--theme-color-success)}:host(.disabled){pointer-events:none}\";\n\n/*\n * SPDX-FileCopyrightText: 2024 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar __rest = undefined && undefined.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nconst Upload = /*#__PURE__*/(() => {\n  let Upload = class {\n    get inputElement() {\n      return this.hostElement.shadowRoot.querySelector('#upload-browser');\n    }\n    constructor(hostRef) {\n      registerInstance(this, hostRef);\n      this.filesChanged = createEvent(this, \"filesChanged\", 7);\n      /**\n       * If multiple is true the user can drop or select multiple files\n       */\n      this.multiple = false;\n      /**\n       * Whether the text should wrap to more than one line\n       */\n      this.multiline = false;\n      /**\n       * Disable all input events\n       */\n      this.disabled = false;\n      /**\n       * After a file is uploaded you can set the upload component to a defined state\n       */\n      this.state = UploadFileState.SELECT_FILE;\n      /**\n       * Will be used by state = UploadFileState.SELECT_FILE\n       */\n      this.selectFileText = '+ Drag files here or…';\n      /**\n       * Will be used by state = UploadFileState.LOADING\n       */\n      this.loadingText = 'Checking files…';\n      /**\n       * Will be used by state = UploadFileState.UPLOAD_FAILED\n       */\n      this.uploadFailedText = 'Upload failed. Please try again.';\n      /**\n       * Will be used by state = UploadFileState.UPLOAD_SUCCESSED\n       */\n      this.uploadSuccessText = 'Upload successful';\n      /**\n       * Label for upload file button\n       */\n      this.i18nUploadFile = 'Upload file…';\n      /**\n       * Text for disabled state\n       */\n      this.i18nUploadDisabled = 'File upload currently not possible.';\n      this.isFileOver = false;\n      this.a11y = {};\n    }\n    componentWillLoad() {\n      this.a11y = a11yHostAttributes(this.hostElement);\n    }\n    fileDropped(evt) {\n      evt.preventDefault();\n      if (this.disabled) {\n        return;\n      }\n      if (!evt.dataTransfer) {\n        return;\n      }\n      const file = evt.dataTransfer.files;\n      this.isFileOver = false;\n      this.filesToUpload = this.convertToFileArray(file);\n      this.filesChanged.emit(this.filesToUpload);\n    }\n    fileOver(event) {\n      if (!event.dataTransfer) {\n        return;\n      }\n      if (this.state !== UploadFileState.LOADING) {\n        event.preventDefault();\n        event.dataTransfer.dropEffect = 'move';\n      }\n      if (!this.multiple && event.dataTransfer.items.length > 1) {\n        event.preventDefault();\n        event.stopPropagation();\n        event.dataTransfer.effectAllowed = 'none';\n        event.dataTransfer.dropEffect = 'none';\n      } else {\n        this.isFileOver = true;\n      }\n    }\n    fileLeave() {\n      this.isFileOver = false;\n    }\n    fileChangeEvent(event) {\n      if (this.disabled) {\n        return;\n      }\n      if (!event.target) {\n        return;\n      }\n      this.filesToUpload = this.convertToFileArray(event.target.files);\n      this.filesChanged.emit(this.filesToUpload);\n      // Workaround for bug in native input element, that prevents the user from uploading\n      // a file with the same name as the most recent one, but with changed content.\n      this.inputElement.type = '';\n      this.inputElement.type = 'file';\n    }\n    convertToFileArray(filesFromEvent) {\n      let files = [];\n      if (!filesFromEvent) {\n        return [];\n      }\n      if (filesFromEvent instanceof FileList) {\n        files = Array.from(filesFromEvent);\n      } else {\n        files = [filesFromEvent];\n      }\n      return files;\n    }\n    renderUploadState() {\n      if (this.disabled) {\n        return h(\"span\", {\n          class: \"state\"\n        }, h(\"span\", {\n          class: \"upload-text\"\n        }, this.i18nUploadDisabled));\n      }\n      switch (this.state) {\n        case UploadFileState.SELECT_FILE:\n          return h(\"span\", {\n            class: \"state\"\n          }, h(\"span\", {\n            class: \"upload-text\"\n          }, this.selectFileText));\n        case UploadFileState.LOADING:\n          return h(\"span\", {\n            class: \"state\"\n          }, h(\"ix-spinner\", {\n            variant: \"primary\"\n          }), h(\"span\", {\n            class: \"upload-text\"\n          }, this.loadingText));\n        case UploadFileState.UPLOAD_FAILED:\n          return h(\"span\", {\n            class: \"state\"\n          }, h(\"ix-icon\", {\n            name: iconError,\n            class: \"icon-error\"\n          }), h(\"span\", {\n            class: \"upload-text\"\n          }, this.uploadFailedText));\n        case UploadFileState.UPLOAD_SUCCESSED:\n          return h(\"span\", {\n            class: \"state\"\n          }, h(\"ix-icon\", {\n            name: iconSuccess,\n            class: \"icon-success\"\n          }), h(\"span\", {\n            class: \"upload-text\"\n          }, this.uploadSuccessText));\n        default:\n          return '';\n      }\n    }\n    /**\n     * Set files\n     * @param obj\n     */\n    async setFilesToUpload(obj) {\n      this.filesToUpload = obj;\n    }\n    render() {\n      const disabled = this.disabled || this.state === UploadFileState.LOADING;\n      const _a = this.a11y,\n        {\n          'aria-label': ariaLabel = 'Upload files'\n        } = _a,\n        a11y = __rest(_a, ['aria-label']);\n      return h(Host, Object.assign({\n        key: '86f46021d8411ed37c036ac8844709bf4f18a8e1'\n      }, a11y, {\n        \"aria-disabled\": disabled\n      }), h(\"div\", {\n        key: '4e812c550b74d3ff2efee94408391ab34f2e958a',\n        class: {\n          'file-upload-area': true,\n          'file-over': this.state !== UploadFileState.LOADING && this.isFileOver,\n          checking: this.state === UploadFileState.LOADING,\n          disabled: this.disabled,\n          multiline: this.multiline\n        },\n        onDrop: e => {\n          if (this.state !== UploadFileState.LOADING) {\n            this.fileDropped(e);\n          }\n        },\n        onDragOver: e => this.fileOver(e),\n        onDragLeave: () => this.fileLeave(),\n        draggable: !this.disabled\n      }, this.renderUploadState(), h(\"div\", {\n        key: '043f4ce74e0da5da6ff7146ea959f5e4abbbaf42'\n      }, h(\"input\", {\n        key: '7781d5dfb001d09f876886c62670ad851684f8e4',\n        \"aria-label\": ariaLabel,\n        \"aria-disabled\": disabled,\n        multiple: this.multiple,\n        type: \"file\",\n        class: \"upload-browser\",\n        id: \"upload-browser\",\n        tabindex: \"-1\",\n        onChange: e => {\n          this.fileChangeEvent(e);\n        },\n        accept: this.accept,\n        disabled: disabled\n      }), h(\"ix-button\", {\n        key: 'b2b896877fae3370cae656923413947618fbb037',\n        variant: \"secondary\",\n        \"aria-disabled\": disabled,\n        onClick: () => this.inputElement.click(),\n        disabled: disabled\n      }, this.i18nUploadFile))));\n    }\n    get hostElement() {\n      return getElement(this);\n    }\n  };\n  Upload.style = uploadCss;\n  return Upload;\n})();\nexport { Upload as ix_upload };\n"],"mappings":"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","names":["uploadCss","__rest","t","p","i","Upload","hostRef","registerInstance","createEvent","UploadFileState","a11yHostAttributes","evt","file","event","filesFromEvent","files","h","iconError","iconSuccess","obj","__async","disabled","_a","ariaLabel","a11y","Host","e","getElement"],"x_google_ignoreList":[0]}