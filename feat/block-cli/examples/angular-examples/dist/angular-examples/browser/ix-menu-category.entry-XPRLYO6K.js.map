{"version":3,"sources":["node_modules/@siemens/ix/dist/esm/ix-menu-category.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-CtoreFVF.js';\nimport { g as iconChevronDownSmall } from './index-8HpPmDK_.js';\nimport { a as animate } from './anime.esm-DhE1t8Qh.js';\nimport { c as closestIxMenu } from './context-BniHpAE1.js';\nimport { c as createMutationObserver } from './mutation-observer-CX81WQtk.js';\nimport './typed-event-BdCnOrqW.js';\n\n/*\n * SPDX-FileCopyrightText: 2024 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nfunction createEnterLeaveDebounce(enterCallback, leaveCallback, {\n  debounceTimeEnter,\n  debounceTimeLeave\n} = {\n  debounceTimeEnter: 0,\n  debounceTimeLeave: 500\n}) {\n  let enterTimeout;\n  let leaveTimeout;\n  return {\n    onEnter: () => {\n      clearTimeout(leaveTimeout);\n      enterTimeout = setTimeout(() => {\n        enterCallback();\n      }, debounceTimeEnter);\n    },\n    onLeave: () => {\n      clearTimeout(enterTimeout);\n      leaveTimeout = setTimeout(() => {\n        leaveCallback();\n      }, debounceTimeLeave);\n    }\n  };\n}\nconst menuCategoryCss = \":host{display:flex;flex-direction:column;position:relative}:host *,:host *::after,:host *::before{box-sizing:border-box}:host ::-webkit-scrollbar-button{display:none}@-moz-document url-prefix(){:host *{scrollbar-color:var(--theme-scrollbar-thumb--background) var(--theme-scrollbar-track--background);scrollbar-width:thin}}:host{}:host ::-webkit-scrollbar{width:0.5rem;height:0.5rem}:host{}:host ::-webkit-scrollbar-track{border-radius:5px;background:var(--theme-scrollbar-track--background)}:host ::-webkit-scrollbar-track:hover{background:var(--theme-scrollbar-track--background--hover)}:host{}:host ::-webkit-scrollbar-thumb{border-radius:5px;background:var(--theme-scrollbar-thumb--background)}:host{}:host ::-webkit-scrollbar-thumb:hover{background:var(--theme-scrollbar-thumb--background--hover)}:host ::-webkit-scrollbar-corner{display:none}:host .category{display:flex;position:relative;align-items:center;width:100%;height:100%}:host .category-text{width:100%;padding-right:0.25rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host .category-chevron{margin-left:auto;margin-right:0;transition:var(--theme-default-time) transform ease-in-out}:host .category-chevron--open{transform:rotate(-180deg)}:host .menu-items{overflow:hidden;max-height:0;transition:var(--theme-default-time) max-height ease-in-out}:host .menu-items--expanded{max-height:999999999px;padding:0.25rem 0 0.25rem 1.625rem}:host .menu-items--collapsed{display:none}:host .category-dropdown ::slotted(ix-menu-item){--ix-menu-item-height:2.5rem}:host .category-dropdown-header{pointer-events:none;padding-left:0.125rem;min-width:256px}:host ::slotted(ix-menu-item){--ix-menu-item-height:2.5rem}:host(.expanded){background-color:var(--theme-color-ghost--active)}:host ::slotted(a[href]){text-decoration:none !important}\";\nconst DefaultIxMenuItemHeight = 40;\nconst DefaultAnimationTimeout = 150;\nconst MenuCategory = /*#__PURE__*/(() => {\n  let MenuCategory = class {\n    constructor(hostRef) {\n      registerInstance(this, hostRef);\n      this.closeOtherCategories = createEvent(this, \"closeOtherCategories\", 7);\n      this.menuExpand = false;\n      this.showItems = false;\n      this.showDropdown = false;\n      this.nestedItems = [];\n      this.enterLeaveDebounce = createEnterLeaveDebounce(() => {\n        this.onPointerEnter();\n      }, () => {\n        this.onPointerLeave();\n      });\n    }\n    isNestedItemActive() {\n      return this.getNestedItems().some(item => item.active);\n    }\n    getNestedItems() {\n      return Array.from(this.hostElement.querySelectorAll(':scope ix-menu-item'));\n    }\n    getNestedItemsHeight() {\n      const items = this.getNestedItems();\n      return items.length * DefaultIxMenuItemHeight;\n    }\n    onExpandCategory(showItems) {\n      if (showItems) {\n        this.animateFadeIn();\n      } else {\n        this.animateFadeOut();\n      }\n    }\n    animateFadeOut() {\n      const slotHideThresholdMs = 25;\n      animate(this.menuItemsContainer, {\n        duration: DefaultAnimationTimeout,\n        easing: 'easeInSine',\n        opacity: [1, 0],\n        maxHeight: [this.getNestedItemsHeight() + DefaultIxMenuItemHeight, 0],\n        onComplete: () => {\n          setTimeout(() => {\n            this.showItems = false;\n            this.showDropdown = false;\n          }, DefaultAnimationTimeout + slotHideThresholdMs);\n        }\n      });\n    }\n    animateFadeIn() {\n      animate(this.menuItemsContainer, {\n        duration: DefaultAnimationTimeout,\n        easing: 'easeInSine',\n        opacity: [0, 1],\n        maxHeight: [0, this.getNestedItemsHeight() + DefaultIxMenuItemHeight],\n        onBegin: () => {\n          this.showItems = true;\n          this.showDropdown = false;\n        }\n      });\n    }\n    onPointerEnter() {\n      var _a;\n      if ((_a = this.ixMenu) === null || _a === void 0 ? void 0 : _a.expand) {\n        return;\n      }\n      this.closeOtherCategories.emit();\n      this.showDropdown = true;\n    }\n    onPointerLeave() {\n      this.showDropdown = false;\n    }\n    onCategoryClick(e) {\n      var _a;\n      e.stopPropagation();\n      if ((_a = this.ixMenu) === null || _a === void 0 ? void 0 : _a.expand) {\n        this.onExpandCategory(!this.showItems);\n        return;\n      }\n    }\n    onNestedItemsChanged(mutations) {\n      const oldNestedItemsLength = this.nestedItems.length;\n      this.nestedItems = this.getNestedItems();\n      if (this.showItems && this.menuItemsContainer && oldNestedItemsLength !== this.nestedItems.length) {\n        this.menuItemsContainer.style.maxHeight = `${this.getNestedItemsHeight() + DefaultIxMenuItemHeight}px`;\n      }\n      if (!this.menuExpand || this.showItems || !mutations) {\n        return;\n      }\n      for (const mutation of mutations !== null && mutations !== void 0 ? mutations : []) {\n        if (mutation.attributeName === 'class' && mutation.target instanceof HTMLElement && mutation.target.classList.contains('active')) {\n          this.showItems = true;\n          this.onExpandCategory(true);\n          return;\n        }\n      }\n    }\n    isCategoryItemListVisible() {\n      return this.menuExpand && (this.showItems || this.isNestedItemActive());\n    }\n    componentWillLoad() {\n      const closestMenu = closestIxMenu(this.hostElement);\n      if (!closestMenu) {\n        throw Error('ix-menu-category can only be used as a child of ix-menu');\n      }\n      this.ixMenu = closestMenu;\n      this.menuExpand = this.ixMenu.expand;\n      this.showItems = this.isCategoryItemListVisible();\n    }\n    componentDidLoad() {\n      var _a;\n      this.observer = createMutationObserver(mutations => this.onNestedItemsChanged(mutations));\n      this.observer.observe(this.hostElement, {\n        attributes: true,\n        childList: true,\n        subtree: true\n      });\n      requestAnimationFrame(() => {\n        this.onNestedItemsChanged();\n      });\n      (_a = this.ixMenu) === null || _a === void 0 ? void 0 : _a.addEventListener('expandChange', ({\n        detail: menuExpand\n      }) => {\n        this.menuExpand = menuExpand;\n        if (!menuExpand) {\n          this.clearMenuItemStyles();\n        }\n        this.showItems = this.isCategoryItemListVisible();\n      });\n    }\n    clearMenuItemStyles() {\n      var _a, _b;\n      (_a = this.menuItemsContainer) === null || _a === void 0 ? void 0 : _a.style.removeProperty('max-height');\n      (_b = this.menuItemsContainer) === null || _b === void 0 ? void 0 : _b.style.removeProperty('opacity');\n    }\n    disconnectedCallback() {\n      if (this.observer) {\n        this.observer.disconnect();\n      }\n    }\n    render() {\n      return h(Host, {\n        key: '30ec9cf2a76527a0f7d18b536ab5f45592dfc3b4',\n        class: {\n          expanded: this.showItems\n        },\n        onPointerEnter: () => {\n          this.enterLeaveDebounce.onEnter();\n        },\n        onPointerLeave: event => {\n          if (event.pointerType === 'touch') {\n            return;\n          }\n          this.enterLeaveDebounce.onLeave();\n        }\n      }, h(\"ix-menu-item\", {\n        key: 'b3fbd62c77f657ee630dcc9c2395a6cf4bdd62cd',\n        class: 'category-parent',\n        active: this.isNestedItemActive(),\n        notifications: this.notifications,\n        icon: this.icon,\n        onClick: e => this.onCategoryClick(e),\n        onFocus: () => this.onPointerEnter(),\n        tooltipText: this.tooltipText,\n        isCategory: true\n      }, h(\"div\", {\n        key: '2abf3d67117d8aa0ecf01d2d93a6b86d256c2cf1',\n        class: \"category\"\n      }, h(\"div\", {\n        key: '8aecead13281c8957cab19a37323f3a1ecee0414',\n        class: \"category-text\"\n      }, this.label), h(\"ix-icon\", {\n        key: 'a1bebd25a7025fda7588779e806c85c95df9cd5c',\n        name: iconChevronDownSmall,\n        class: {\n          'category-chevron': true,\n          'category-chevron--open': this.showItems\n        },\n        \"aria-hidden\": \"true\"\n      }))), h(\"div\", {\n        key: 'b30c115f69bbcd60a94647cd5bd86a9369ef9ab6',\n        ref: ref => this.menuItemsContainer = ref,\n        class: {\n          'menu-items': true,\n          'menu-items--expanded': this.showItems,\n          'menu-items--collapsed': !this.showItems\n        }\n      }, this.showItems ? h(\"slot\", null) : null), h(\"ix-dropdown\", {\n        key: 'acbb4ae8d18d168e8636d1e883a032e2784a0400',\n        closeBehavior: 'both',\n        show: this.showDropdown,\n        onShowChanged: ({\n          detail: dropdownShown\n        }) => {\n          this.showDropdown = dropdownShown;\n        },\n        class: 'category-dropdown',\n        anchor: this.hostElement,\n        placement: \"right-start\",\n        offset: {\n          mainAxis: 3\n        },\n        onClick: e => {\n          if (e.target instanceof HTMLElement) {\n            if (e.target.tagName === 'IX-MENU-ITEM') {\n              this.showDropdown = false;\n            } else {\n              e.preventDefault();\n            }\n          }\n        }\n      }, h(\"ix-dropdown-item\", {\n        key: 'a6ab922e042e650574e469115d94862f9ee8dd23',\n        class: 'category-dropdown-header'\n      }, h(\"ix-typography\", {\n        key: '9d72d42fcf00e59d9ddf46606a3567b01ff2c113',\n        format: \"label\",\n        bold: true,\n        textColor: \"std\"\n      }, this.label)), h(\"ix-divider\", {\n        key: 'f23c209c092abf051e337cb2cf5099f4aa139e46'\n      }), h(\"slot\", {\n        key: 'e8cb095f52dbcac00c8deeb40377180802521ec3'\n      })));\n    }\n    get hostElement() {\n      return getElement(this);\n    }\n  };\n  MenuCategory.style = menuCategoryCss;\n  return MenuCategory;\n})();\nexport { MenuCategory as ix_menu_category };\n"],"mappings":"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","names":["createEnterLeaveDebounce","enterCallback","leaveCallback","debounceTimeEnter","debounceTimeLeave","enterTimeout","leaveTimeout","menuCategoryCss","DefaultIxMenuItemHeight","DefaultAnimationTimeout","MenuCategory","hostRef","registerInstance","createEvent","item","showItems","animate","_a","mutations","oldNestedItemsLength","mutation","closestMenu","closestIxMenu","createMutationObserver","menuExpand","_b","h","Host","event","iconChevronDownSmall","ref","dropdownShown","getElement"],"x_google_ignoreList":[0]}