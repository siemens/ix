{"version":3,"sources":["node_modules/@siemens/ix/dist/esm/context-BniHpAE1.js"],"sourcesContent":["import { T as TypedEvent } from './typed-event-BdCnOrqW.js';\n\n/*\n * SPDX-FileCopyrightText: 2024 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/**\n * A function which creates a Context value object\n */\nfunction createContext(name, initialValue) {\n  return {\n    name,\n    initialValue\n  };\n}\n/**\n * An event fired by a context requester to signal it desires a named context.\n *\n * A provider should inspect the `context` property of the event to determine if it has a value that can\n * satisfy the request, calling the `callback` with the requested value if so.\n *\n * If the requested context event contains a truthy `subscribe` value, then a provider can call the callback\n * multiple times if the value is changed, if this is the case the provider should pass an `unsubscribe`\n * function to the callback which requesters can invoke to indicate they no longer wish to receive these updates.\n */\nclass ContextEvent extends Event {\n  constructor(context, callback, subscribe) {\n    super('context-request', {\n      bubbles: true,\n      composed: true\n    });\n    this.context = context;\n    this.callback = callback;\n    this.subscribe = subscribe;\n  }\n}\nfunction useContextConsumer(hostElement, context, onContextReceived, subscribe) {\n  let _unsubscribe;\n  hostElement.dispatchEvent(new ContextEvent(context, (ctx, unSub) => {\n    onContextReceived(ctx, unSub);\n    _unsubscribe = unSub;\n  }, subscribe));\n  return {\n    unsubscribe: () => {\n      if (_unsubscribe) {\n        _unsubscribe();\n      }\n    }\n  };\n}\nfunction useContextProvider(hostElement, context, contextPayload) {\n  const requestContext = new TypedEvent();\n  const updateContext = new TypedEvent();\n  const requests = new Set();\n  hostElement.addEventListener('context-request', event => {\n    const requestContextEvent = event;\n    if ((requestContextEvent === null || requestContextEvent === void 0 ? void 0 : requestContextEvent.context.name) !== context.name) {\n      return;\n    }\n    requestContextEvent.stopPropagation();\n    if (requestContextEvent.subscribe) {\n      requests.add(requestContextEvent);\n    }\n    requestContext.emit(requestContextEvent);\n    if (contextPayload) {\n      requestContextEvent.callback(contextPayload, () => {\n        requests.delete(requestContextEvent);\n      });\n    }\n  });\n  updateContext.on(context => {\n    requests.forEach(r => r.callback(context, () => {\n      requests.delete(r);\n    }));\n  });\n  return {\n    emit: context => {\n      updateContext.emit(context);\n    }\n  };\n}\n\n/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nconst closestIxMenu = element => {\n  const menuElement = element.closest('ix-menu');\n  return menuElement;\n};\nconst ApplicationLayoutContext = createContext('application-layout-context', {\n  hideHeader: false,\n  sidebar: false\n});\nexport { ApplicationLayoutContext as A, useContextConsumer as a, closestIxMenu as c, useContextProvider as u };\n\n\n"],"mappings":"wCAaA,SAASA,EAAcC,EAAMC,EAAc,CACzC,MAAO,CACL,KAAAD,EACA,aAAAC,CACF,CACF,CAWA,IAAMC,EAAN,cAA2B,KAAM,CAC/B,YAAYC,EAASC,EAAUC,EAAW,CACxC,MAAM,kBAAmB,CACvB,QAAS,GACT,SAAU,EACZ,CAAC,EACD,KAAK,QAAUF,EACf,KAAK,SAAWC,EAChB,KAAK,UAAYC,CACnB,CACF,EACA,SAASC,EAAmBC,EAAaJ,EAASK,EAAmBH,EAAW,CAC9E,IAAII,EACJ,OAAAF,EAAY,cAAc,IAAIL,EAAaC,EAAS,CAACO,EAAKC,IAAU,CAClEH,EAAkBE,EAAKC,CAAK,EAC5BF,EAAeE,CACjB,EAAGN,CAAS,CAAC,EACN,CACL,YAAa,IAAM,CACbI,GACFA,EAAa,CAEjB,CACF,CACF,CACA,SAASG,EAAmBL,EAAaJ,EAASU,EAAgB,CAChE,IAAMC,EAAiB,IAAIC,EACrBC,EAAgB,IAAID,EACpBE,EAAW,IAAI,IACrB,OAAAV,EAAY,iBAAiB,kBAAmBW,GAAS,CACvD,IAAMC,EAAsBD,EACmDC,GAAoB,QAAQ,OAAUhB,EAAQ,OAG7HgB,EAAoB,gBAAgB,EAChCA,EAAoB,WACtBF,EAAS,IAAIE,CAAmB,EAElCL,EAAe,KAAKK,CAAmB,EACnCN,GACFM,EAAoB,SAASN,EAAgB,IAAM,CACjDI,EAAS,OAAOE,CAAmB,CACrC,CAAC,EAEL,CAAC,EACDH,EAAc,GAAGb,GAAW,CAC1Bc,EAAS,QAAQG,GAAKA,EAAE,SAASjB,EAAS,IAAM,CAC9Cc,EAAS,OAAOG,CAAC,CACnB,CAAC,CAAC,CACJ,CAAC,EACM,CACL,KAAMjB,GAAW,CACfa,EAAc,KAAKb,CAAO,CAC5B,CACF,CACF,CAUA,IAAMkB,EAAgBC,GACAA,EAAQ,QAAQ,SAAS,EAGzCC,EAA2BxB,EAAc,6BAA8B,CAC3E,WAAY,GACZ,QAAS,EACX,CAAC","names":["createContext","name","initialValue","ContextEvent","context","callback","subscribe","useContextConsumer","hostElement","onContextReceived","_unsubscribe","ctx","unSub","useContextProvider","contextPayload","requestContext","TypedEvent","updateContext","requests","event","requestContextEvent","r","closestIxMenu","element","ApplicationLayoutContext"],"x_google_ignoreList":[0]}