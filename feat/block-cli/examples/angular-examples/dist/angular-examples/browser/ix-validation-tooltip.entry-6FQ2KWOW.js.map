{"version":3,"sources":["node_modules/@siemens/ix/dist/esm/ix-validation-tooltip.entry.js"],"sourcesContent":["import { r as registerInstance, h, H as Host, g as getElement } from './index-CtoreFVF.js';\nimport { i as inline, s as shift, o as offset, f as flip, a as autoUpdate, b as arrow, c as computePosition } from './floating-ui.dom-CAqtPJ4-.js';\nconst validationTooltipCss = \".text-xs{font-family:Siemens Sans, sans-serif;font-size:0.625rem;font-weight:400;line-height:1.4em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-s{font-family:Siemens Sans, sans-serif;font-size:0.75rem;font-weight:400;line-height:1.5em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-caption{font-family:Siemens Sans, sans-serif;font-size:0.75rem;font-weight:700;line-height:1.5em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-caption-single{font-family:Siemens Sans, sans-serif;font-size:0.75rem;font-weight:700;line-height:1em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-default{font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:400;line-height:1.429em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-default-single{font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:400;line-height:1.143em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-default-title{font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:700;line-height:1.429em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-default-title-single{font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:700;line-height:1.143em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-l{font-family:Siemens Sans, sans-serif;font-size:1rem;font-weight:400;line-height:1.5em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-l-single{font-family:Siemens Sans, sans-serif;font-size:1rem;font-weight:400;line-height:1.25em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-l-title{font-family:Siemens Sans, sans-serif;font-size:1rem;font-weight:700;line-height:1.5em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-l-title-single{font-family:Siemens Sans, sans-serif;font-size:1rem;font-weight:700;line-height:1.25em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-h2{font-family:Siemens Sans, sans-serif;font-size:1.375rem;font-weight:700;line-height:1.455em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-xl{font-family:Siemens Sans, sans-serif;font-size:1.375rem;font-weight:400;line-height:1.091em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}a{color:var(--theme-color-primary)}:host{display:inline-block;position:relative;width:100%;z-index:var(--theme-z-index-tooltip)}:host .validation-tooltip{background-color:var(--theme-tooltip--background);color:var(--theme-tooltip--color);padding:5px 10px;border-radius:4px;font-size:13px;border:1px solid var(--theme-tooltip--border-color);box-shadow:0 0 2px 0 rgba(0, 0, 40, 0.1), 0 4px 8px 0 rgba(0, 0, 40, 0.1), 0 12px 18px 0 rgba(0, 0, 40, 0.1)}:host .validation-tooltip #arrow,:host .validation-tooltip #arrow::before{position:absolute;width:8px;height:8px;background:inherit}:host .validation-tooltip #arrow{visibility:hidden}:host .validation-tooltip #arrow::before{visibility:visible;content:\\\"\\\";transform:rotate(45deg);background-color:var(--theme-tooltip--background)}:host .validation-tooltip>#arrow{bottom:-5px}:host .validation-tooltip>#arrow::before{border-right:1px solid var(--theme-tooltip--border-color);border-bottom:1px solid var(--theme-tooltip--border-color)}\";\nconst ValidationTooltip = /*#__PURE__*/(() => {\n  let ValidationTooltip = class {\n    constructor(hostRef) {\n      registerInstance(this, hostRef);\n      /**\n       * Placement of the tooltip\n       */\n      this.placement = 'top';\n      /**\n       * Suppress the automatic placement of the dropdown.\n       */\n      this.suppressAutomaticPlacement = false;\n      this.isInputValid = true;\n      this.onSubmitBind = this.onSubmit.bind(this);\n      this.onInputFocusBind = this.onInputFocus.bind(this);\n    }\n    get arrow() {\n      return this.hostElement.shadowRoot.querySelector('#arrow');\n    }\n    get inputElement() {\n      return this.hostElement.querySelector('input');\n    }\n    get formElement() {\n      var _a;\n      return (_a = this.inputElement) === null || _a === void 0 ? void 0 : _a.form;\n    }\n    get tooltipElement() {\n      return this.hostElement.shadowRoot.querySelector('.validation-tooltip');\n    }\n    destroyAutoUpdate() {\n      if (this.tooltipElement) {\n        this.tooltipElement.style.display = 'none';\n      }\n      if (this.autoUpdateCleanup) {\n        this.autoUpdateCleanup();\n      }\n    }\n    applyTooltipPosition() {\n      this.tooltipElement.style.display = 'block';\n      let positionConfig = {\n        strategy: 'fixed',\n        middleware: [inline(), shift(), offset({\n          mainAxis: 8\n        })]\n      };\n      if (!positionConfig.middleware) {\n        positionConfig.middleware = [];\n      }\n      if (!this.suppressAutomaticPlacement) {\n        positionConfig.middleware.push(flip({\n          fallbackStrategy: 'initialPlacement'\n        }));\n      }\n      positionConfig.placement = this.placement;\n      this.autoUpdateCleanup = autoUpdate(this.inputElement, this.tooltipElement, async () => {\n        positionConfig.middleware = [...positionConfig.middleware, arrow({\n          element: this.arrow\n        })];\n        const computeResponse = await computePosition(this.inputElement, this.tooltipElement, positionConfig);\n        if (computeResponse.middlewareData.arrow) {\n          const {\n            x,\n            y\n          } = computeResponse.middlewareData.arrow;\n          this.arrowPosition = {\n            x,\n            y\n          };\n          Object.assign(this.arrow.style, {\n            left: x != null ? `${x}px` : '',\n            top: y != null ? `${y}px` : ''\n          });\n        }\n        this.tooltipPosition = {\n          x: computeResponse.x,\n          y: computeResponse.y\n        };\n      }, {\n        ancestorResize: true,\n        ancestorScroll: true,\n        elementResize: true\n      });\n    }\n    componentDidLoad() {\n      if (!this.inputElement) {\n        throw Error('Validation tooltip is only working with an direct input child.');\n      }\n      if (!this.formElement) {\n        throw Error('Validation tooltip is only working with an form element.');\n      }\n      this.formElement.addEventListener('submit', this.onSubmitBind);\n      this.inputElement.addEventListener('focus', this.onInputFocusBind);\n      this.observer = new MutationObserver(() => {\n        if (this.inputElement.classList.contains('is-invalid')) {\n          this.isInputValid = false;\n          this.validationChanged();\n        }\n      });\n      this.observer.observe(this.inputElement, {\n        childList: false,\n        subtree: false,\n        attributes: true,\n        attributeFilter: ['class']\n      });\n    }\n    onInputFocus() {\n      this.isInputValid = true;\n    }\n    onSubmit() {\n      if (this.formElement.classList.contains('needs-validation')) {\n        this.isInputValid = this.inputElement.validity.valid;\n      }\n    }\n    disconnectedCallback() {\n      var _a, _b, _c;\n      (_a = this.observer) === null || _a === void 0 ? void 0 : _a.disconnect();\n      this.destroyAutoUpdate();\n      (_b = this.formElement) === null || _b === void 0 ? void 0 : _b.removeEventListener('submit', this.onSubmitBind);\n      (_c = this.inputElement) === null || _c === void 0 ? void 0 : _c.removeEventListener('focus', this.onInputFocusBind);\n    }\n    validationChanged() {\n      if (!this.isInputValid) {\n        this.applyTooltipPosition();\n      } else {\n        this.destroyAutoUpdate();\n      }\n    }\n    render() {\n      var _a, _b, _c, _d;\n      return h(Host, {\n        key: '3bbb1884ba4d874e0187b0a649f8ffa276cd998f'\n      }, h(\"slot\", {\n        key: '00503ee8eee8224d3cea5e94e1a73cd40ee4949e'\n      }), h(\"div\", {\n        key: '27f89d9bf7edefd71ce731edf0e0a491ab3e2814',\n        role: \"tooltip\",\n        style: {\n          display: 'none',\n          position: 'fixed',\n          top: '0',\n          left: '0',\n          transform: `translate(${Math.round((_b = (_a = this.tooltipPosition) === null || _a === void 0 ? void 0 : _a.x) !== null && _b !== void 0 ? _b : 0)}px,${Math.round((_d = (_c = this.tooltipPosition) === null || _c === void 0 ? void 0 : _c.y) !== null && _d !== void 0 ? _d : 0)}px)`\n        },\n        class: \"validation-tooltip text-default\"\n      }, this.message, h(\"slot\", {\n        key: '4b7d8a68f3e7efd19b166beea935210295afb6f6',\n        name: \"tooltip-message\"\n      }), h(\"div\", {\n        key: '3ab710662e09333589b25dd49c128b5cd1229843',\n        id: \"arrow\"\n      })));\n    }\n    get hostElement() {\n      return getElement(this);\n    }\n    static get watchers() {\n      return {\n        \"isInputValid\": [\"validationChanged\"]\n      };\n    }\n  };\n  ValidationTooltip.style = validationTooltipCss;\n  return ValidationTooltip;\n})();\nexport { ValidationTooltip as ix_validation_tooltip };\n"],"mappings":"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","names":["validationTooltipCss","ValidationTooltip","hostRef","registerInstance","_a","positionConfig","inline","shift","offset","flip","autoUpdate","__async","arrow","computeResponse","computePosition","x","y","_b","_c","_d","h","Host","getElement"],"x_google_ignoreList":[0]}