import{c as m}from"./chunk-AB6KUYM7.js";import"./chunk-AAMP4VTH.js";import{a as n}from"./chunk-B25HTWHT.js";import{e as c}from"./chunk-NEUIV72S.js";import{a as l}from"./chunk-KLR5OZC5.js";import{a as u,d as s,e as g,f as b,g as f}from"./chunk-3Q7G4VVL.js";import"./chunk-IXF2NW34.js";function p(i,e,{debounceTimeEnter:t,debounceTimeLeave:o}={debounceTimeEnter:0,debounceTimeLeave:500}){let h,d;return{onEnter:()=>{clearTimeout(d),h=setTimeout(()=>{i()},t)},onLeave:()=>{clearTimeout(h),d=setTimeout(()=>{e()},o)}}}var v=":host{display:flex;flex-direction:column;position:relative}:host *,:host *::after,:host *::before{box-sizing:border-box}:host ::-webkit-scrollbar-button{display:none}@-moz-document url-prefix(){:host *{scrollbar-color:var(--theme-scrollbar-thumb--background) var(--theme-scrollbar-track--background);scrollbar-width:thin}}:host{}:host ::-webkit-scrollbar{width:0.5rem;height:0.5rem}:host{}:host ::-webkit-scrollbar-track{border-radius:5px;background:var(--theme-scrollbar-track--background)}:host ::-webkit-scrollbar-track:hover{background:var(--theme-scrollbar-track--background--hover)}:host{}:host ::-webkit-scrollbar-thumb{border-radius:5px;background:var(--theme-scrollbar-thumb--background)}:host{}:host ::-webkit-scrollbar-thumb:hover{background:var(--theme-scrollbar-thumb--background--hover)}:host ::-webkit-scrollbar-corner{display:none}:host .category{display:flex;position:relative;align-items:center;width:100%;height:100%}:host .category-text{width:100%;padding-right:0.25rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host .category-chevron{margin-left:auto;margin-right:0;transition:var(--theme-default-time) transform ease-in-out}:host .category-chevron--open{transform:rotate(-180deg)}:host .menu-items{overflow:hidden;max-height:0;transition:var(--theme-default-time) max-height ease-in-out}:host .menu-items--expanded{max-height:999999999px;padding:0.25rem 0 0.25rem 1.625rem}:host .menu-items--collapsed{display:none}:host .category-dropdown ::slotted(ix-menu-item){--ix-menu-item-height:2.5rem}:host .category-dropdown-header{pointer-events:none;padding-left:0.125rem;min-width:256px}:host ::slotted(ix-menu-item){--ix-menu-item-height:2.5rem}:host(.expanded){background-color:var(--theme-color-ghost--active)}:host ::slotted(a[href]){text-decoration:none !important}",r=40,a=150,E=(()=>{let i=class{constructor(e){u(this,e),this.closeOtherCategories=f(this,"closeOtherCategories",7),this.menuExpand=!1,this.showItems=!1,this.showDropdown=!1,this.nestedItems=[],this.enterLeaveDebounce=p(()=>{this.onPointerEnter()},()=>{this.onPointerLeave()})}isNestedItemActive(){return this.getNestedItems().some(e=>e.active)}getNestedItems(){return Array.from(this.hostElement.querySelectorAll(":scope ix-menu-item"))}getNestedItemsHeight(){return this.getNestedItems().length*r}onExpandCategory(e){e?this.animateFadeIn():this.animateFadeOut()}animateFadeOut(){n(this.menuItemsContainer,{duration:a,easing:"easeInSine",opacity:[1,0],maxHeight:[this.getNestedItemsHeight()+r,0],onComplete:()=>{setTimeout(()=>{this.showItems=!1,this.showDropdown=!1},a+25)}})}animateFadeIn(){n(this.menuItemsContainer,{duration:a,easing:"easeInSine",opacity:[0,1],maxHeight:[0,this.getNestedItemsHeight()+r],onBegin:()=>{this.showItems=!0,this.showDropdown=!1}})}onPointerEnter(){var e;!((e=this.ixMenu)===null||e===void 0)&&e.expand||(this.closeOtherCategories.emit(),this.showDropdown=!0)}onPointerLeave(){this.showDropdown=!1}onCategoryClick(e){var t;if(e.stopPropagation(),!((t=this.ixMenu)===null||t===void 0)&&t.expand){this.onExpandCategory(!this.showItems);return}}onNestedItemsChanged(e){let t=this.nestedItems.length;if(this.nestedItems=this.getNestedItems(),this.showItems&&this.menuItemsContainer&&t!==this.nestedItems.length&&(this.menuItemsContainer.style.maxHeight=`${this.getNestedItemsHeight()+r}px`),!(!this.menuExpand||this.showItems||!e)){for(let o of e??[])if(o.attributeName==="class"&&o.target instanceof HTMLElement&&o.target.classList.contains("active")){this.showItems=!0,this.onExpandCategory(!0);return}}}isCategoryItemListVisible(){return this.menuExpand&&(this.showItems||this.isNestedItemActive())}componentWillLoad(){let e=m(this.hostElement);if(!e)throw Error("ix-menu-category can only be used as a child of ix-menu");this.ixMenu=e,this.menuExpand=this.ixMenu.expand,this.showItems=this.isCategoryItemListVisible()}componentDidLoad(){var e;this.observer=l(t=>this.onNestedItemsChanged(t)),this.observer.observe(this.hostElement,{attributes:!0,childList:!0,subtree:!0}),requestAnimationFrame(()=>{this.onNestedItemsChanged()}),(e=this.ixMenu)===null||e===void 0||e.addEventListener("expandChange",({detail:t})=>{this.menuExpand=t,t||this.clearMenuItemStyles(),this.showItems=this.isCategoryItemListVisible()})}clearMenuItemStyles(){var e,t;(e=this.menuItemsContainer)===null||e===void 0||e.style.removeProperty("max-height"),(t=this.menuItemsContainer)===null||t===void 0||t.style.removeProperty("opacity")}disconnectedCallback(){this.observer&&this.observer.disconnect()}render(){return s(g,{key:"30ec9cf2a76527a0f7d18b536ab5f45592dfc3b4",class:{expanded:this.showItems},onPointerEnter:()=>{this.enterLeaveDebounce.onEnter()},onPointerLeave:e=>{e.pointerType!=="touch"&&this.enterLeaveDebounce.onLeave()}},s("ix-menu-item",{key:"b3fbd62c77f657ee630dcc9c2395a6cf4bdd62cd",class:"category-parent",active:this.isNestedItemActive(),notifications:this.notifications,icon:this.icon,onClick:e=>this.onCategoryClick(e),onFocus:()=>this.onPointerEnter(),tooltipText:this.tooltipText,isCategory:!0},s("div",{key:"2abf3d67117d8aa0ecf01d2d93a6b86d256c2cf1",class:"category"},s("div",{key:"8aecead13281c8957cab19a37323f3a1ecee0414",class:"category-text"},this.label),s("ix-icon",{key:"a1bebd25a7025fda7588779e806c85c95df9cd5c",name:c,class:{"category-chevron":!0,"category-chevron--open":this.showItems},"aria-hidden":"true"}))),s("div",{key:"b30c115f69bbcd60a94647cd5bd86a9369ef9ab6",ref:e=>this.menuItemsContainer=e,class:{"menu-items":!0,"menu-items--expanded":this.showItems,"menu-items--collapsed":!this.showItems}},this.showItems?s("slot",null):null),s("ix-dropdown",{key:"acbb4ae8d18d168e8636d1e883a032e2784a0400",closeBehavior:"both",show:this.showDropdown,onShowChanged:({detail:e})=>{this.showDropdown=e},class:"category-dropdown",anchor:this.hostElement,placement:"right-start",offset:{mainAxis:3},onClick:e=>{e.target instanceof HTMLElement&&(e.target.tagName==="IX-MENU-ITEM"?this.showDropdown=!1:e.preventDefault())}},s("ix-dropdown-item",{key:"a6ab922e042e650574e469115d94862f9ee8dd23",class:"category-dropdown-header"},s("ix-typography",{key:"9d72d42fcf00e59d9ddf46606a3567b01ff2c113",format:"label",bold:!0,textColor:"std"},this.label)),s("ix-divider",{key:"f23c209c092abf051e337cb2cf5099f4aa139e46"}),s("slot",{key:"e8cb095f52dbcac00c8deeb40377180802521ec3"})))}get hostElement(){return b(this)}};return i.style=v,i})();export{E as ix_menu_category};
//# sourceMappingURL=ix-menu-category.entry-XPRLYO6K.js.map
