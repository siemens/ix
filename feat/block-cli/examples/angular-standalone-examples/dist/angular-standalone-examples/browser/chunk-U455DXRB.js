import{a as d,b as a}from"./chunk-CLJWAPH4.js";import{b as l}from"./chunk-3JAJHOBU.js";import"./chunk-7FRNBKW2.js";import{a as o}from"./chunk-5MUU74O4.js";import{c as f}from"./chunk-C6FVZU4H.js";import{a as n,c as e,d as h,e as c}from"./chunk-TA677NDK.js";import{h as r}from"./chunk-B4AJQJMI.js";function m(i){return i&&"getAssociatedFormElement"in i&&typeof i.getAssociatedFormElement=="function"&&"getNativeInputElement"in i&&typeof i.getNativeInputElement=="function"}var v=":host{display:inline-block;position:relative;margin-top:0.5rem;margin-bottom:0.25rem}",w=(()=>{let i=class{constructor(t){n(this,t),this.isInvalid=!1,this.explicitIsInvalid=void 0,this.htmlForObserver=new MutationObserver(()=>this.checkForInternalState()),this.a11yAttributes={},this.labelRef=o()}isInvalidChanged(t){this.explicitIsInvalid=t}connectedCallback(){this.registerHtmlForObserver(),this.registerControlRefObserver()}disconnectedCallback(){this.htmlForObserver&&this.htmlForObserver.disconnect(),this.htmlForClassObserver&&this.htmlForClassObserver.destroy(),this.controlRefClassObserver&&this.controlRefClassObserver.destroy()}componentWillRender(){this.checkForInternalState()}componentWillLoad(){this.a11yAttributes=f(this.hostElement)}registerHtmlForObserver(){typeof window>"u"||(this.htmlForObserver&&this.htmlForObserver.disconnect(),this.htmlFor&&this.htmlForObserver.observe(window.document,{childList:!0,subtree:!0}))}registerControlRefObserver(){return r(this,null,function*(){if(!(typeof window>"u")&&(this.controlRefClassObserver&&this.controlRefClassObserver.destroy(),this.controlRef&&!this.htmlFor)){let t=yield this.controlRef.waitForCurrent();this.controlRefClassObserver=l(t,()=>this.checkForInvalidState(t))}})}registerHtmlForClassObserver(t){this.htmlForClassObserver&&this.htmlForClassObserver.destroy(),this.htmlForClassObserver=l(t,()=>this.checkForInvalidState(t))}checkForInvalidState(t){var s;let b=t.classList.contains("is-invalid")||t.classList.contains("ix-invalid");this.isInvalid=(s=this.explicitIsInvalid)!==null&&s!==void 0?s:b}checkForInternalState(){return r(this,null,function*(){if(this.htmlFor){let t=document.getElementById(this.htmlFor);if(t){typeof t.required=="boolean"&&(this.required=t.required),this.registerHtmlForClassObserver(t),this.checkForInvalidState(t);return}}if(this.controlRef){let t=yield this.controlRef.waitForCurrent();this.required=t.required}})}focusOnClick(){return r(this,null,function*(){if(this.htmlFor){let t=document.getElementById(this.htmlFor);if(t){let s=null;m(t)?s=yield t.getNativeInputElement():s=t,typeof s.focus=="function"&&s.focus()}}this.controlRef&&(yield this.controlRef.waitForCurrent()).focus()})}render(){return e(h,{key:"23f1be0180a85db937a7666c9b30a6128f73e9b8",onClick:()=>this.focusOnClick()},e("label",Object.assign({key:"2150a0113aa029451019257b91dc46992c5e2f79",htmlFor:this.htmlFor},this.a11yAttributes,{ref:this.labelRef}),e("ix-typography",{key:"df0d5cb5d4e84d62e3e0d8a412f92606c25a5974",textColor:this.isInvalid?"alarm":"soft",format:"label"},e("slot",{key:"2a547b030c4098b8dff1dd31e14e3f9a2773deae"}),this.required&&e("span",{key:"9779ab62bd06a39bb76310cbf718cdfde4389227"},"*"))))}get hostElement(){return c(this)}static get watchers(){return{isInvalid:["isInvalidChanged"],htmlFor:["registerHtmlForObserver"],controlRef:["registerControlRefObserver"]}}};return i.style=v,i})(),p=":host{display:flex;position:relative;flex-direction:column}:host .slot-wrapper{display:flex;position:relative;align-items:center;justify-content:flex-start;gap:0.25rem}:host .field-bottom,:host .field-top{display:flex;flex-direction:row;position:relative;justify-content:space-between;gap:1rem;width:-moz-min-content;width:min-content;min-width:100%}:host .field-bottom .bottom-right{margin-left:auto;margin-right:0px}:host .bottom-text{display:flex;position:relative;align-items:flex-start;justify-content:flex-start;gap:0.25rem;margin-right:0.25rem}:host .text-icon{margin:0.125rem}:host .text-icon.invalid{color:var(--theme-helper-icon--color--invalid)}:host .text-icon.info{color:var(--theme-helper-icon--color--info)}:host .text-icon.warning{color:var(--theme-helper-icon--color--warning)}:host .text-icon.valid{color:var(--theme-helper-icon--color--valid)}:host .bottom-text{margin-top:0.25rem;margin-bottom:0.25rem}",O=(()=>{let i=class{constructor(t){n(this,t),this.isInvalid=!1,this.isValid=!1,this.isInfo=!1,this.isWarning=!1,this.showTextAsTooltip=!1,this.required=!1,this.slotRef=o()}render(){let t={invalidText:this.invalidText,isInvalid:this.isInvalid,isValid:this.isValid,validText:this.validText,isWarning:this.isWarning,warningText:this.warningText,isInfo:this.isInfo,infoText:this.infoText,helperText:this.helperText};return e(h,{key:"531b08942bf31c36043fb3d7cd3af489f2fe83b0"},this.label&&e("div",{key:"49b9ef124fc2d69fb2528585d7b232b2e3d6d4b6",class:"field-top"},e("ix-field-label",{key:"20a089a72de7ee3045c048c19d868ff3b4be2706",required:this.required,htmlFor:this.htmlForLabel,controlRef:this.controlRef,isInvalid:this.isInvalid},this.label)),e("div",{key:"80c8ce58eb73379755757b2cef6b318cdc279b6b",class:{"slot-wrapper":!0},ref:this.slotRef},e("slot",{key:"f41f0681742e9f783092bad7484c851e2b987c99"})),e("div",{key:"9db46e23621d508e08fe87cae69a3698491347dc",class:"field-bottom"},!this.showTextAsTooltip&&e(a,Object.assign({key:"29802c92675a34cd215740a5df6fae77ed36368f"},t)),e("div",{key:"b94a1cc2acd5f8379e768fda9f222af6cb85f2b7",class:"bottom-right"},e("slot",{key:"3c5ba2d9a6d4671b6fadba6e06455ae229894f94",name:"bottom-right"}))),this.showTextAsTooltip===!0&&d(t)&&e("ix-tooltip",{key:"890c4a39781fbb14b96660691fd6f6fe96a30e0b",for:this.slotRef.waitForCurrent(),showDelay:500,placement:"bottom"},e(a,Object.assign({key:"638410fd78282cf38065635a79cceeb064a2a10e"},t))))}get hostElement(){return c(this)}};return i.style=p,i})();export{w as ix_field_label,O as ix_field_wrapper};
