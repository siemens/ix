import{a as l,b as r,c as m,d,f as h,g as f,h as p}from"./chunk-WJENEVY5.js";import{a as c,c as s,d as g,e as u}from"./chunk-N6UD2XNE.js";import{h as a}from"./chunk-B4AJQJMI.js";var b='.text-xs{font-family:Siemens Sans, sans-serif;font-size:0.625rem;font-weight:400;line-height:1.4em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-s{font-family:Siemens Sans, sans-serif;font-size:0.75rem;font-weight:400;line-height:1.5em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-caption{font-family:Siemens Sans, sans-serif;font-size:0.75rem;font-weight:700;line-height:1.5em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-caption-single{font-family:Siemens Sans, sans-serif;font-size:0.75rem;font-weight:700;line-height:1em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-default{font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:400;line-height:1.429em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-default-single{font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:400;line-height:1.143em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-default-title{font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:700;line-height:1.429em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-default-title-single{font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:700;line-height:1.143em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-l{font-family:Siemens Sans, sans-serif;font-size:1rem;font-weight:400;line-height:1.5em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-l-single{font-family:Siemens Sans, sans-serif;font-size:1rem;font-weight:400;line-height:1.25em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-l-title{font-family:Siemens Sans, sans-serif;font-size:1rem;font-weight:700;line-height:1.5em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-l-title-single{font-family:Siemens Sans, sans-serif;font-size:1rem;font-weight:700;line-height:1.25em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-h2{font-family:Siemens Sans, sans-serif;font-size:1.375rem;font-weight:700;line-height:1.455em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}.text-xl{font-family:Siemens Sans, sans-serif;font-size:1.375rem;font-weight:400;line-height:1.091em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}a{color:var(--theme-color-primary)}:host{display:inline-block;position:relative;width:100%;z-index:var(--theme-z-index-tooltip)}:host .validation-tooltip{background-color:var(--theme-tooltip--background);color:var(--theme-tooltip--color);padding:5px 10px;border-radius:4px;font-size:13px;border:1px solid var(--theme-tooltip--border-color);box-shadow:0 0 2px 0 rgba(0, 0, 40, 0.1), 0 4px 8px 0 rgba(0, 0, 40, 0.1), 0 12px 18px 0 rgba(0, 0, 40, 0.1)}:host .validation-tooltip #arrow,:host .validation-tooltip #arrow::before{position:absolute;width:8px;height:8px;background:inherit}:host .validation-tooltip #arrow{visibility:hidden}:host .validation-tooltip #arrow::before{visibility:visible;content:"";transform:rotate(45deg);background-color:var(--theme-tooltip--background)}:host .validation-tooltip>#arrow{bottom:-5px}:host .validation-tooltip>#arrow::before{border-right:1px solid var(--theme-tooltip--border-color);border-bottom:1px solid var(--theme-tooltip--border-color)}',w=(()=>{let n=class{constructor(t){c(this,t),this.placement="top",this.suppressAutomaticPlacement=!1,this.isInputValid=!0,this.onSubmitBind=this.onSubmit.bind(this),this.onInputFocusBind=this.onInputFocus.bind(this)}get arrow(){return this.hostElement.shadowRoot.querySelector("#arrow")}get inputElement(){return this.hostElement.querySelector("input")}get formElement(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.form}get tooltipElement(){return this.hostElement.shadowRoot.querySelector(".validation-tooltip")}destroyAutoUpdate(){this.tooltipElement&&(this.tooltipElement.style.display="none"),this.autoUpdateCleanup&&this.autoUpdateCleanup()}applyTooltipPosition(){this.tooltipElement.style.display="block";let t={strategy:"fixed",middleware:[f(),m(),r({mainAxis:8})]};t.middleware||(t.middleware=[]),this.suppressAutomaticPlacement||t.middleware.push(d({fallbackStrategy:"initialPlacement"})),t.placement=this.placement,this.autoUpdateCleanup=l(this.inputElement,this.tooltipElement,()=>a(this,null,function*(){t.middleware=[...t.middleware,h({element:this.arrow})];let e=yield p(this.inputElement,this.tooltipElement,t);if(e.middlewareData.arrow){let{x:o,y:i}=e.middlewareData.arrow;this.arrowPosition={x:o,y:i},Object.assign(this.arrow.style,{left:o!=null?`${o}px`:"",top:i!=null?`${i}px`:""})}this.tooltipPosition={x:e.x,y:e.y}}),{ancestorResize:!0,ancestorScroll:!0,elementResize:!0})}componentDidLoad(){if(!this.inputElement)throw Error("Validation tooltip is only working with an direct input child.");if(!this.formElement)throw Error("Validation tooltip is only working with an form element.");this.formElement.addEventListener("submit",this.onSubmitBind),this.inputElement.addEventListener("focus",this.onInputFocusBind),this.observer=new MutationObserver(()=>{this.inputElement.classList.contains("is-invalid")&&(this.isInputValid=!1,this.validationChanged())}),this.observer.observe(this.inputElement,{childList:!1,subtree:!1,attributes:!0,attributeFilter:["class"]})}onInputFocus(){this.isInputValid=!0}onSubmit(){this.formElement.classList.contains("needs-validation")&&(this.isInputValid=this.inputElement.validity.valid)}disconnectedCallback(){var t,e,o;(t=this.observer)===null||t===void 0||t.disconnect(),this.destroyAutoUpdate(),(e=this.formElement)===null||e===void 0||e.removeEventListener("submit",this.onSubmitBind),(o=this.inputElement)===null||o===void 0||o.removeEventListener("focus",this.onInputFocusBind)}validationChanged(){this.isInputValid?this.destroyAutoUpdate():this.applyTooltipPosition()}render(){var t,e,o,i;return s(g,{key:"3bbb1884ba4d874e0187b0a649f8ffa276cd998f"},s("slot",{key:"00503ee8eee8224d3cea5e94e1a73cd40ee4949e"}),s("div",{key:"27f89d9bf7edefd71ce731edf0e0a491ab3e2814",role:"tooltip",style:{display:"none",position:"fixed",top:"0",left:"0",transform:`translate(${Math.round((e=(t=this.tooltipPosition)===null||t===void 0?void 0:t.x)!==null&&e!==void 0?e:0)}px,${Math.round((i=(o=this.tooltipPosition)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0)}px)`},class:"validation-tooltip text-default"},this.message,s("slot",{key:"4b7d8a68f3e7efd19b166beea935210295afb6f6",name:"tooltip-message"}),s("div",{key:"3ab710662e09333589b25dd49c128b5cd1229843",id:"arrow"})))}get hostElement(){return u(this)}static get watchers(){return{isInputValid:["validationChanged"]}}};return n.style=b,n})();export{w as ix_validation_tooltip};
