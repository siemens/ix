import{b as a}from"./chunk-M4AZQB5Q.js";import{a as o,c as i,d,e as l}from"./chunk-N6UD2XNE.js";import"./chunk-B4AJQJMI.js";var u=":host{position:relative;display:flex;width:100%;flex-wrap:wrap;align-items:stretch}:host *,:host *::after,:host *::before{box-sizing:border-box}:host ::-webkit-scrollbar-button{display:none}@-moz-document url-prefix(){:host *{scrollbar-color:var(--theme-scrollbar-thumb--background) var(--theme-scrollbar-track--background);scrollbar-width:thin}}:host{}:host ::-webkit-scrollbar{width:0.5rem;height:0.5rem}:host{}:host ::-webkit-scrollbar-track{border-radius:5px;background:var(--theme-scrollbar-track--background)}:host ::-webkit-scrollbar-track:hover{background:var(--theme-scrollbar-track--background--hover)}:host{}:host ::-webkit-scrollbar-thumb{border-radius:5px;background:var(--theme-scrollbar-thumb--background)}:host{}:host ::-webkit-scrollbar-thumb:hover{background:var(--theme-scrollbar-thumb--background--hover)}:host ::-webkit-scrollbar-corner{display:none}:host .group{display:flex;position:absolute;align-items:center;height:100%}:host .group-start{left:0px;height:2rem;margin-left:0.5rem;color:var(--theme-color-soft-text)}:host .group-end{right:0px;height:2rem;margin-right:0.5rem;color:var(--theme-color-soft-text)}:host ::slotted(*){display:flex}:host(.disabled){pointer-events:none}:host(.disabled) .group-start ::slotted(*),:host(.disabled) .group-end ::slotted(*){opacity:0.4 !important}",b=(()=>{let r=class{constructor(t){o(this,t),this.disabled=!1,this.inputPaddingLeft=0,this.inputPaddingRight=0}get inputElement(){return this.hostElement.querySelector("input")}componentWillLoad(){var t;let{valid:e}=this.inputElement.validity;this.inputElement.addEventListener("valid",()=>{this.onValidInput()}),this.inputElement.addEventListener("invalid",()=>{this.onInvalidInput()}),this.inputElement.addEventListener("input",()=>{this.startSlotChanged()}),(t=this.inputElement.form)===null||t===void 0||t.addEventListener("submit",()=>{this.startSlotChanged()}),e?this.onValidInput():this.onInvalidInput(),this.observer=new MutationObserver(()=>{this.slotChanged(),this.startSlotChanged(),this.endSlotChanged()}),this.observer.observe(this.hostElement,{subtree:!0,childList:!0,attributes:!0,characterData:!0})}componentDidRender(){this.prepareInputElement()}onValidInput(){this.startSlotChanged()}onInvalidInput(){this.startSlotChanged()}prepareInputElement(){this.inputElement?(this.inputElement.style.width="100%",this.inputPaddingRight!==0?this.inputElement.style.paddingRight=this.inputPaddingRight+"px":this.inputElement.style.paddingRight="0.5rem",this.inputPaddingLeft!==0?this.inputElement.style.paddingLeft=this.inputPaddingLeft+"px":this.inputElement.style.paddingLeft="0.5rem"):console.warn('You used the ix-input-group without an input tag, e.g. <input class="ix-form-control" />')}slotChanged(){var t;this.disabled=(t=this.inputElement)===null||t===void 0?void 0:t.disabled}startSlotChanged(){setTimeout(()=>{var t,e;let s=this.getChildrenWidth(this.startSlotRef);if(s!==0?this.inputPaddingLeft=11+s:this.inputPaddingLeft=0,!this.inputElement)return;let n=!this.inputElement.validity.valid||this.inputElement.classList.contains("is-invalid");if((((t=this.inputElement.form)===null||t===void 0?void 0:t.classList.contains("was-validated"))||((e=this.inputElement.form)===null||e===void 0?void 0:e.noValidate)===!1)&&n){let h=this.inputPaddingLeft!==0?this.inputPaddingLeft:7;this.inputElement.style.backgroundPosition=`left ${h}px center`,this.inputPaddingLeft+=26}})}endSlotChanged(){setTimeout(()=>{this.inputPaddingRight=15+this.getChildrenWidth(this.endSlotRef)})}getChildrenWidth(t){if(!t)return 0;let e=a(t);if(e.length===0)return 0;let s=0;return e.forEach(n=>{s+=n.getBoundingClientRect().width}),s}render(){return i(d,{key:"b148a7e4ed2a11c543a98a6247797da3415b9bba",class:{disabled:this.disabled}},i("div",{key:"6aac120f6d3cad989a4409978760fb752c556711",class:"group group-start"},i("slot",{key:"f2b68f9fd6b449b560823db825f04a6d154baf91",ref:t=>this.startSlotRef=t,name:"input-start"})),i("slot",{key:"7aa651f145806d7c24ad00af93d9dfd267a9ce02"}),i("div",{key:"d6214bd6949bd22bdc62582d0f0089f884b5c6af",class:"group group-end"},i("slot",{key:"8eb65c2a35f67a2436c58cc8b04605f4d80b74f2",ref:t=>this.endSlotRef=t,name:"input-end"})))}get hostElement(){return l(this)}};return r.style=u,r})();export{b as ix_input_group};
