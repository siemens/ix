import{a as p}from"./chunk-TUP4P7RP.js";import{a as h}from"./chunk-73KFJCVF.js";import{a as c}from"./chunk-53SGOEWF.js";import{a as f,c as g}from"./chunk-C6FVZU4H.js";import{a as u,c as n,d as b,e as w,f as m}from"./chunk-TA677NDK.js";import{h as r}from"./chunk-B4AJQJMI.js";function x(i,e,t=3e3){return new Promise((s,l)=>{let o=Date.now(),a=()=>{let d=e.querySelector(i);d?s(d):Date.now()-o<t?setTimeout(a):l()};a()})}var y=`::backdrop{background:var(--theme-color-lightbox, rgba(0, 0, 0, 0.5490196078))}:focus-visible{outline:none !important}:host{display:none}:host dialog{--ix-dialog-padding:1rem;margin:0;padding:var(--ix-dialog-padding);padding-top:calc(var(--ix-dialog-padding) + var(--ix-safe-area-inset-top));padding-bottom:calc(var(--ix-dialog-padding) + var(--ix-safe-area-inset-bottom));left:50%}:host .modal{display:flex;flex-direction:column;position:fixed;border:none;border-radius:var(--theme-default-border-radius);background:var(--theme-modal--background);box-shadow:var(--theme-shadow-4);color:var(--theme-color-std-text);overflow:visible;max-height:80vh;pointer-events:all;overflow-wrap:break-word}:host .modal-size-360{width:22.5rem}:host .modal-size-480{width:30rem}:host .modal-size-600{width:37.5rem}:host .modal-size-720{width:45rem}:host .modal-size-840{width:52.5rem}:host .modal-size-full-width{width:95%}:host .modal-size-full-screen{border-radius:0;left:0 !important;top:0 !important;transform:none !important;box-shadow:none;--ix-dialog-full-screen-height:calc(
    var(--ix-safe-area-inset-top) + var(--ix-safe-area-inset-bottom)
  );width:calc(100% - var(--ix-dialog-padding) * 2);min-width:calc(100% - var(--ix-dialog-padding) * 2);max-width:calc(100% - var(--ix-dialog-padding) * 2);min-height:calc(100% - var(--ix-dialog-padding) * 2 - var(--ix-dialog-full-screen-height));max-height:calc(100% - var(--ix-dialog-padding) * 2 - var(--ix-dialog-full-screen-height))}:host dialog.modal-size-full-screen::backdrop{background:var(--theme-modal--background)}:host .dialog-backdrop{display:block;position:fixed;width:100vw;height:100vh;top:0;left:0;pointer-events:none}:host ::slotted(ix-modal-footer){margin-top:auto}:host(.visible){display:block}:host(.align-center) dialog{margin:0;left:50%;top:50%}:host(.no-backdrop) dialog::backdrop{background-color:transparent !important;-webkit-backdrop-filter:none !important;backdrop-filter:none !important}:host(.with-icon) ::slotted(ix-modal-footer),:host(.with-icon) ::slotted(ix-modal-content){margin-left:3rem}`,k=function(i,e,t,s){var l=arguments.length,o=l<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,s);else for(var d=i.length-1;d>=0;d--)(a=i[d])&&(o=(l<3?a(o):l>3?a(e,t,o):a(e,t))||o);return l>3&&o&&Object.defineProperty(e,t,o),o},v=class{constructor(i){u(this,i),this.dialogClose=m(this,"dialogClose",7),this.dialogDismiss=m(this,"dialogDismiss",7),this.ariaAttributes={},this.isMouseDownInsideDialog=!1,this.size="360",this.disableAnimation=!1,this.hideBackdrop=!1,this.closeOnBackdropClick=!1,this.centered=!1,this.disableEscapeClose=!1,this.modalVisible=!1}onKey(i){i.key==="Escape"&&i.preventDefault()}get dialog(){return this.hostElement.shadowRoot.querySelector("dialog")}slideInModal(){let i=this.disableAnimation?0:c.mediumTime,e=this.centered?["-90%","-50%"]:[0,40];h(this.dialog,{duration:i,opacity:[0,1],translateY:e,translateX:["-50%","-50%"],easing:"easeOutSine"})}slideOutModal(i){let e=this.disableAnimation?0:c.mediumTime,t=this.centered?["-50%","-90%"]:[40,0];h(this.dialog,{duration:e,opacity:[1,0],translateY:t,translateX:["-50%","-50%"],easing:"easeInSine",complete:()=>{i&&i()}})}onMouseDown(i){this.isMouseDownInsideDialog=this.isPointInsideDialog(i.clientX,i.clientY)}onMouseUp(i){let e=this.isPointInsideDialog(i.clientX,i.clientY);this.closeOnBackdropClick&&!this.isMouseDownInsideDialog&&!e&&this.dismissModal()}isPointInsideDialog(i,e){let t=this.dialog.getBoundingClientRect();return i>=t.left&&i<=t.right&&e>=t.top&&e<=t.bottom}showModal(){return r(this,null,function*(){try{let i=yield x("dialog",this.hostElement.shadowRoot);this.modalVisible=!0,i.showModal(),this.slideInModal()}catch{console.error("HTMLDialogElement not existing")}})}dismissModal(i){return r(this,null,function*(){if(!this.modalVisible)return;let e=!0;this.beforeDismiss!==void 0&&(e=yield this.beforeDismiss(i)),e&&this.slideOutModal(()=>{this.modalVisible=!1,this.dialog.close(JSON.stringify({type:"dismiss",reason:i},null,2)),this.dialogDismiss.emit(i)})})}closeModal(i){return r(this,null,function*(){this.modalVisible&&this.slideOutModal(()=>{this.modalVisible=!1,this.dialog.close(JSON.stringify({type:"close",reason:i},null,2)),this.dialogClose.emit(i)})})}componentWillLoad(){this.ariaAttributes=g(this.hostElement)}render(){return n(b,{key:"dd03cbcd711d5a2ac4ba39060d988d48773c411e",class:{visible:this.modalVisible,"no-backdrop":this.hideBackdrop,"align-center":this.centered}},n("div",{key:"a3131cc6f42d4fa0f4f5d44370f04ddb8312247a",class:"dialog-backdrop"},n("dialog",{key:"4eb9c4491bfffc3067d42cbd75e4644aaedf45ce","aria-modal":f(!0),"aria-describedby":this.ariaAttributes["aria-describedby"],"aria-labelledby":this.ariaAttributes["aria-labelledby"],class:{modal:!0,[`modal-size-${this.size}`]:!0},onClose:()=>this.dismissModal(),onMouseDown:i=>this.onMouseDown(i),onMouseUp:i=>this.onMouseUp(i),onCancel:i=>{i.preventDefault(),this.dismissModal()}},n("slot",{key:"947434dc64bd2a3ff18f06f976fa8da78ca7d9ef"}))))}get hostElement(){return w(this)}};k([p("keydown",i=>i.disableEscapeClose)],v.prototype,"onKey",null);v.style=y;export{v as ix_modal};
