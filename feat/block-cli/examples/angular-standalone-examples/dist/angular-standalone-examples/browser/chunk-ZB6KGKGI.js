import{a as u}from"./chunk-ZX2EE6N2.js";import{D as p,N as v,R as g,U as x,z as h}from"./chunk-7FRNBKW2.js";import{h as c}from"./chunk-B4AJQJMI.js";var b=class{attachView(a,e){return c(this,null,function*(){var n;return((n=e?.parentElement)!==null&&n!==void 0?n:document.body).appendChild(a),a})}removeView(a){return c(this,null,function*(){a.remove()})}},T=new b,C=T;var D=()=>C,y=()=>T;function f(t,a){let e=a.ariaDescribedby,n=a.ariaLabelledby;delete a.ariaDescribedby,delete a.ariaLabelledby,e&&t.setAttribute("aria-describedby",e),n&&t.setAttribute("aria-labelledby",n)}function m(t,a,e,n){let s=[];return a!==void 0&&(s=[...s,{id:"cancel",text:a,type:"cancel",payload:n}]),[...s,{id:"okay",text:t,type:"okay",payload:e}]}function o(t){return c(this,null,function*(){let a=new u,e=document.createElement("ix-modal"),n=document.createElement("ix-modal-header"),s=document.createElement("ix-modal-content"),i=document.createElement("ix-modal-footer");f(e,t),Object.assign(n,t),Object.assign(s,t),Object.assign(i,t),n.innerText=t.messageTitle,s.innerText=t.message,t.actions.forEach(({id:l,text:M,type:w,payload:E})=>{let d=document.createElement("ix-button");if(d.innerText=M,i.appendChild(d),w==="okay"){d.variant="primary",d.addEventListener("click",()=>e.closeModal({actionId:l,payload:E}));return}else if(w==="cancel"){d.variant="secondary",d.addEventListener("click",()=>e.dismissModal({actionId:l,payload:E}));return}}),e.appendChild(n),e.appendChild(s),e.appendChild(i);let r=yield y().attachView(e);return r.addEventListener("dialogClose",l=>{a.emit(l.detail),r.remove()}),r.addEventListener("dialogDismiss",l=>{a.emit(l.detail),r.remove()}),f(r,t),Object.assign(r,t),r.showModal(),a})}o.info=(t,a,e,n,s,i)=>o({message:a,messageTitle:t,icon:p,actions:m(e,n,s,i)});o.warning=(t,a,e,n,s,i)=>o({message:a,messageTitle:t,icon:x,iconColor:"color-warning-text",actions:m(e,n,s,i)});o.error=(t,a,e,n,s,i)=>o({message:a,messageTitle:t,icon:h,iconColor:"color-alarm",actions:m(e,n,s,i)});o.success=(t,a,e,n,s,i)=>o({message:a,messageTitle:t,icon:g,iconColor:"color-success",actions:m(e,n,s,i)});o.question=(t,a,e,n,s,i)=>o({message:a,messageTitle:t,icon:v,actions:m(e,n,s,i)});function A(t,a){let e=a.ariaDescribedby,n=a.ariaLabelledby;delete a.ariaDescribedby,delete a.ariaLabelledby,e&&t.setAttribute("aria-describedby",e),n&&t.setAttribute("aria-labelledby",n)}function L(t){return t.closest("ix-modal")}function j(t,a){let e=L(t);if(e){e.closeModal(a);return}}function k(t,a){let e=L(t);if(e){e.dismissModal(a);return}}function I(t){return c(this,null,function*(){let a=D(),e,n=new u,s=new u;if(typeof t.content=="string"){let i=document.createElement("ix-modal");i.innerText=t.content,e=yield y().attachView(i)}if(t.content instanceof HTMLElement&&t.content.tagName!=="IX-MODAL"){let i=document.createElement("ix-modal");i.appendChild(t.content),e=yield y().attachView(i)}return e||(e=yield a.attachView(t.content)),A(e,t),Object.assign(e,t),yield e.showModal(),e.addEventListener("dialogClose",r=>c(null,[r],function*({detail:i}){n.emit(i),yield a.removeView(e)})),e.addEventListener("dialogDismiss",r=>c(null,[r],function*({detail:i}){s.emit(i),yield a.removeView(e)})),requestAnimationFrame(()=>{let i=e.querySelector("[autofocus],[auto-focus]");i&&i.focus()}),{htmlElement:e,onClose:n,onDismiss:s}})}export{y as a,o as b,j as c,k as d,I as e};
