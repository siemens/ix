<!DOCTYPE html>
<html lang="en">
  <head>
    <title>DateTime Input Test</title>
    <style>
      /* Override global.css to allow scrolling */
      html {
        overflow: auto !important;
        height: auto !important;
      }
      
      body {
        padding: 2rem;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        min-height: 100vh;
      }
      
      .example-section {
        margin-bottom: 2rem;
        padding: 1rem;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
      }
      
      .example-section h2 {
        margin-top: 0;
        color: #333;
      }
    </style>
  </head>
  <body class="theme-classic-dark">
    <h1>ix-datetime-input Test Page</h1>
    <p>This page tests the new datetime-input component</p>

    <div class="example-section">
      <h2>Basic Usage</h2>
      <ix-datetime-input
        label="Appointment Date & Time"
        placeholder="Select date and time"
        helper-text="Choose your preferred appointment slot"
      ></ix-datetime-input>
    </div>

    <div class="example-section">
      <h2>Required Field</h2>
      <ix-datetime-input
        label="Start Date & Time*"
        name="startDateTime"
        required
        invalid-text="This field is required"
      ></ix-datetime-input>
    </div>

    <div class="example-section">
      <h2>With Initial Value</h2>
      <ix-datetime-input
        label="Event Date & Time"
        value="2026/01/20 13:07:04"
      ></ix-datetime-input>
    </div>

    <div class="example-section">
      <h2>Custom Format (Figma Style)</h2>
      <ix-datetime-input
        label="Meeting Time"
        date-format="LLL-dd-yyyy"
        time-format="HH:mm:ss.SSS"
        value="Jan-22-2026 20:00:00.000"
      ></ix-datetime-input>
    </div>

    <div class="example-section">
      <h2>With Constraints (Min/Max Date Range)</h2>
      <p style="margin: 0 0 1rem 0; color: #666; font-size: 0.9rem;">
        <strong>Enabled:</strong> Jan 20, 2026 - Jan 31, 2026<br>
        <strong>Disabled:</strong> All dates before Jan 20 and after Jan 31, 2026
      </p>
      <ix-datetime-input
        label="Schedule Date & Time"
        min-date="2026/01/20"
        max-date="2026/01/31"
        invalid-text="Date must be between Jan 20-31, 2026"
        helper-text="Only dates in January 2026 (from 20th) are allowed"
      ></ix-datetime-input>
    </div>

    <div class="example-section">
      <h2>Disabled State</h2>
      <ix-datetime-input
        label="Disabled Input"
        value="2026/01/20 13:07:04"
        disabled
      ></ix-datetime-input>
    </div>

    <div class="example-section">
      <h2>Readonly State</h2>
      <ix-datetime-input
        label="Readonly Input"
        value="2026/01/20 13:07:04"
        readonly
      ></ix-datetime-input>
    </div>

    <div class="example-section">
      <h2>In a Form</h2>
      <form id="testForm" style="display: flex; flex-direction: column; gap: 1rem; max-width: 400px;">
        <ix-datetime-input
          name="scheduleStart"
          label="Start Time*"
          required
          invalid-text="Start time is required"
        ></ix-datetime-input>
        
        <ix-datetime-input
          name="scheduleEnd"
          label="End Time*"
          required
          invalid-text="End time is required"
        ></ix-datetime-input>
        
        <button type="submit" style="padding: 0.5rem 1rem; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">
          Submit
        </button>
      </form>
    </div>

    <script type="module" src="./init.js"></script>
    <script type="module">
      // Form submission test
      const form = document.getElementById('testForm');
      form.addEventListener('submit', (e) => {
        e.preventDefault();
        const formData = new FormData(form);
        console.log('Form submitted with data:');
        for (const [key, value] of formData.entries()) {
          console.log(`  ${key}: ${value}`);
        }
        alert('Check console for form data');
      });

      // Test value change events
      const inputs = document.querySelectorAll('ix-datetime-input');
      inputs.forEach((input, index) => {
        input.addEventListener('valueChange', (e) => {
          console.log(`Input ${index + 1} value changed:`, e.detail);
        });
        
        input.addEventListener('validityStateChange', (e) => {
          console.log(`Input ${index + 1} validity changed:`, e.detail);
        });
      });

      console.log('DateTime Input test page loaded. Total inputs:', inputs.length);
    </script>
  </body>
</html>
