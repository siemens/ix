---
doc-type: 'tab-item'
---
import PropsHeaderJavaScriptApi from '@site/docs/autogenerated/api/ix-modal-header/api.mdx';

import ModalConfig from '@site/docs/autogenerated/utils/modal-config.mdx';
import ModalInstance from '@site/docs/autogenerated/utils/modal-instance.mdx';

import ModalSizesPlayground from '@site/docs/autogenerated/playground/modal-sizes.mdx';
import Playground from '@site/src/components/Playground';
import modal_by_template_ts_angular from '@site/docs/autogenerated/usage/angular/modal-by-template.ts.md';
import modal_by_instance_ts_angular from '@site/docs/autogenerated/usage/angular/modal-by-instance.ts.md';
import modal_by_instance_content_ts_angular from '@site/docs/autogenerated/usage/angular/modal-by-instance-content.ts.md';
import modal_tsx_react from '@site/docs/autogenerated/usage/react/modal.tsx.md';
import modal_vue_vue from '@site/docs/autogenerated/usage/vue/modal.vue.md';
import modal_html_html from '@site/docs/autogenerated/usage/html/modal.html.md';
import loading_tsx_react from '@site/docs/autogenerated/usage/react/loading.tsx.md';
import message_tsx_react from '@site/docs/autogenerated/usage/react/message.tsx.md';
import ModalService from '@site/docs/autogenerated/utils/modal-service.mdx';

# Modal - Code

Our modals support the following sizes:

- `360`
- `480`
- `600`
- `720`
- `840`
- `full-width` - Modal extends to fill entire screen width (modal will still have some horizontal margin)
- `full-screen` - Modal extends to fill entire screen

The `size` can be configured over the configuration object of the `showModal` function.

<ModalSizesPlayground height="19rem" />

## Custom

How to open a modal depends on the framework in use. Note that you will not instantiate `ix-modal` on your own.
Select the appropriate section below for the respective usage information.

## Angular

### By template

<Playground
        name="modal" source={{angular: {
            'modal-by-template.ts': modal_by_template_ts_angular,
          }}}
        files={{angular: {
            'modal-by-template.ts': 'angular/modal-by-template.ts',
          }}}
        height={props.height}
        onlyFramework="angular"
        ></Playground>

### By instance

<Playground
        name="modal" source={{angular: {
            '"modal-by-instance.ts"': modal_by_instance_ts_angular,
            '"modal-by-instance-content.ts"': modal_by_instance_content_ts_angular,
          }}}
        files={{angular: {
            '"modal-by-instance.ts"': 'angular/"modal-by-instance.ts"',
            '"modal-by-instance-content.ts"': 'angular/"modal-by-instance-content.ts"',
          }}}
        height={props.height}
        onlyFramework="angular"
        ></Playground>

`@siemens/ix-angular` provides an injectable service that allows to open modal dialogs based on a `ng-template` reference or by component type.
If you want to pass arbitrary data to the modal use the `data`-property. In order to access that data inside the modal template, use `let-modal` as seen in the angular example above.

**ModalService**

```ts
open(config: ModalConfig<TData: any, TReason: any>): Promise<ModalInstance<TData>>
```

## React

`@siemens/ix-react` provides an function that allows to open modal dialogs based on a `JSXElement`.

<Playground
        name="modal" source={{react: {
            'modal.tsx': modal_tsx_react,
          }}}
        files={{react: {
            'modal.tsx': 'react/modal.tsx',
          }}}
        height={props.height}
        onlyFramework="react"
        ></Playground>

:::info Use context

It is highly recommended to provide the `IxApplicationContext` as part of your application.

:::

```tsx
ReactDOM.createRoot(document.getElementById('root') as HTMLElement).render(
  <IxApplicationContext>
    {/*
      <BrowserRouter>
        <App />
      </BrowserRouter>
    */}
  </IxApplicationContext>
);
```

## Vue

`@siemens/ix-vue` provides a function that allows to open modal dialogs based on a `VNode`.

<Playground
        name="modal" source={{vue: {
            'modal.vue': modal_vue_vue,
          }}}
        files={{vue: {
            'modal.vue': 'vue/modal.vue',
          }}}
        height={props.height}
        onlyFramework="vue"
        ></Playground>

:::info JSX/TSX support

The example above is using TSX. To add JSX/TSX support in your Vue project, 
please refer to the [Vue documentation](https://vuejs.org/guide/extras/render-function.html#jsx-tsx).
It is not required to use JSX and as an alternative you can use 
the [`h()`](https://vuejs.org/guide/extras/render-function.html#creating-vnodes) function to create the modal's VNode.

:::        

:::warning Use context

It is required to provide the `IxApplicationContext` as part of your application in order to use the `showModal` function.

:::

```vue
<script setup lang="ts">
import { IxApplicationContext } from '@siemens/ix-vue';
</script>

<template>
  <IxApplicationContext>
    <!-- <App /> -->
  </IxApplicationContext>
</template>
```

## Javascript

<Playground
        name="modal" source={{html: {
            'modal.html': modal_html_html,
          }}}
        files={{html: {
            'modal.html': 'html/modal.html',
          }}}
        height={props.height}
        onlyFramework="html"
        ></Playground>

## Loading

How to open a loading modal is independent of the framework in use. Note that you have to import `showModalLoading` from the core package `@siemens/ix`.

<Playground
        name="loading" source={{react: {
            'loading.tsx': loading_tsx_react,
          }}}
        files={{react: {
            'loading.tsx': 'react/loading.tsx',
          }}}
        height={props.height}
        onlyFramework="react"
        ></Playground>

## Message

How to open a message modal is independent of the framework in use. Note that you have to import `showMessage` from the core package `@siemens/ix`.

`showMessage` provides multiple pre-configured messages:

- info
- warning
- error
- success
- question

<Playground
        name="message" source={{react: {
            'message.tsx': message_tsx_react,
          }}}
        files={{react: {
            'message.tsx': 'react/message.tsx',
          }}}
        height={props.height}
        onlyFramework="react"
        ></Playground>

The `showMessage` method returns a Listener with the following signature:

```ts
TypedEvent<{
  actionId: string;
  payload: T;
}>;
```

`actionId` represents the configured action button.

<PropsHeaderJavaScriptApi />
<ModalConfig />
<ModalInstance />
<ModalService />
