"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[489],{50489:(e,i,a)=>{a.r(i),a.d(i,{ix_upload:()=>t});var l=a(98139),s=a(42825);const t=class{constructor(e){(0,l.r)(this,e),this.filesChanged=(0,l.c)(this,"filesChanged",7),this.multiple=!1,this.multiline=!1,this.disabled=!1,this.state=s.U.SELECT_FILE,this.selectFileText="+ Drag files here or\u2026",this.loadingText="Checking files\u2026",this.uploadFailedText="Upload failed. Please try again.",this.uploadSuccessText="Upload successful",this.i18nUploadFile="Upload file\u2026",this.i18nUploadDisabled="File upload currently not possible.",this.isFileOver=!1}get inputElement(){return this.hostElement.querySelector("#upload-browser")}fileDropped(e){e.preventDefault();const i=e.dataTransfer.files;this.isFileOver=!1,this.filesToUpload=this.convertToFileArray(i),this.filesChanged.emit(this.filesToUpload)}fileOver(e){e.preventDefault(),e.dataTransfer.dropEffect="move",!this.multiple&&e.dataTransfer.items.length>1?(e.preventDefault(),e.stopPropagation(),e.dataTransfer.effectAllowed="none",e.dataTransfer.dropEffect="none"):this.isFileOver=!0}fileLeave(){this.isFileOver=!1}fileChangeEvent(e){this.filesToUpload=this.convertToFileArray(e.target.files),this.filesChanged.emit(this.filesToUpload),this.inputElement.type="",this.inputElement.type="file"}convertToFileArray(e){let i=[];return i=e instanceof FileList?Array.from(e):[e],i}renderUploadState(){if(this.disabled)return(0,l.h)("span",{class:"state"},(0,l.h)("span",{class:"upload-text"},this.i18nUploadDisabled));switch(this.state){case s.U.SELECT_FILE:return(0,l.h)("span",{class:"state"},(0,l.h)("span",{class:"upload-text"},this.selectFileText));case s.U.LOADING:return(0,l.h)("span",{class:"state"},(0,l.h)("ix-spinner",{variant:"primary"}),(0,l.h)("span",{class:"upload-text"},this.loadingText));case s.U.UPLOAD_FAILED:return(0,l.h)("span",{class:"state"},(0,l.h)("i",{class:"glyph glyph-error"}),(0,l.h)("span",{class:"upload-text"},this.uploadFailedText));case s.U.UPLOAD_SUCCESSED:return(0,l.h)("span",{class:"state"},(0,l.h)("i",{class:"glyph glyph-success"}),(0,l.h)("span",{class:"upload-text"},this.uploadSuccessText));default:return""}}async setFilesToUpload(e){this.filesToUpload=e}render(){return(0,l.h)(l.H,null,(0,l.h)("div",{class:{"file-upload-area":!0,"file-over":this.isFileOver,checking:this.state===s.U.LOADING,disabled:this.disabled,multiline:this.multiline},onDrop:e=>this.fileDropped(e),onDragOver:e=>this.fileOver(e),onDragLeave:()=>this.fileLeave(),draggable:!this.disabled},this.renderUploadState(),(0,l.h)("div",null,(0,l.h)("input",{multiple:this.multiple,type:"file",class:"upload-browser",id:"upload-browser",onChange:e=>{this.fileChangeEvent(e)},accept:this.accept}),(0,l.h)("ix-button",{tabindex:"-1",outline:!0,onClick:()=>this.inputElement.click(),disabled:this.disabled||this.state===s.U.LOADING},this.i18nUploadFile))))}get hostElement(){return(0,l.g)(this)}};t.style=".sc-ix-upload-h{display:block;min-height:4rem;height:4rem}.sc-ix-upload-h .file-upload-area.sc-ix-upload{display:flex;flex-direction:row;align-items:center;justify-content:space-between;overflow:hidden;height:100%;width:100%;padding:1rem;border:1px dashed var(--theme-upload--border-color);border-radius:var(--theme-upload--border-radius);color:var(--theme-upload-text--color)}.sc-ix-upload-h .file-upload-area.multiline.sc-ix-upload{max-height:unset;height:auto}.sc-ix-upload-h .file-upload-area.multiline.sc-ix-upload .glyph.sc-ix-upload{align-self:flex-start;-webkit-margin-before:3px;margin-block-start:3px}.sc-ix-upload-h .file-upload-area.multiline.sc-ix-upload>div.sc-ix-upload{align-self:flex-start}.sc-ix-upload-h .file-upload-area.sc-ix-upload:not(.multiline) .state.sc-ix-upload,.sc-ix-upload-h .file-upload-area.sc-ix-upload:not(.multiline) .upload-text.sc-ix-upload{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sc-ix-upload-h .file-upload-area.file-over.sc-ix-upload{border-color:var(--theme-upload--border-color--dragover);border-style:solid}.sc-ix-upload-h .file-upload-area.checking.sc-ix-upload{color:var(--theme-upload-text--color--checking);border-style:solid}.sc-ix-upload-h .file-upload-area.disabled.sc-ix-upload{border-style:solid;color:var(--theme-upload-text--color--disabled)}.sc-ix-upload-h .file-upload-area.sc-ix-upload ix-button.sc-ix-upload{-webkit-margin-start:1rem;margin-inline-start:1rem}.sc-ix-upload-h .file-upload-area.sc-ix-upload .upload-browser.sc-ix-upload{opacity:0;overflow:hidden;position:absolute;z-index:-1}.sc-ix-upload-h .file-upload-area.sc-ix-upload .loader.sc-ix-upload{margin:2.187rem auto;font-size:0.937rem;width:1rem;height:1rem;border-radius:50%;position:relative;text-indent:-9999em;animation:optimise-loading 1.1s infinite ease;transform:translateZ(0)}.sc-ix-upload-h .file-upload-area.sc-ix-upload .upload-filename.sc-ix-upload{margin-bottom:1rem}.sc-ix-upload-h .file-upload-area.sc-ix-upload .state.sc-ix-upload{display:flex;align-items:center}.sc-ix-upload-h .file-upload-area.sc-ix-upload .state.sc-ix-upload>ix-spinner.sc-ix-upload{-webkit-margin-end:0.5rem;margin-inline-end:0.5rem;height:1.5rem;width:1.5rem}.sc-ix-upload-h .file-upload-area.sc-ix-upload .state.sc-ix-upload>i.sc-ix-upload{-webkit-margin-end:0.5rem;margin-inline-end:0.5rem}.sc-ix-upload-h .file-upload-area.sc-ix-upload .state.sc-ix-upload>i.glyph-error.sc-ix-upload{color:var(--theme-color-alarm)}.sc-ix-upload-h .file-upload-area.sc-ix-upload .state.sc-ix-upload>i.glyph-success.sc-ix-upload{color:var(--theme-color-success)}"}}]);