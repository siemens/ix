name: Deploy Preview

on:
  pull_request:
    types: [opened, synchronize, reopened, labeled]

jobs:
  netlify:
    runs-on: ubuntu-latest
    steps:

      # Useful if we try to also integrate other labels
      # - name: Find comments
      #   id: find_comments
      #   uses: actions-cool/issues-helper@v3
      #   with:
      #     actions: 'find-comments'
      #     token: ${{ secrets.GITHUB_TOKEN }}
      #     issue-number: ${{ github.event.issue.number }}
      #     comment-auth: 'github-actions[bot]'
      #     body-includes: 'ðŸ¤– Hello '

      # - uses: actions/github-script@v7
      #   id: filter-comment
      #   env:
      #     COMMENTS_RESULT: ${{ steps.find_comments.outputs.comments }}
      #   with:
      #     script: |
      #       const { COMMENTS_RESULT } = process.env;
      #       const comments = JSON.parse(COMMENTS_RESULT);

      #       if (comments.length === 1) {
      #         return comments[0].id;
      #       }

      #       return '';
      #     result-encoding: string

      - name: Deploy Preview for PR
        # if: "contains(github.event.pull_request.labels.*.name, 'Deploy Preview')"
        shell: bash
        run: |
          echo ${{ toJSON(github.event.pull_request) }}
        # uses: actions-cool/issues-helper@v3
        # with:
        #   actions: 'create-comment'
        #   token: ${{ secrets.GITHUB_TOKEN }}
        #   body: |
        #     ðŸ¤– Hello @${{ github.event.issue.user.login }}

        #     Your issue will be analyzed and is part of our internal workflow.
        #     To get informed about our workflow please checkout the [Contributing Guidelines](https://github.com/siemens/ix/blob/main/CONTRIBUTING.md#issue-workflow)

        #     JIRA: IX-000
