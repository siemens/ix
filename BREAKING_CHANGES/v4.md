# Breaking Changes v4

This document provides a comprehensive overview of all breaking changes introduced in Siemens Industrial Experience v4.

## Framework Packages

### `@siemens/ix-angular`

#### Angular 20 Requirement

Projects using `@siemens/ix-angular` must upgrade to Angular 20 before updating to this version.

**Migration steps:**

- Review the [Angular 20 changelog](https://angular.io/guide/releases) for migration requirements
- Ensure all third-party Angular libraries are compatible with v20
- Some APIs deprecated in previous Angular versions may have been removed

#### Theme Switcher Service

The deprecated Angular-specific theme switcher service has been removed.

Use the theme switcher from `@siemens/ix` instead of the Angular-specific service.

**Before:**

```typescript
import { themeSwitcher } from '@siemens/ix-angular';
```

**After:**

```typescript
import { themeSwitcher } from '@siemens/ix';
```

## Component Changes

### Remove `ix-map-navigation` and `ix-basic-navigation`

Replaced by `ix-application`. Checkout the [v4 migration guide](https://ix-dev.siemens.io/docs/home/migration/4_0_0#removed-basic-navigation-and-map-navigation)

### `i18n` attributes

Rename attribute names for all `i18n-*` properties.

New name:
From `i-1-8-n-my-attribute` to `i18n-my-attribute`.

Components:

- `ix-card-list`
- `ix-category-filter`
- `ix-datetime-picker`
- `ix-menu`
- `ix-menu-about-news`
- `ix-menu-avatar`
- `ix-pagination`
- `ix-select`
- `ix-update`

### ix-button and Related Button Components

The `outline` and `ghost` properties have been removed.

These properties are replaced 1:1 with new variant values:

**Before:**

```html
<!-- Primary outline -->
<ix-button variant="primary" outline>Button</ix-button>

<!-- Primary ghost -->
<ix-button variant="primary" ghost>Button</ix-button>

<!-- Secondary -->
<ix-button variant="secondary">Button</ix-button>

<!-- Secondary outline -->
<ix-button variant="secondary" outline>Button</ix-button>

<!-- Secondary ghost -->
<ix-button variant="secondary" ghost>Button</ix-button>
```

**After:**

```html
<!-- Primary outline → secondary -->
<ix-button variant="secondary">Button</ix-button>

<!-- Primary ghost → tertiary -->
<ix-button variant="tertiary">Button</ix-button>

<!-- Secondary → subtle-primary -->
<ix-button variant="subtle-primary">Button</ix-button>

<!-- Secondary outline → subtle-secondary -->
<ix-button variant="subtle-secondary">Button</ix-button>

<!-- Secondary ghost → subtle-tertiary -->
<ix-button variant="subtle-tertiary">Button</ix-button>
```

**Components affected:**

- `ix-button`
- `ix-icon-button`
- Other button-like components

### ix-application

Added `min-width: 0` to the content area to prevent flex container overflow.

If you have implemented workarounds for content area width issues, your application's layout might be affected by this change.

### ix-input-group

The deprecated `ix-input-group` component has been removed.

Use individual form components or the new form layout utilities instead.

### ix-validation-tooltip

The deprecated `ix-validation-tooltip` component has been removed.

Use form-ready components with built-in validation support.

**Before:**

```html
<ix-validation-tooltip message="Please enter your name.">
  <label class="ix-form-label" for="input-name">Name</label>
  <input class="ix-form-control" name="name" type="text" id="input-name" required />
</ix-validation-tooltip>
```

**After:**

```html
<ix-input label="Name" name="name" type="text" id="input-name" required invalid-text="Please enter your name."> </ix-input>
```

### ix-message-bar

The deprecated type value `'danger'` has been removed.
Use the type value `'alarm'` instead of `'danger'`.

**Before**

```html
<ix-message-bar type="danger">Message</ix-message-bar>
```

**After:**

```html
<ix-message-bar type="alarm">Message</ix-message-bar>
```

### ix-breadcrumb

Renamed property `ghost` to `subtle` and changed default value from `true` to `false`.

**Before:**

```html
<ix-breadcrumb></ix-breadcrumb>
```

**After:**

```html
<ix-breadcrumb subtle></ix-breadcrumb>
```

### ix-breadcrumb-item

Multiple properties have been renamed:

`ghost` -> `subtle`
`visible` -> `invisible`
`showChevron` -> `hideChevron`

All used to have a default value of `true`. They all default to `false` now.

**Before:**

```html
<ix-breadcrumb-item label="Level 1" ghost="false" visible="false" show-chevron="false"></ix-breadcrumb-item>
```

**After:**

```html
<ix-breadcrumb-item label="Home" subtle-primary invisible hide-chevron></ix-breadcrumb-item>
```

### ix-category-filter

Renamed property `repeatCategories` to `uniqueCategories` and changed default value from `true` to `false`.

**Before:**

```html
<ix-category-filter repeat-categories="false"></ix-category-filter>
```

**After:**

```html
<ix-category-filter unique-categories></ix-category-filter>
```

### ix-chip

Renamed `active` to `inactive` and changed default value from `true` to `false`.

**Before:**

```html
<ix-chip active="false"></ix-chip>
```

**After:**

```html
<ix-chip inactive></ix-chip>
```

### ix-event-list

Changed default value of property `animated` from `true` to `false`.

**Before:**

```html
<ix-event-list>
  <!-- event list items -->
</ix-event-list>
```

**After:**

```html
<ix-event-list animated>
  <!-- event list items -->
</ix-event-list>
```

### ix-group

Renamed property `collapsed` to `expanded` and event `collapsedChanged` to `expandedChanged`. The `expanded` property's default value is now `false`.

**Before:**

```html
<ix-group header="Group Header" collapsed="false">
  <ix-group-item>Item 1</ix-group-item>
</ix-group>
```

```javascript
group.addEventListener('collapsedChanged', (event) => {
  console.log('Group collapsed:', event.detail);
});
```

**After:**

```html
<ix-group header="Group Header" expanded>
  <ix-group-item>Item 1</ix-group-item>
</ix-group>
```

```javascript
group.addEventListener('expandedChanged', (event) => {
  console.log('Group expanded:', event.detail);
});
```

### ix-group-item

Renamed `focusable` to `disabled` and changed default value from `true` to `false`.

**Before:**

```html
<ix-group-item focusable="false">Disabled item</ix-group-item>
```

**After:**

```html
<ix-group-item disabled>Disabled item</ix-group-item>
```

### ix-menu-avatar

Renamed `showLogoutButton` to `hideLogoutButton` and changed default value from `true` to `false`.

**Before:**

```html
<ix-menu-avatar top="John Doe" bottom="Admin" show-logout-button="false"> </ix-menu-avatar>
```

**After:**

```html
<ix-menu-avatar top="John Doe" bottom="Admin" hide-logout-button> </ix-menu-avatar>
```

### ix-menu

Removed unused property `enableSettings`.

### ix-message-bar

Renamed property `dismissible` to `persistent` and changed default value from `true` to `false`.

**Before:**

```html
<ix-message-bar type="warning" dismissible="false"> Persistent warning </ix-message-bar>
```

**After:**

```html
<ix-message-bar type="warning" persistent> Persistent warning </ix-message-bar>
```

### ix-modal

Multiple boolean properties have been renamed:

`animation` -> `disableAnimation`
`backdrop` -> `hideBackdrop`
`closeOnEscape` -> `disableEscapeClose`

All used to have a default value of `true`. They all default to `false` now.

**Before:**

```html
<!-- Modal with customized behavior -->
<ix-modal animation="false" backdrop="false" close-on-escape="false"> Modal content </ix-modal>
```

**After:**

```html
<ix-modal disable-animation hide-backdrop disable-escape-close> Modal content </ix-modal>
```

### ix-toast

Renamed property `autoClose` to `preventAutoClose` and changed the default value from `true` to `false`.

**Before:**

```html
<ix-toast autoClose="{false}">Toast message</ix-toast>
```

**After:**

```html
<ix-toast prevent-auto-close>Toast message</ix-toast>
```

### ix-push-card

Renamed property `collapse` to `expanded` and changed default value from `true` to `false`.

**Before:**

```html
<ix-push-card collapsed="{false}">Card content</ix-push-card>
```

**After:**

```html
<ix-push-card expanded="{true}">Card content</ix-push-card>
```

### ix-pagination

Renamed property `showItemCount` to `hideItemCount` and changed default value from `true` to `false`.

**Before:**

```html
<ix-pagination showItemCount="{false}" count="{10}"></ix-pagination>
```

**After:**

```html
<ix-pagination hideItemCount="{true}" count="{10}"></ix-pagination>
```

### ix-date-dropdown

Renamed `customRangeAllowed` to `customRangeDisabled` and changed default value from `true` to `false`.

**Before:**

```html
<ix-date-dropdown custom-range-allowed="false"></ix-date-dropdown>
```

**After:**

```html
<ix-date-dropdown custom-range-disabled></ix-date-dropdown>
```

### ix-time-picker and ix-datetime-picker

The deprecated properties `showHour`, `showMinutes`, and `showSeconds` have been removed.
These properties had no effect on the components. Their functionality is already covered by other properties like `time` and `format`.

### ix-date-picker and ix-datetime-picker

Renamed property `range` to `singleSelection` and changed default value from `true` to `false`.

**Before:**

```html
<ix-date-picker range="false"></ix-date-picker>
<ix-datetime-picker range="false"></ix-date-picker>
```

**After:**

```html
<ix-date-picker single-selection></ix-date-picker>
<ix-datetime-picker single-selection></ix-date-picker>
```

### ix-time-picker

Renamed property `standaloneAppearance` to `embedded` and changed default value from `true` to `false`.

**Before:**

```html
<ix-time-picker standalone-appearance="false"></ix-time-picker>
```

**After:**

```html
<!-- Embedded appearance -->
<ix-time-picker embedded></ix-time-picker>
```

### ix-menu-about-news

- Removed unused `offsetBottom` property. No migration required - this property had no effect and can be safely removed from your code.

### ix-aggrid

The AG Grid version has been updated and now requires v33 or v34. We are also providing a new brand-aligned iX theme through the new AG Grid theming API.

Remove the `ix-aggrid.css` import:

```scss
// ❌ Remove all occurrences of this line
@import '@siemens/ix-aggrid/dist/ix-aggrid/ix-aggrid.css';
```

The `ag-theme-alpine-dark` and `ag-theme-ix` classes don’t have to be applied anymore:

```html
<!-- ❌ Remove these classes -->
<div class="ag-theme-alpine-dark ag-theme-ix"></div>
```

Configure the theme using the new theming API:

```javascript
import { getIxTheme, getIxThemeAsync } from '@siemens/ix-aggrid';
import * as agGrid from 'ag-grid-community';

// Get iX theme based on your AG Grid module
const ixTheme = getIxTheme(agGrid);
// Alternative: Use async import
const ixTheme = await getIxThemeAsync(() => import('ag-grid-community'));

// Option 1: Set the theme per grid instance
const gridOptions = {
  theme: ixTheme,
  // ... other options
};

// Option 2: Set the theme globally for all grids
// Note: Must be called before initializing any grid instance
agGrid.provideGlobalGridOptions({
  theme: ixTheme,
});
```

## Theme

### Theme switcher

The **themeSwitcher**'s **setTheme** and **setVariant** methods no longer take a target parameter. Before this parameter was used to specify the target element to set/change the theme configurations on.
Now all configuration will be made on the HTML tag. Target did default to **document.documentElement** already.

Before:

```html
<body data-ix-theme="classic" data-ix-color-schema="dark">
  ..
</body>
```

```ts
themeSwitcher.setVariant('light', document.body);
```

After:

```html
<html data-ix-theme="classic" data-ix-color-schema="dark">
  ..
</html>
```

```ts
themeSwitcher.setVariant('light');
```

### ix-flip-tile

- Rename property `state` to `variant`
- Rename `FlipTileState` to `FlipTileVariant`